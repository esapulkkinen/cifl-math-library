<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<!-- Generated by HsColour, http://code.haskell.org/~malcolm/hscolour/ -->
<title>Math/Tools/Arrows.lhs</title>
<link type='text/css' rel='stylesheet' href='hscolour.css' />
</head>
<body>
<pre><a name="line-1"></a><span class='hs-varop'>&gt;</span><span class='hs-comment'>{-# LANGUAGE RankNTypes, TypeOperators, MultiParamTypeClasses, ExistentialQuantification #-}</span>
<a name="line-2"></a><span class='hs-varop'>&gt;</span><span class='hs-keyword'>module</span> <span class='hs-conid'>Math</span><span class='hs-varop'>.</span><span class='hs-conid'>Tools</span><span class='hs-varop'>.</span><span class='hs-conid'>Arrows</span> <span class='hs-keyword'>where</span>
<a name="line-3"></a><span class='hs-varop'>&gt;</span><span class='hs-keyword'>import</span> <span class='hs-conid'>Math</span><span class='hs-varop'>.</span><span class='hs-conid'>Tools</span><span class='hs-varop'>.</span><span class='hs-conid'>Adjunction</span>
<a name="line-4"></a><span class='hs-varop'>&gt;</span><span class='hs-keyword'>import</span> <span class='hs-conid'>Math</span><span class='hs-varop'>.</span><span class='hs-conid'>Tools</span><span class='hs-varop'>.</span><span class='hs-conid'>NaturalTransformation</span>
</pre>
<pre><a name="line-5"></a><span class='hs-varop'>&gt;</span><span class='hs-keyword'>class</span> <span class='hs-conid'>CategoryA</span> <span class='hs-varid'>a</span> <span class='hs-keyword'>where</span>
<a name="line-6"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>idA</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-varid'>b</span> <span class='hs-varid'>b</span>
<a name="line-7"></a><span class='hs-varop'>&gt;</span>      <span class='hs-layout'>(</span><span class='hs-varop'>&gt;&gt;&gt;</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-varid'>c</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-varid'>b</span> <span class='hs-varid'>c</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-varid'>b</span> <span class='hs-varid'>d</span>
</pre>
<pre><a name="line-8"></a><span class='hs-varop'>&gt;</span><span class='hs-keyword'>class</span> <span class='hs-layout'>(</span><span class='hs-conid'>CategoryA</span> <span class='hs-varid'>a</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>NaturalA</span> <span class='hs-varid'>a</span> <span class='hs-varid'>z</span> <span class='hs-keyword'>where</span>
<a name="line-9"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>componentA</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:~&gt;</span> <span class='hs-varid'>g</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span> <span class='hs-varid'>z</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>g</span> <span class='hs-varid'>z</span><span class='hs-layout'>)</span>
</pre>
<pre><a name="line-10"></a><span class='hs-varop'>&gt;</span><span class='hs-keyword'>class</span> <span class='hs-layout'>(</span><span class='hs-conid'>CategoryA</span> <span class='hs-varid'>a</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>FunctorA</span> <span class='hs-varid'>a</span> <span class='hs-varid'>f</span> <span class='hs-keyword'>where</span>
<a name="line-11"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>mapA</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-varid'>b</span> <span class='hs-varid'>c</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span> <span class='hs-varid'>b</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span>
</pre>
<pre><a name="line-12"></a><span class='hs-varop'>&gt;</span><span class='hs-keyword'>class</span> <span class='hs-layout'>(</span><span class='hs-conid'>CategoryA</span> <span class='hs-varid'>a</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>ProductA</span> <span class='hs-varid'>a</span> <span class='hs-keyword'>where</span>
<a name="line-13"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>productA</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-varid'>b</span> <span class='hs-varid'>c</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-varid'>b</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-varid'>b</span> <span class='hs-layout'>(</span><span class='hs-varid'>c</span><span class='hs-layout'>,</span><span class='hs-varid'>d</span><span class='hs-layout'>)</span>
<a name="line-14"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>fstsndA</span>   <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-varid'>a</span> <span class='hs-layout'>(</span><span class='hs-varid'>b</span><span class='hs-layout'>,</span><span class='hs-varid'>c</span><span class='hs-layout'>)</span> <span class='hs-varid'>b</span><span class='hs-layout'>,</span> <span class='hs-varid'>a</span> <span class='hs-layout'>(</span><span class='hs-varid'>b</span><span class='hs-layout'>,</span><span class='hs-varid'>c</span><span class='hs-layout'>)</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span>
<a name="line-15"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>crossA</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-varid'>b</span> <span class='hs-varid'>c</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-varid'>d</span> <span class='hs-varid'>e</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-layout'>(</span><span class='hs-varid'>b</span><span class='hs-layout'>,</span><span class='hs-varid'>d</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>c</span><span class='hs-layout'>,</span><span class='hs-varid'>e</span><span class='hs-layout'>)</span>
</pre>
<pre><a name="line-16"></a><span class='hs-varop'>&gt;</span><span class='hs-keyword'>class</span> <span class='hs-layout'>(</span><span class='hs-conid'>CategoryA</span> <span class='hs-varid'>a</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>CartesianA</span> <span class='hs-varid'>a</span> <span class='hs-keyword'>where</span>
<a name="line-17"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>lambdaA</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-layout'>(</span><span class='hs-varid'>ctx</span><span class='hs-layout'>,</span><span class='hs-varid'>b</span><span class='hs-layout'>)</span> <span class='hs-varid'>c</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-varid'>ctx</span> <span class='hs-layout'>(</span><span class='hs-varid'>b</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span>
<a name="line-18"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>applyA</span>  <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-layout'>(</span><span class='hs-varid'>b</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>c</span><span class='hs-layout'>,</span> <span class='hs-varid'>b</span><span class='hs-layout'>)</span> <span class='hs-varid'>c</span>
</pre>
<pre><a name="line-19"></a><span class='hs-varop'>&gt;</span><span class='hs-keyword'>class</span> <span class='hs-layout'>(</span><span class='hs-conid'>CategoryA</span> <span class='hs-varid'>a</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>ChoiceA</span> <span class='hs-varid'>a</span> <span class='hs-keyword'>where</span>
<a name="line-20"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>plusA</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-varid'>b</span> <span class='hs-varid'>c</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-varid'>d</span> <span class='hs-varid'>e</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-layout'>(</span><span class='hs-conid'>Either</span> <span class='hs-varid'>b</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-conid'>Either</span> <span class='hs-varid'>c</span> <span class='hs-varid'>e</span><span class='hs-layout'>)</span>
<a name="line-21"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>whileLeftA</span>  <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-layout'>(</span><span class='hs-conid'>Either</span> <span class='hs-varid'>a'</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-conid'>Either</span> <span class='hs-varid'>b</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-varid'>a'</span> <span class='hs-varid'>b</span>
<a name="line-22"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>whileRightA</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-layout'>(</span><span class='hs-conid'>Either</span> <span class='hs-varid'>c</span> <span class='hs-varid'>a'</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-conid'>Either</span> <span class='hs-varid'>c</span> <span class='hs-varid'>b</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-varid'>a'</span> <span class='hs-varid'>b</span>
</pre>
<pre><a name="line-23"></a><span class='hs-varop'>&gt;</span><span class='hs-keyword'>class</span> <span class='hs-layout'>(</span><span class='hs-conid'>CategoryA</span> <span class='hs-varid'>a</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>AlternativesA</span> <span class='hs-varid'>a</span> <span class='hs-keyword'>where</span>
<a name="line-24"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>joinAltsA</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-layout'>(</span><span class='hs-conid'>Either</span> <span class='hs-varid'>b</span> <span class='hs-varid'>b</span><span class='hs-layout'>)</span> <span class='hs-varid'>b</span>
<a name="line-25"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>inlA</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-varid'>b</span> <span class='hs-layout'>(</span><span class='hs-conid'>Either</span> <span class='hs-varid'>b</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span>
<a name="line-26"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>inrA</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-varid'>c</span> <span class='hs-layout'>(</span><span class='hs-conid'>Either</span> <span class='hs-varid'>b</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span>
</pre>
Adaptation of ideas from: Roy L. Crole: Categories for Types.

class (CategoryA a) => LimitA a where
      limA :: (Const c) :~> f -> (Const (Lim f)) :~> f -> a c (Lim f)
      colimA :: f :~> (Const c) -> f :~> (Const (Colim f)) -> a (Colim f) c

data Const c a = Const c
data Lim f dom = Lim dom (forall a. f a)
data Colim f dom = forall a. Colim dom (f a)

<pre><a name="line-27"></a><span class='hs-varop'>&gt;</span><span class='hs-keyword'>class</span> <span class='hs-conid'>DataStoreA</span> <span class='hs-varid'>a</span> <span class='hs-keyword'>where</span>
<a name="line-28"></a><span class='hs-varop'>&gt;</span>      <span class='hs-varid'>delayA</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>b</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>a</span> <span class='hs-varid'>b</span> <span class='hs-varid'>b</span>
</pre></body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span> </span><span class="hs-comment">-- -*- coding: utf-8 -*-</span><span>
</span><span id="line-2"></span><span> </span><span class="hs-pragma">{-# LANGUAGE Safe,FlexibleInstances, MultiParamTypeClasses, FlexibleContexts, ScopedTypeVariables, TypeOperators, TypeFamilies, PatternGuards, UnicodeSyntax #-}</span><span>
</span><span id="line-3"></span><span> </span><span class="hs-pragma">{-# LANGUAGE DataKinds, UndecidableInstances #-}</span><span>
</span><span id="line-4"></span><span> </span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Math.Number.Real</span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">(</span><span>
</span><span id="line-6"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier">R</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier">Limit</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier">Modulus</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#d"><span class="hs-identifier">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier">liftReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#convergence_ratio_test"><span class="hs-identifier">convergence_ratio_test</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#average_convergence_ratio"><span class="hs-identifier">average_convergence_ratio</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#list_average"><span class="hs-identifier">list_average</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#cauchy"><span class="hs-identifier">cauchy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#cseq_difference_matrix"><span class="hs-identifier">cseq_difference_matrix</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#cauchy_sequence_equivalence"><span class="hs-identifier">cauchy_sequence_equivalence</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#cseq_equivalence_matrix"><span class="hs-identifier">cseq_equivalence_matrix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#cseq_convergence"><span class="hs-identifier">cseq_convergence</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#cseq_equivalence_list"><span class="hs-identifier">cseq_equivalence_list</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#converges"><span class="hs-identifier">converges</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#increase_accuracy_by"><span class="hs-identifier">increase_accuracy_by</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>  </span><span class="annot"><a href="Math.Number.StreamInterface.html#partial_derive"><span class="hs-identifier">partial_derive</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#partial_derivate_closure"><span class="hs-identifier">partial_derivate_closure</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#partial_derivate"><span class="hs-identifier">partial_derivate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#partial_derivate_endo"><span class="hs-identifier">partial_derivate_endo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#complex_derivate"><span class="hs-identifier">complex_derivate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#average"><span class="hs-identifier">average</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#completenessOfReals"><span class="hs-identifier">completenessOfReals</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier">liftRClosure</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#limit_real"><span class="hs-identifier">limit_real</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#lift_real"><span class="hs-identifier">lift_real</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#series"><span class="hs-identifier">series</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#supremum_gen"><span class="hs-identifier">supremum_gen</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#negate_limit"><span class="hs-identifier">negate_limit</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#infimum_gen"><span class="hs-identifier">infimum_gen</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#infinity"><span class="hs-identifier">infinity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#infinity_gen"><span class="hs-identifier">infinity_gen</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#negative_infinity_gen"><span class="hs-identifier">negative_infinity_gen</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#limit_below"><span class="hs-identifier">limit_below</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#limit_above"><span class="hs-identifier">limit_above</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#limit_both"><span class="hs-identifier">limit_both</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#negative_infinity"><span class="hs-identifier">negative_infinity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#epsilon_linear"><span class="hs-identifier">epsilon_linear</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#increase_accuracy"><span class="hs-identifier">increase_accuracy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#lessthan_precision"><span class="hs-identifier">lessthan_precision</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#limiting_distance"><span class="hs-identifier">limiting_distance</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#distance_matrix"><span class="hs-identifier">distance_matrix</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#at_precision_rational"><span class="hs-identifier">at_precision_rational</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#at_precision"><span class="hs-identifier">at_precision</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#precision_rational"><span class="hs-identifier">precision_rational</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#real_derivate"><span class="hs-identifier">real_derivate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#real_exp"><span class="hs-identifier">real_exp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#derivate_closed"><span class="hs-identifier">derivate_closed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#vector_derivate"><span class="hs-identifier">vector_derivate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#pseudo_derivate"><span class="hs-identifier">pseudo_derivate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#derivates_at"><span class="hs-identifier">derivates_at</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#derivate_around"><span class="hs-identifier">derivate_around</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#partial_derivate1_2"><span class="hs-identifier">partial_derivate1_2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#partial_derivate2_2"><span class="hs-identifier">partial_derivate2_2</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="Math.Number.StreamInterface.html#partial_derivate1_3"><span class="hs-identifier">partial_derivate1_3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#partial_derivate2_3"><span class="hs-identifier">partial_derivate2_3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#partial_derivate3_3"><span class="hs-identifier">partial_derivate3_3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#agm"><span class="hs-identifier">agm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#expo"><span class="hs-identifier">expo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#newtons_method"><span class="hs-identifier">newtons_method</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#eigenvalue"><span class="hs-identifier">eigenvalue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#integrate_vector"><span class="hs-identifier">integrate_vector</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#integrate"><span class="hs-identifier">integrate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#integral_real"><span class="hs-identifier">integral_real</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#integral_rational"><span class="hs-identifier">integral_rational</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#integrate_curve"><span class="hs-identifier">integrate_curve</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#gamma_via_integral"><span class="hs-identifier">gamma_via_integral</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#approximately_equal"><span class="hs-identifier">approximately_equal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#approximately_eq"><span class="hs-identifier">approximately_eq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#constructively_less"><span class="hs-identifier">constructively_less</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#equality"><span class="hs-identifier">equality</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#signum_real"><span class="hs-identifier">signum_real</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#show_at_precision_real"><span class="hs-identifier">show_at_precision_real</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#properFraction_real"><span class="hs-identifier">properFraction_real</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#enumFromThenToReal"><span class="hs-identifier">enumFromThenToReal</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#fromThenTo"><span class="hs-identifier">fromThenTo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#fromTo"><span class="hs-identifier">fromTo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#enumFromToReal"><span class="hs-identifier">enumFromToReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#realEnumFromThenTo"><span class="hs-identifier">realEnumFromThenTo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#strEnumFromThenTo"><span class="hs-identifier">strEnumFromThenTo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#toReal"><span class="hs-identifier">toReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#logarithm"><span class="hs-identifier">logarithm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#euler_constant"><span class="hs-identifier">euler_constant</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#napiers_constant"><span class="hs-identifier">napiers_constant</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#logarithm_by_newton"><span class="hs-identifier">logarithm_by_newton</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#invert_by_newton"><span class="hs-identifier">invert_by_newton</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#exp_by_powers"><span class="hs-identifier">exp_by_powers</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#exp_by_powers_real"><span class="hs-identifier">exp_by_powers_real</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#sum_generating_function"><span class="hs-identifier">sum_generating_function</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#riemann_zeta"><span class="hs-identifier">riemann_zeta</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#riemann_zeta_real"><span class="hs-identifier">riemann_zeta_real</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#riemann_zeta_complex"><span class="hs-identifier">riemann_zeta_complex</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#encodeInBase"><span class="hs-identifier">encodeInBase</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#fromFloat"><span class="hs-identifier">fromFloat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#golden_ratio"><span class="hs-identifier">golden_ratio</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#slow_golden_ratio"><span class="hs-identifier">slow_golden_ratio</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#logistic"><span class="hs-identifier">logistic</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><a href="Math.Number.Interface.html#floating_approximations"><span class="hs-identifier">floating_approximations</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#logarithm_by_power"><span class="hs-identifier">logarithm_by_power</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#tetrate"><span class="hs-identifier">tetrate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#tetrate2"><span class="hs-identifier">tetrate2</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#log_newton"><span class="hs-identifier">log_newton</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#exp_by_series2"><span class="hs-identifier">exp_by_series2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#exp_by_series"><span class="hs-identifier">exp_by_series</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#sin_by_series"><span class="hs-identifier">sin_by_series</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#cos_by_series"><span class="hs-identifier">cos_by_series</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#approximate_sums_modulus"><span class="hs-identifier">approximate_sums_modulus</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-identifier">withInverseModulus</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#partial_derivate_linear"><span class="hs-identifier">partial_derivate_linear</span></a></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-33"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">zipWith</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier">take</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier">zip</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier">zip3</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">id</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.)</span></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Fix</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fix</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>
</span><span id="line-36"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Control.Category</span></span><span>
</span><span id="line-37"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Type.Equality</span></span><span>
</span><span id="line-38"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Complex</span></span><span>
</span><span id="line-39"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Ratio</span></span><span>
</span><span id="line-40"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Monoid</span></span><span>
</span><span id="line-41"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Functor.html"><span class="hs-identifier">Math.Tools.Functor</span></a></span><span>
</span><span id="line-42"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Visitor.html"><span class="hs-identifier">Math.Tools.Visitor</span></a></span><span>
</span><span id="line-43"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Median.html"><span class="hs-identifier">Math.Tools.Median</span></a></span><span>
</span><span id="line-44"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Orthogonal.html"><span class="hs-identifier">Math.Tools.Orthogonal</span></a></span><span>
</span><span id="line-45"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Adjunction.html"><span class="hs-identifier">Math.Tools.Adjunction</span></a></span><span>
</span><span id="line-46"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.PrettyP.html"><span class="hs-identifier">Math.Tools.PrettyP</span></a></span><span>
</span><span id="line-47"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Arrow.html"><span class="hs-identifier">Math.Tools.Arrow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Tools.Arrow.html#BiArrow"><span class="hs-identifier">BiArrow</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Isomorphism.html"><span class="hs-identifier">Math.Tools.Isomorphism</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Tools.Isomorphism.html#%3A%3D%3D%3A"><span class="hs-operator">(:==:)</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html"><span class="hs-identifier">Math.Matrix.Interface</span></a></span><span>
</span><span id="line-50"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Matrix.Matrix.html"><span class="hs-identifier">Math.Matrix.Matrix</span></a></span><span>
</span><span id="line-51"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html"><span class="hs-identifier">Math.Matrix.Linear</span></a></span><span>
</span><span id="line-52"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html"><span class="hs-identifier">Math.Number.StreamInterface</span></a></span><span>
</span><span id="line-53"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Number.Interface.html"><span class="hs-identifier">Math.Number.Interface</span></a></span><span>
</span><span id="line-54"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Number.Stream.html"><span class="hs-identifier">Math.Number.Stream</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">logarithm</span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Math.Number.Stream.html"><span class="hs-identifier">Math.Number.Stream</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Stream</span></span><span>
</span><span id="line-56"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Prop.html"><span class="hs-identifier">Math.Tools.Prop</span></a></span><span>
</span><span id="line-57"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Matrix.Instances.html"><span class="hs-identifier">Math.Matrix.Instances</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Instances.html#characteristicPolynomial"><span class="hs-identifier">characteristicPolynomial</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span> </span><span class="hs-comment">-- | Problem with this representation: real number ranges cannot be represented.</span><span>
</span><span id="line-62"></span><span> </span><span class="hs-comment">-- given two rational numbers \(r_1 &lt; r_2\), it should be there are infinitely</span><span>
</span><span id="line-63"></span><span> </span><span class="hs-comment">-- many real numbers between \(r_1\) and \(r_2\), so support density of irrationals.</span><span>
</span><span id="line-64"></span><span> </span><span class="hs-comment">-- &lt;https://en.wikipedia.org/wiki/Dense_order&gt;</span><span>
</span><span id="line-65"></span><span> </span><span class="hs-comment">-- </span><span>
</span><span id="line-66"></span><span> </span><span class="hs-comment">-- In constructive mathematics, given two real numbers \(r_1' &lt; r_2'\), there</span><span>
</span><span id="line-67"></span><span> </span><span class="hs-comment">-- should exist a rational number r, such that \(r_1' &lt; r\) and \(r &lt; r_2'\).</span><span>
</span><span id="line-68"></span><span> </span><span class="hs-comment">-- HOWEVER, these comparisons are a type error for Eq class. In particular this</span><span>
</span><span id="line-69"></span><span> </span><span class="hs-comment">-- cannot be used to _define_ how to compare two real numbers.</span><span>
</span><span id="line-70"></span><span> </span><span class="hs-comment">-- </span><span>
</span><span id="line-71"></span><span> </span><span class="hs-comment">-- what is meant is if \(r_1' &lt; r_2'\)</span><span>
</span><span id="line-72"></span><span> </span><span class="hs-comment">--                  then there exists a rational r</span><span>
</span><span id="line-73"></span><span> </span><span class="hs-comment">--                  such that \(r_1' &lt; {\mathbf{fromRational}}(r)\) and \({\mathbf{fromRational}}(r) &lt; r_2'\)</span><span>
</span><span id="line-74"></span><span> </span><span class="hs-comment">-- </span><span>
</span><span id="line-75"></span><span> </span><span class="hs-comment">-- In here properties of \({\mathbf{fromRational}}\) are important. Note that comparisons</span><span>
</span><span id="line-76"></span><span> </span><span class="hs-comment">-- invoke the real comparison, so at most is a recursive definition</span><span>
</span><span id="line-77"></span><span> </span><span class="hs-comment">-- of real comparison in terms of itself. But it doesn't include</span><span>
</span><span id="line-78"></span><span> </span><span class="hs-comment">-- termination condition.</span><span>
</span><span id="line-79"></span><span> </span><span class="hs-comment">-- </span><span>
</span><span id="line-80"></span><span> </span><span class="hs-comment">-- It should be so that _if_ two real numbers \(r_1\) and \(r_2\) are not the same</span><span>
</span><span id="line-81"></span><span> </span><span class="hs-comment">-- real number, then \(r_1 &lt; r_2\) makes sense. But comparing whether two real</span><span>
</span><span id="line-82"></span><span> </span><span class="hs-comment">-- numbers are the same is undecidable (algorithm for this comparison</span><span>
</span><span id="line-83"></span><span> </span><span class="hs-comment">-- will not halt if they are same). Would this mean that if \(r_1 &lt; r_2\) is</span><span>
</span><span id="line-84"></span><span> </span><span class="hs-comment">-- computable, wouldn't \(\neg(r_1 &lt; r_2 \lor r_2 &lt; r_1)\) be computable equality of reals;</span><span>
</span><span id="line-85"></span><span> </span><span class="hs-comment">-- This is computable in the limit , but not computable? &lt;https://en.wikipedia.org/wiki/Computation_in_the_limit&gt;</span><span>
</span><span id="line-86"></span><span> </span><span class="hs-comment">--</span><span>
</span><span id="line-87"></span><span> </span><span class="hs-comment">-- So we are forced to consider only comparison between a rational and a real,</span><span>
</span><span id="line-88"></span><span> </span><span class="hs-comment">-- but not between two reals. This is encapsulated in</span><span>
</span><span id="line-89"></span><span> </span><span class="hs-comment">-- the &quot;Math.Tools.Interface.DedekindCut&quot; type class.</span><span>
</span><span id="line-90"></span><span> </span><span class="hs-comment">-- </span><span>
</span><span id="line-91"></span><span> </span><span class="hs-comment">-- The solution is that when comparing a rational with a real,</span><span>
</span><span id="line-92"></span><span> </span><span class="hs-comment">-- the rational's denominator determines the accuracy used.</span><span>
</span><span id="line-93"></span><span> </span><span class="hs-comment">-- This additional information makes comparison between a rational and a real</span><span>
</span><span id="line-94"></span><span> </span><span class="hs-comment">-- decidable, but doesn't help when comparing two reals.</span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span> </span><span class="hs-keyword">newtype</span><span> </span><span id="R"><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-var">R</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Limit"><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="approximate"><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var hs-var">approximate</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-97"></span><span> </span><span class="hs-keyword">data</span><span> </span><span id="Modulus"><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-var">Modulus</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Modulus"><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-var">Modulus</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="modulus_value"><span class="annot"><span class="annottext">Modulus -&gt; R
</span><a href="Math.Number.Real.html#modulus_value"><span class="hs-identifier hs-var hs-var">modulus_value</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">,</span><span> </span><span id="modulus"><span class="annot"><span class="annottext">Modulus -&gt; Rational -&gt; Integer
</span><a href="Math.Number.Real.html#modulus"><span class="hs-identifier hs-var hs-var">modulus</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681379769"><span id="local-6989586621681379773"><span id="local-6989586621681379776"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-100"></span><span>   </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681379783"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379783"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681379784"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681379784"><span class="hs-identifier hs-var">xr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681379785"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Rational -&gt; Bool
</span><a href="#local-6989586621681379785"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681379787"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379787"><span class="hs-identifier hs-var">q</span></a></span></span><span>
</span><span id="line-101"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379783"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379787"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379783"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379787"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-102"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681379784"><span class="hs-identifier hs-var">xr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379787"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-103"></span><span>   </span><span id="local-6989586621681379794"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379794"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span id="local-6989586621681379795"><span class="annot"><span class="annottext">%&lt; :: Rational -&gt; R -&gt; Bool
</span><a href="#local-6989586621681379795"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681379797"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379797"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681379798"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681379798"><span class="hs-identifier hs-var">xr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379797"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379794"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379794"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379797"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-105"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681379794"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681379798"><span class="hs-identifier hs-var">xr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681379805"><span id="local-6989586621681379809"><span id="local-6989586621681379812"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-108"></span><span>   </span><span id="local-6989586621681379817"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681379817"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681379818"><span class="annot"><span class="annottext">%&lt; :: Int -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681379819"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681379819"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681379817"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681379819"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-109"></span><span>   </span><span id="local-6989586621681379823"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681379823"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681379824"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Int -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681379825"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681379825"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681379823"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681379825"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681379831"><span id="local-6989586621681379835"><span id="local-6989586621681379838"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-112"></span><span>   </span><span id="local-6989586621681379843"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681379843"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681379844"><span class="annot"><span class="annottext">%&lt; :: Integer -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681379845"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681379845"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681379843"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681379845"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-113"></span><span>   </span><span id="local-6989586621681379849"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681379849"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681379850"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Integer -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681379851"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681379851"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681379849"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681379851"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681379858"><span id="local-6989586621681379862"><span id="local-6989586621681379865"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-116"></span><span>   </span><span id="local-6989586621681379871"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681379871"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681379872"><span class="annot"><span class="annottext">%&lt; :: Word -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681379873"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681379873"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681379871"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681379873"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-117"></span><span>   </span><span id="local-6989586621681379877"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681379877"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681379878"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Word -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681379879"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681379879"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681379877"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681379879"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span> </span><span class="annot"><span class="hs-comment">-- | d x = partial_derivate x </span></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span> </span><span id="local-6989586621681379017"><span class="annot"><a href="Math.Number.Real.html#d"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379017"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379017"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379017"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379017"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379017"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-122"></span><span> </span><span id="d"><span class="annot"><span class="annottext">d :: forall a.
Infinitesimal Stream a =&gt;
(a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#d"><span class="hs-identifier hs-var hs-var">d</span></a></span></span><span> </span><span id="local-6989586621681379895"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681379895"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681379896"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681379896"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall (str :: * -&gt; *) a.
Infinitesimal str a =&gt;
(a -&gt; a) -&gt; a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#derivate_closed"><span class="hs-identifier hs-var">derivate_closed</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681379895"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681379896"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; (a -&gt; Closure Stream a) -&gt; Closure Stream a
forall (s :: * -&gt; *) a b.
(Limiting s a, Limiting s b) =&gt;
Closure s a -&gt; (a -&gt; Closure s b) -&gt; Closure s b
</span><a href="Math.Number.Stream.html#.%3E%3E%3D."><span class="hs-operator hs-var">.&gt;&gt;=.</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681379898"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681379898"><span class="hs-identifier hs-var">derx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-123"></span><span>              </span><span class="annot"><span class="annottext">Closure Stream a
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#epsilon_closure"><span class="hs-identifier hs-var">epsilon_closure</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; (a -&gt; Closure Stream a) -&gt; Closure Stream a
forall (s :: * -&gt; *) a b.
(Limiting s a, Limiting s b) =&gt;
Closure s a -&gt; (a -&gt; Closure s b) -&gt; Closure s b
</span><a href="Math.Number.Stream.html#.%3E%3E%3D."><span class="hs-operator hs-var">.&gt;&gt;=.</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681379900"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681379900"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-124"></span><span>              </span><span class="annot"><span class="annottext">a -&gt; Closure Stream a
forall a. Limiting Stream a =&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Stream.html#close"><span class="hs-identifier hs-var">close</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Closure Stream a) -&gt; a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681379898"><span class="hs-identifier hs-var">derx</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681379900"><span class="hs-identifier hs-var">dx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier hs-type">liftReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-127"></span><span> </span><span id="liftReal"><span class="annot"><span class="annottext">liftReal :: (Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier hs-var hs-var">liftReal</span></a></span></span><span> </span><span id="local-6989586621681379904"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681379904"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681379905"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681379905"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681379904"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681379905"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span> </span><span id="local-6989586621681379035"><span class="annot"><a href="Math.Number.Real.html#convergence_ratio_test"><span class="hs-identifier hs-type">convergence_ratio_test</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681379035"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621681379035"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379035"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379035"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-130"></span><span> </span><span id="convergence_ratio_test"><span class="annot"><span class="annottext">convergence_ratio_test :: forall a. (Fractional a, Ord a, Closed a) =&gt; Stream a -&gt; Bool
</span><a href="Math.Number.Real.html#convergence_ratio_test"><span class="hs-identifier hs-var hs-var">convergence_ratio_test</span></a></span></span><span> </span><span id="local-6989586621681379926"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681379926"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream a -&gt; a
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulation_point"><span class="hs-identifier hs-var">accumulation_point</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream a -&gt; a) -&gt; Closure Stream a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a) -&gt; Stream a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Stream a -&gt; Stream a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Stream a
forall a. Fractional a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#stream_quotients"><span class="hs-identifier hs-var">stream_quotients</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681379926"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span> </span><span id="local-6989586621681379046"><span class="annot"><a href="Math.Number.Real.html#average_convergence_ratio"><span class="hs-identifier hs-type">average_convergence_ratio</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379046"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379046"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379046"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379046"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-133"></span><span> </span><span id="average_convergence_ratio"><span class="annot"><span class="annottext">average_convergence_ratio :: forall a.
(MetricSpace a, Fractional (Scalar a)) =&gt;
Stream a -&gt; Stream (Scalar a)
</span><a href="Math.Number.Real.html#average_convergence_ratio"><span class="hs-identifier hs-var hs-var">average_convergence_ratio</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Scalar a] -&gt; Scalar a) -&gt; Stream [Scalar a] -&gt; Stream (Scalar a)
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[Scalar a] -&gt; Scalar a
forall a. Fractional a =&gt; [a] -&gt; a
</span><a href="Math.Number.Real.html#list_average"><span class="hs-identifier hs-var">list_average</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream [Scalar a] -&gt; Stream (Scalar a))
-&gt; (Stream a -&gt; Stream [Scalar a]) -&gt; Stream a -&gt; Stream (Scalar a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Stream [Scalar a]
forall a. MetricSpace a =&gt; Stream a -&gt; Stream [Scalar a]
</span><a href="Math.Number.Real.html#cauchy"><span class="hs-identifier hs-var">cauchy</span></a></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span> </span><span id="local-6989586621681379050"><span class="annot"><a href="Math.Number.Real.html#list_average"><span class="hs-identifier hs-type">list_average</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681379050"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681379050"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379050"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-136"></span><span> </span><span id="list_average"><span class="annot"><span class="annottext">list_average :: forall a. Fractional a =&gt; [a] -&gt; a
</span><a href="Math.Number.Real.html#list_average"><span class="hs-identifier hs-var hs-var">list_average</span></a></span></span><span> </span><span id="local-6989586621681379949"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681379949"><span class="hs-identifier hs-var">lst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681379949"><span class="hs-identifier hs-var">lst</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">Prelude.sum</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681379949"><span class="hs-identifier hs-var">lst</span></a></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-comment">-- max_convergence_ratio :: (MetricSpace a) =&gt; Stream a -&gt; Stream R</span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-comment">-- max_convergence_ratio = fmap (foldl1 max) . cauchy</span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span> </span><span id="local-6989586621681379056"><span class="annot"><a href="Math.Number.Real.html#cauchy"><span class="hs-identifier hs-type">cauchy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379056"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379056"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379056"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-142"></span><span> </span><span id="cauchy"><span class="annot"><span class="annottext">cauchy :: forall a. MetricSpace a =&gt; Stream a -&gt; Stream [Scalar a]
</span><a href="Math.Number.Real.html#cauchy"><span class="hs-identifier hs-var hs-var">cauchy</span></a></span></span><span> </span><span id="local-6989586621681379957"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681379957"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:*:) Stream Stream (Scalar a) -&gt; Stream [Scalar a]
forall a. (:*:) Stream Stream a -&gt; Stream [a]
</span><a href="Math.Number.Stream.html#codiagonals"><span class="hs-identifier hs-var">codiagonals</span></a></span><span> </span><span class="annot"><span class="annottext">((:*:) Stream Stream (Scalar a) -&gt; Stream [Scalar a])
-&gt; (:*:) Stream Stream (Scalar a) -&gt; Stream [Scalar a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; Scalar a)
-&gt; Stream a -&gt; Stream a -&gt; (:*:) Stream Stream (Scalar a)
forall (m :: * -&gt; *) (n :: * -&gt; *) a b c.
(Functor m, Functor n) =&gt;
(a -&gt; b -&gt; c) -&gt; m a -&gt; n b -&gt; (:*:) m n c
</span><a href="Math.Matrix.Interface.html#matrix"><span class="hs-identifier hs-var">matrix</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Scalar a
forall s. MetricSpace s =&gt; s -&gt; s -&gt; Scalar s
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var">distance</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681379957"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681379957"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span> </span><span id="local-6989586621681379070"><span id="local-6989586621681379071"><span id="local-6989586621681379072"><span class="annot"><a href="Math.Number.Real.html#cseq_difference_matrix"><span class="hs-identifier hs-type">cseq_difference_matrix</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621681379070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621681379071"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Diagonalizable"><span class="hs-identifier hs-type">Diagonalizable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379070"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379072"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#LinearTransform"><span class="hs-identifier hs-type">LinearTransform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379070"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379071"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379072"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681379072"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379070"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379072"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379071"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379072"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379070"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">:*:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379071"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681379072"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-146"></span><span> </span><span id="cseq_difference_matrix"><span class="annot"><span class="annottext">cseq_difference_matrix :: forall (m :: * -&gt; *) (n :: * -&gt; *) a.
(Functor m, Functor n, Diagonalizable m a, LinearTransform m n a,
 Num a) =&gt;
m a -&gt; n a -&gt; (:*:) m n a
</span><a href="Math.Number.Real.html#cseq_difference_matrix"><span class="hs-identifier hs-var hs-var">cseq_difference_matrix</span></a></span></span><span> </span><span id="local-6989586621681379970"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621681379970"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681379971"><span class="annot"><span class="annottext">n a
</span><a href="#local-6989586621681379971"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; m a -&gt; n a -&gt; (:*:) m n a
forall (m :: * -&gt; *) (n :: * -&gt; *) a b c.
(Functor m, Functor n) =&gt;
(a -&gt; b -&gt; c) -&gt; m a -&gt; n b -&gt; (:*:) m n c
</span><a href="Math.Matrix.Interface.html#matrix"><span class="hs-identifier hs-var">matrix</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681379972"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681379972"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681379973"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681379973"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681379972"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681379973"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621681379970"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">n a
</span><a href="#local-6989586621681379971"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span> </span><span class="hs-comment">-- | See Suppes: Axiomatic Set Theory.</span><span>
</span><span id="line-149"></span><span> </span><span class="hs-comment">-- Note that we would like to check that</span><span>
</span><span id="line-150"></span><span> </span><span class="hs-comment">-- \[\forall \epsilon &gt; 0. \exists n. \forall k &gt; n. |s_k - t_k| &lt; \epsilon \].</span><span>
</span><span id="line-151"></span><span> </span><span class="hs-comment">-- However, this is undecidable in particular with respect to what to choose for 'n'.</span><span>
</span><span id="line-152"></span><span> </span><span class="hs-comment">-- We can nonetheless compute the stream of distances.</span><span>
</span><span id="line-153"></span><span> </span><span id="local-6989586621681379078"><span class="annot"><a href="Math.Number.Real.html#cauchy_sequence_equivalence"><span class="hs-identifier hs-type">cauchy_sequence_equivalence</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379078"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379078"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681379078"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379078"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379078"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379078"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-154"></span><span> </span><span id="cauchy_sequence_equivalence"><span class="annot"><span class="annottext">cauchy_sequence_equivalence :: forall a.
(ConjugateSymmetric a, Closed a, Num a) =&gt;
Stream a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Real.html#cauchy_sequence_equivalence"><span class="hs-identifier hs-var hs-var">cauchy_sequence_equivalence</span></a></span></span><span> </span><span id="local-6989586621681379990"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681379990"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681379991"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681379991"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:*:) Stream Stream a -&gt; Stream a
forall (m :: * -&gt; *) a. Diagonalizable m a =&gt; (:*:) m m a -&gt; m a
</span><a href="Math.Matrix.Interface.html#diagonal_impl"><span class="hs-identifier hs-var">diagonal_impl</span></a></span><span> </span><span class="annot"><span class="annottext">((:*:) Stream Stream a -&gt; Stream a)
-&gt; (:*:) Stream Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Stream a -&gt; (:*:) Stream Stream a
forall (m :: * -&gt; *) (n :: * -&gt; *) a.
(Functor m, Functor n, Diagonalizable m a, LinearTransform m n a,
 Num a) =&gt;
m a -&gt; n a -&gt; (:*:) m n a
</span><a href="Math.Number.Real.html#cseq_difference_matrix"><span class="hs-identifier hs-var">cseq_difference_matrix</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681379990"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681379991"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span> </span><span class="hs-comment">-- | cseq_equivalence_matrix computes equivalence of cauchy sequences.</span><span>
</span><span id="line-157"></span><span> </span><span class="hs-comment">-- However, the 'modulus' argument is undecidable. But if you produce a modulus,</span><span>
</span><span id="line-158"></span><span> </span><span class="hs-comment">-- this chooses the part of the cauchy sequence differences that should converge</span><span>
</span><span id="line-159"></span><span> </span><span class="hs-comment">-- according to the convergence ratio of the @epsilon@ from the infinitesimal instance.</span><span>
</span><span id="line-160"></span><span> </span><span class="hs-comment">-- Thus if you can prove that the matrix elements converge to zero when elements</span><span>
</span><span id="line-161"></span><span> </span><span class="hs-comment">-- of increasing index are chosen, you would have proven equality of the two cauchy</span><span>
</span><span id="line-162"></span><span> </span><span class="hs-comment">-- sequences. This could be possible in special cases, even if it's undecidable</span><span>
</span><span id="line-163"></span><span> </span><span class="hs-comment">-- in general. Note that it suffices to consider the convergence of the first column,</span><span>
</span><span id="line-164"></span><span> </span><span class="hs-comment">-- because you could move any part to the first column by choosing reasonable values</span><span>
</span><span id="line-165"></span><span> </span><span class="hs-comment">-- of the modulus.</span><span>
</span><span id="line-166"></span><span> </span><span class="hs-comment">-- The other differences are included so computations and analysis of the situation</span><span>
</span><span id="line-167"></span><span> </span><span class="hs-comment">-- can be easier to perform.</span><span>
</span><span id="line-168"></span><span> </span><span id="local-6989586621681379085"><span id="local-6989586621681379086"><span class="annot"><a href="Math.Number.Real.html#cseq_equivalence_matrix"><span class="hs-identifier hs-type">cseq_equivalence_matrix</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681379085"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379085"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379085"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379086"><span class="hs-identifier hs-type">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379086"><span class="hs-identifier hs-type">eps</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379085"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379085"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">:*:</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681379085"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-170"></span><span> </span><span id="cseq_equivalence_matrix"><span class="annot"><span class="annottext">cseq_equivalence_matrix :: forall a eps.
(Num a, ConjugateSymmetric a, Closed a,
 Infinitesimal Stream eps) =&gt;
(eps -&gt; Integer) -&gt; Stream a -&gt; Stream a -&gt; (:*:) Stream Stream a
</span><a href="Math.Number.Real.html#cseq_equivalence_matrix"><span class="hs-identifier hs-var hs-var">cseq_equivalence_matrix</span></a></span></span><span> </span><span id="local-6989586621681380005"><span class="annot"><span class="annottext">eps -&gt; Integer
</span><a href="#local-6989586621681380005"><span class="hs-identifier hs-var">modulus</span></a></span></span><span> </span><span id="local-6989586621681380006"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380006"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380007"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380007"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream (Stream a) -&gt; (:*:) Stream Stream a
forall {k} {k1} (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; (:*:) f g a
</span><a href="Math.Matrix.Interface.html#Matrix"><span class="hs-identifier hs-var">Matrix</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream (Stream a) -&gt; (:*:) Stream Stream a)
-&gt; Stream (Stream a) -&gt; (:*:) Stream Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-171"></span><span>    </span><span id="local-6989586621681380009"><span class="annot"><span class="annottext">eps
</span><a href="#local-6989586621681380009"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream eps
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; str a
</span><a href="Math.Number.StreamInterface.html#epsilon_stream"><span class="hs-identifier hs-var">epsilon_stream</span></a></span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681380011"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681380011"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">eps -&gt; Integer
</span><a href="#local-6989586621681380005"><span class="hs-identifier hs-var">modulus</span></a></span><span> </span><span class="annot"><span class="annottext">eps
</span><a href="#local-6989586621681380009"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-173"></span><span>    </span><span class="annot"><span class="annottext">Stream a -&gt; Stream (Stream a)
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Stream (Stream a)) -&gt; Stream a -&gt; Stream (Stream a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream a -&gt; Stream a
forall a. Integer -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#drop"><span class="hs-identifier hs-var">Stream.drop</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380011"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380013"><span class="hs-identifier hs-var">seq</span></a></span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681380013"><span class="annot"><span class="annottext">seq :: Stream a
</span><a href="#local-6989586621681380013"><span class="hs-identifier hs-var hs-var">seq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Stream a -&gt; Stream a
forall a.
(ConjugateSymmetric a, Closed a, Num a) =&gt;
Stream a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Real.html#cauchy_sequence_equivalence"><span class="hs-identifier hs-var">cauchy_sequence_equivalence</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380006"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380007"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span> </span><span class="hs-comment">-- | This version of cauchy sequence equality convergence check</span><span>
</span><span id="line-177"></span><span> </span><span class="hs-comment">-- produces a stream of lists, where each list contains those elements</span><span>
</span><span id="line-178"></span><span> </span><span class="hs-comment">-- which are close to each other in terms of choice of indices, e.g.</span><span>
</span><span id="line-179"></span><span> </span><span class="hs-comment">-- \[C(s,t)_i = [ \lvert s_j - t_k \rvert | j \leftarrow naturals, k \leftarrow naturals, i = j + k]\]</span><span>
</span><span id="line-180"></span><span> </span><span class="hs-comment">-- thus the complexity of the stream element lists of the result should increase</span><span>
</span><span id="line-181"></span><span> </span><span class="hs-comment">-- in the same way than the complexity of the input stream elements.</span><span>
</span><span id="line-182"></span><span> </span><span class="hs-comment">-- The lists in the result stream have monotonically increasing length.</span><span>
</span><span id="line-183"></span><span> </span><span class="hs-comment">-- thus to compute results for particular level of approximation, it should suffice</span><span>
</span><span id="line-184"></span><span> </span><span class="hs-comment">-- to choose a list from the result stream, and perform the equivalence check</span><span>
</span><span id="line-185"></span><span> </span><span class="hs-comment">-- using the values in the list. To do this, it would be necessary to be able</span><span>
</span><span id="line-186"></span><span> </span><span class="hs-comment">-- to determine how close to zero the elements in the list should be.</span><span>
</span><span id="line-187"></span><span> </span><span class="hs-comment">-- the middle element (if any) of the list is probably the most interesting,</span><span>
</span><span id="line-188"></span><span> </span><span class="hs-comment">-- because that would mean \(j == k\), therefore the computation result</span><span>
</span><span id="line-189"></span><span> </span><span class="hs-comment">-- would be \(\lvert s_j - t_j \rvert\), but due to different rate of convergence of the input</span><span>
</span><span id="line-190"></span><span> </span><span class="hs-comment">-- sequences, it can happen that the elementwise differences are not really</span><span>
</span><span id="line-191"></span><span> </span><span class="hs-comment">-- representative of the stream convergence behaviour at the diagonal.</span><span>
</span><span id="line-192"></span><span> </span><span class="hs-comment">-- however, analyzing these numbers should produce useful results about</span><span>
</span><span id="line-193"></span><span> </span><span class="hs-comment">-- convergence of the input stream element differences.</span><span>
</span><span id="line-194"></span><span> </span><span class="hs-comment">-- e.g choosing minimum and maximum element from each list determines</span><span>
</span><span id="line-195"></span><span> </span><span class="hs-comment">-- best and worst approximation in the same depth of approximations.</span><span>
</span><span id="line-196"></span><span> </span><span class="hs-comment">-- for the equality of the cauchy sequences to hold, the best approximation should</span><span>
</span><span id="line-197"></span><span> </span><span class="hs-comment">-- stay close to zero and better so when further elements of the stream are obtained.</span><span>
</span><span id="line-198"></span><span> </span><span id="local-6989586621681379096"><span class="annot"><a href="Math.Number.Real.html#cseq_convergence"><span class="hs-identifier hs-type">cseq_convergence</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379096"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379096"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681379096"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379096"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379096"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681379096"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-199"></span><span> </span><span id="cseq_convergence"><span class="annot"><span class="annottext">cseq_convergence :: forall a.
(ConjugateSymmetric a, Closed a, Num a) =&gt;
Stream a -&gt; Stream a -&gt; Stream [a]
</span><a href="Math.Number.Real.html#cseq_convergence"><span class="hs-identifier hs-var hs-var">cseq_convergence</span></a></span></span><span> </span><span id="local-6989586621681380027"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380027"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681380028"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380028"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:*:) Stream Stream a -&gt; Stream [a]
forall a. (:*:) Stream Stream a -&gt; Stream [a]
</span><a href="Math.Number.Stream.html#codiagonals"><span class="hs-identifier hs-var">codiagonals</span></a></span><span> </span><span class="annot"><span class="annottext">((:*:) Stream Stream a -&gt; Stream [a])
-&gt; (:*:) Stream Stream a -&gt; Stream [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Stream a -&gt; (:*:) Stream Stream a
forall (m :: * -&gt; *) (n :: * -&gt; *) a.
(Functor m, Functor n, Diagonalizable m a, LinearTransform m n a,
 Num a) =&gt;
m a -&gt; n a -&gt; (:*:) m n a
</span><a href="Math.Number.Real.html#cseq_difference_matrix"><span class="hs-identifier hs-var">cseq_difference_matrix</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380027"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380028"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span> </span><span id="local-6989586621681379098"><span id="local-6989586621681379099"><span class="annot"><a href="Math.Number.Real.html#cseq_equivalence_list"><span class="hs-identifier hs-type">cseq_equivalence_list</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379098"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379098"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681379098"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379099"><span class="hs-identifier hs-type">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379099"><span class="hs-identifier hs-type">eps</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379098"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379098"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681379098"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-202"></span><span> </span><span id="cseq_equivalence_list"><span class="annot"><span class="annottext">cseq_equivalence_list :: forall a eps.
(Closed a, ConjugateSymmetric a, Num a,
 Infinitesimal Stream eps) =&gt;
(eps -&gt; Integer) -&gt; Stream a -&gt; Stream a -&gt; Stream [a]
</span><a href="Math.Number.Real.html#cseq_equivalence_list"><span class="hs-identifier hs-var hs-var">cseq_equivalence_list</span></a></span></span><span> </span><span id="local-6989586621681380037"><span class="annot"><span class="annottext">eps -&gt; Integer
</span><a href="#local-6989586621681380037"><span class="hs-identifier hs-var">modulus</span></a></span></span><span> </span><span id="local-6989586621681380038"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380038"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380039"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380039"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:*:) Stream Stream a -&gt; Stream [a]
forall a. (:*:) Stream Stream a -&gt; Stream [a]
</span><a href="Math.Number.Stream.html#codiagonals"><span class="hs-identifier hs-var">codiagonals</span></a></span><span> </span><span class="annot"><span class="annottext">((:*:) Stream Stream a -&gt; Stream [a])
-&gt; (:*:) Stream Stream a -&gt; Stream [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(eps -&gt; Integer) -&gt; Stream a -&gt; Stream a -&gt; (:*:) Stream Stream a
forall a eps.
(Num a, ConjugateSymmetric a, Closed a,
 Infinitesimal Stream eps) =&gt;
(eps -&gt; Integer) -&gt; Stream a -&gt; Stream a -&gt; (:*:) Stream Stream a
</span><a href="Math.Number.Real.html#cseq_equivalence_matrix"><span class="hs-identifier hs-var">cseq_equivalence_matrix</span></a></span><span> </span><span class="annot"><span class="annottext">eps -&gt; Integer
</span><a href="#local-6989586621681380037"><span class="hs-identifier hs-var">modulus</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380038"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380039"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span> </span><span id="local-6989586621681379102"><span class="annot"><a href="Math.Number.Real.html#converges"><span class="hs-identifier hs-type">converges</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379102"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379102"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379102"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379102"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-205"></span><span> </span><span id="converges"><span class="annot"><span class="annottext">converges :: forall a. MetricSpace a =&gt; Stream a -&gt; a -&gt; Stream [Scalar a]
</span><a href="Math.Number.Real.html#converges"><span class="hs-identifier hs-var hs-var">converges</span></a></span></span><span> </span><span id="local-6989586621681380044"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380044"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681380045"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380045"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:*:) Stream Stream (Scalar a) -&gt; Stream [Scalar a]
forall a. (:*:) Stream Stream a -&gt; Stream [a]
</span><a href="Math.Number.Stream.html#codiagonals"><span class="hs-identifier hs-var">codiagonals</span></a></span><span> </span><span class="annot"><span class="annottext">((:*:) Stream Stream (Scalar a) -&gt; Stream [Scalar a])
-&gt; (:*:) Stream Stream (Scalar a) -&gt; Stream [Scalar a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; Scalar a)
-&gt; Stream a -&gt; Stream a -&gt; (:*:) Stream Stream (Scalar a)
forall (m :: * -&gt; *) (n :: * -&gt; *) a b c.
(Functor m, Functor n) =&gt;
(a -&gt; b -&gt; c) -&gt; m a -&gt; n b -&gt; (:*:) m n c
</span><a href="Math.Matrix.Interface.html#matrix"><span class="hs-identifier hs-var">matrix</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Scalar a
forall s. MetricSpace s =&gt; s -&gt; s -&gt; Scalar s
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var">distance</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380044"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Stream a
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380045"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span> </span><span>
</span><span id="line-207"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681380051"><span class="annot"><a href="Math.Matrix.Interface.html#NormedSpace"><span class="hs-identifier hs-type">NormedSpace</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>   </span><span id="local-6989586621681380056"><span class="annot"><span class="annottext">norm :: R -&gt; Scalar R
</span><a href="#local-6989586621681380056"><span class="hs-identifier hs-var hs-var hs-var hs-var">norm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Scalar R
R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#InnerProductSpace"><span class="hs-identifier hs-type">InnerProductSpace</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-211"></span><span>    </span><span id="local-6989586621681380064"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380064"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380065"><span class="annot"><span class="annottext">%. :: R -&gt; R -&gt; Scalar R
</span><a href="#local-6989586621681380065"><span class="hs-operator hs-var hs-var hs-var hs-var">%.</span></a></span></span><span> </span><span id="local-6989586621681380067"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380067"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380064"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380067"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681380074"><span id="local-6989586621681380078"><span id="local-6989586621681380081"><span id="local-6989586621681380084"><span id="local-6989586621681380088"><span id="local-6989586621681380091"><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-214"></span><span>    </span><span id="local-6989586621681380098"><span class="annot"><span class="annottext">epsilon_stream :: Stream Rational
</span><a href="Math.Number.StreamInterface.html#epsilon_stream"><span class="hs-identifier hs-var hs-var hs-var hs-var">epsilon_stream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational
forall a. Fractional a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power"><span class="hs-identifier hs-var">Stream.power</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-217"></span><span>   </span><span id="local-6989586621681380107"><span class="annot"><span class="annottext">distance :: R -&gt; R -&gt; Scalar R
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var hs-var hs-var hs-var">distance</span></a></span></span><span> </span><span id="local-6989586621681380108"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380108"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380109"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380109"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380108"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380109"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-220"></span><span>   </span><span id="local-6989586621681380137"><span class="annot"><span class="annottext">distance :: Stream R -&gt; Stream R -&gt; Scalar (Stream R)
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var hs-var hs-var hs-var">distance</span></a></span></span><span> </span><span id="local-6989586621681380138"><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681380138"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380139"><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681380139"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream (Scalar (Stream R)) -&gt; Scalar (Stream R)
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulation_point"><span class="hs-identifier hs-var">accumulation_point</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream (Scalar (Stream R)) -&gt; Scalar (Stream R))
-&gt; Closure Stream (Scalar (Stream R)) -&gt; Scalar (Stream R)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream (Scalar (Stream R)) -&gt; Closure Stream (Scalar (Stream R))
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream (Scalar (Stream R)) -&gt; Closure Stream (Scalar (Stream R)))
-&gt; Stream (Scalar (Stream R)) -&gt; Closure Stream (Scalar (Stream R))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span>
</span><span id="line-221"></span><span>                     </span><span class="hs-special">(</span><span id="local-6989586621681380140"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380140"><span class="hs-identifier hs-var">xn</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380141"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380141"><span class="hs-identifier hs-var">yn</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380142"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380142"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R -&gt; Stream Integer -&gt; Stream (R, R, Integer)
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
f a -&gt; f b -&gt; f c -&gt; f (a, b, c)
</span><a href="Math.Tools.Functor.html#fzip3"><span class="hs-identifier hs-var">fzip3</span></a></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681380138"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681380139"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">naturals</span></a></span><span>
</span><span id="line-222"></span><span>                     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681380145"><span class="annot"><span class="annottext">d :: R
</span><a href="#local-6989586621681380145"><span class="hs-identifier hs-var hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380140"><span class="hs-identifier hs-var">xn</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380141"><span class="hs-identifier hs-var">yn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>                     </span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream R) -&gt; R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380142"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380145"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380145"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span> </span><span id="local-6989586621681379117"><span class="annot"><a href="Math.Number.Real.html#increase_accuracy_by"><span class="hs-identifier hs-type">increase_accuracy_by</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379117"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379117"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379117"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-226"></span><span> </span><span id="increase_accuracy_by"><span class="annot"><span class="annottext">increase_accuracy_by :: forall a.
Limiting Stream a =&gt;
Integer -&gt; Closure Stream a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#increase_accuracy_by"><span class="hs-identifier hs-var hs-var">increase_accuracy_by</span></a></span></span><span> </span><span id="local-6989586621681380153"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380153"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a)
-&gt; (Closure Stream a -&gt; Stream a)
-&gt; Closure Stream a
-&gt; Closure Stream a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream a -&gt; Stream a
forall a. Integer -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#drop"><span class="hs-identifier hs-var">Stream.drop</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380153"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Stream a)
-&gt; (Closure Stream a -&gt; Stream a) -&gt; Closure Stream a -&gt; Stream a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span> </span><span id="local-6989586621681379119"><span id="local-6989586621681379120"><span id="local-6989586621681379121"><span class="annot"><a href="Math.Number.Real.html#partial_derivate_closure"><span class="hs-identifier hs-type">partial_derivate_closure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379119"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379120"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681379120"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379120"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379121"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379121"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379121"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379120"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379121"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379119"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379120"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-231"></span><span> </span><span id="partial_derivate_closure"><span class="annot"><span class="annottext">partial_derivate_closure :: forall (str :: * -&gt; *) a b.
(Limiting str a, Fractional a) =&gt;
(a -&gt; b -&gt; b) -&gt; (b -&gt; a) -&gt; b -&gt; Endo (Closure str a)
</span><a href="Math.Number.Real.html#partial_derivate_closure"><span class="hs-identifier hs-var hs-var">partial_derivate_closure</span></a></span></span><span> </span><span id="local-6989586621681380165"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681380165"><span class="hs-identifier hs-var">delta</span></a></span></span><span> </span><span id="local-6989586621681380166"><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681380166"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681380167"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681380167"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Closure str a -&gt; Closure str a) -&gt; Endo (Closure str a)
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((Closure str a -&gt; Closure str a) -&gt; Endo (Closure str a))
-&gt; (Closure str a -&gt; Closure str a) -&gt; Endo (Closure str a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681380169"><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681380169"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">str a -&gt; Closure str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str a -&gt; Closure str a) -&gt; str a -&gt; Closure str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-232"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681380170"><span class="annot"><span class="annottext">fv :: a
</span><a href="#local-6989586621681380170"><span class="hs-identifier hs-var hs-var">fv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681380166"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681380167"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-233"></span><span>    </span><span id="local-6989586621681380171"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380171"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681380169"><span class="hs-identifier hs-var">dx</span></a></span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><span class="annottext">a -&gt; str a
forall a. a -&gt; str a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; str a) -&gt; a -&gt; str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681380166"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681380165"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380171"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681380167"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380170"><span class="hs-identifier hs-var">fv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380171"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span> </span><span id="local-6989586621681379127"><span id="local-6989586621681379128"><span class="annot"><a href="Math.Number.Real.html#partial_derivate_linear"><span class="hs-identifier hs-type">partial_derivate_linear</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#LinearTransform"><span class="hs-identifier hs-type">LinearTransform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-238"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Linearizable"><span class="hs-identifier hs-type">Linearizable</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#LinearMap"><span class="hs-identifier hs-type">LinearMap</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">(:*:)</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Diagonalizable"><span class="hs-identifier hs-type">Diagonalizable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#%3A-%3E"><span class="hs-operator hs-type">:-&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#%3A-%3E"><span class="hs-operator hs-type">:-&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#%3A-%3E"><span class="hs-operator hs-type">:-&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379127"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379128"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-240"></span><span> </span><span id="partial_derivate_linear"><span class="annot"><span class="annottext">partial_derivate_linear :: forall (f :: * -&gt; *) a.
(LinearTransform f f a, VectorSpace (f a), Closed a, Closed (f a),
 Fractional a, Scalar (f a) ~ a, Linearizable LinearMap (:*:) f f a,
 Diagonalizable f a) =&gt;
(a -&gt; f a :-&gt; f a) -&gt; (f a :-&gt; f a) -&gt; f a :-&gt; f a
</span><a href="Math.Number.Real.html#partial_derivate_linear"><span class="hs-identifier hs-var hs-var">partial_derivate_linear</span></a></span></span><span> </span><span id="local-6989586621681380205"><span class="annot"><span class="annottext">a -&gt; f a :-&gt; f a
</span><a href="#local-6989586621681380205"><span class="hs-identifier hs-var">delta</span></a></span></span><span> </span><span id="local-6989586621681380206"><span class="annot"><span class="annottext">f a :-&gt; f a
</span><a href="#local-6989586621681380206"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f a -&gt; f a) -&gt; f a :-&gt; f a
forall (arr :: * -&gt; * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) a.
(Linearizable arr (:*:) f g a, Diagonalizable f a) =&gt;
(f a -&gt; g a) -&gt; arr (f a) (g a)
</span><a href="Math.Matrix.Linear.html#arr_linear"><span class="hs-identifier hs-var">arr_linear</span></a></span><span> </span><span class="annot"><span class="annottext">((f a -&gt; f a) -&gt; f a :-&gt; f a) -&gt; (f a -&gt; f a) -&gt; f a :-&gt; f a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681380208"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621681380208"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Closure Stream (f a) -&gt; f a
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulation_point"><span class="hs-identifier hs-var">accumulation_point</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream (f a) -&gt; f a) -&gt; Closure Stream (f a) -&gt; f a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream (f a) -&gt; Closure Stream (f a)
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream (f a) -&gt; Closure Stream (f a))
-&gt; Stream (f a) -&gt; Closure Stream (f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-241"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681380209"><span class="annot"><span class="annottext">fv :: f a
</span><a href="#local-6989586621681380209"><span class="hs-identifier hs-var hs-var">fv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a :-&gt; f a
</span><a href="#local-6989586621681380206"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(f a :-&gt; f a) -&gt; f a -&gt; f a
forall (f :: * -&gt; *) (g :: * -&gt; *) a.
LinearTransform f g a =&gt;
(f a :-&gt; g a) -&gt; f a -&gt; g a
</span><a href="Math.Matrix.Linear.html#-%21%3C"><span class="hs-operator hs-var">-!&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621681380208"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-242"></span><span>    </span><span id="local-6989586621681380211"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380211"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream a
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; str a
</span><a href="Math.Number.StreamInterface.html#epsilon_stream"><span class="hs-identifier hs-var">epsilon_stream</span></a></span><span>
</span><span id="line-243"></span><span>    </span><span class="annot"><span class="annottext">f a -&gt; Stream (f a)
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(f a -&gt; Stream (f a)) -&gt; f a -&gt; Stream (f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380211"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Scalar (f a) -&gt; f a -&gt; f a
forall v. VectorSpace v =&gt; Scalar v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var">%*</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f a :-&gt; f a
</span><a href="#local-6989586621681380206"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(f a :-&gt; f a) -&gt; f a -&gt; f a
forall (f :: * -&gt; *) (g :: * -&gt; *) a.
LinearTransform f g a =&gt;
(f a :-&gt; g a) -&gt; f a -&gt; g a
</span><a href="Math.Matrix.Linear.html#-%21%3C"><span class="hs-operator hs-var">-!&lt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; f a :-&gt; f a
</span><a href="#local-6989586621681380205"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380211"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">(f a :-&gt; f a) -&gt; f a -&gt; f a
forall (f :: * -&gt; *) (g :: * -&gt; *) a.
LinearTransform f g a =&gt;
(f a :-&gt; g a) -&gt; f a -&gt; g a
</span><a href="Math.Matrix.Linear.html#-%21%3C"><span class="hs-operator hs-var">-!&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621681380208"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a -&gt; f a -&gt; f a
forall v. VectorSpace v =&gt; v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25-"><span class="hs-operator hs-var">%-</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621681380209"><span class="hs-identifier hs-var">fv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span> </span><span id="local-6989586621681379146"><span id="local-6989586621681379147"><span id="local-6989586621681379148"><span class="annot"><a href="Math.Number.Real.html#partial_derivate_endo"><span class="hs-identifier hs-type">partial_derivate_endo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379146"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379147"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681379147"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>   </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379147"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621681379148"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379148"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379147"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379148"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379146"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379147"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-247"></span><span> </span><span id="partial_derivate_endo"><span class="annot"><span class="annottext">partial_derivate_endo :: forall (str :: * -&gt; *) a b.
(Limiting str a, Fractional a) =&gt;
(a -&gt; Endo b) -&gt; (b -&gt; a) -&gt; b -&gt; Endo (Closure str a)
</span><a href="Math.Number.Real.html#partial_derivate_endo"><span class="hs-identifier hs-var hs-var">partial_derivate_endo</span></a></span></span><span> </span><span id="local-6989586621681380224"><span class="annot"><span class="annottext">a -&gt; Endo b
</span><a href="#local-6989586621681380224"><span class="hs-identifier hs-var">delta</span></a></span></span><span> </span><span id="local-6989586621681380225"><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681380225"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681380226"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681380226"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Closure str a -&gt; Closure str a) -&gt; Endo (Closure str a)
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((Closure str a -&gt; Closure str a) -&gt; Endo (Closure str a))
-&gt; (Closure str a -&gt; Closure str a) -&gt; Endo (Closure str a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681380227"><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681380227"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">str a -&gt; Closure str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str a -&gt; Closure str a) -&gt; str a -&gt; Closure str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-248"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681380228"><span class="annot"><span class="annottext">fv :: a
</span><a href="#local-6989586621681380228"><span class="hs-identifier hs-var hs-var">fv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681380225"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681380226"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-249"></span><span>    </span><span id="local-6989586621681380229"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380229"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681380227"><span class="hs-identifier hs-var">dx</span></a></span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><span class="annottext">a -&gt; str a
forall a. a -&gt; str a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; str a) -&gt; a -&gt; str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681380225"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Endo b
</span><a href="#local-6989586621681380224"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380229"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Endo b -&gt; b -&gt; b
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681380226"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380228"><span class="hs-identifier hs-var">fv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380229"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-comment">-- already defined in Math.Number.Stream:</span><span>
</span><span id="line-253"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-comment">-- instance (RealFloat a, Infinitesimal str a) =&gt; Infinitesimal str (Complex a) where</span><span>
</span><span id="line-255"></span><span>  </span><span class="hs-comment">--   epsilon_closure = limit $ liftA2 (:+) (epsilon_stream) (epsilon_stream)</span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#average"><span class="hs-identifier hs-type">average</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-258"></span><span> </span><span id="average"><span class="annot"><span class="annottext">average :: R -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#average"><span class="hs-identifier hs-var hs-var">average</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681380231"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380231"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681380232"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380232"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681380234"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380234"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380235"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380235"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380234"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380235"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380231"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380232"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-comment">-- would require Ord constraint</span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-comment">-- instance MedianAlgebra R where</span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-comment">--    med (Limit x) (Limit y) (Limit z) = Limit $ med x y z</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681380240"><span class="annot"><span class="annottext">conj :: R -&gt; R
</span><a href="#local-6989586621681380240"><span class="hs-identifier hs-var hs-var hs-var hs-var">conj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. a -&gt; a
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k). Category cat =&gt; cat a a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-266"></span><span>  </span><span>
</span><span id="line-267"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-268"></span><span>   </span><span class="hs-keyword">type</span><span> </span><span id="Scalar"><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-var">Scalar</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-269"></span><span>   </span><span id="local-6989586621681380251"><span class="annot"><span class="annottext">vzero :: R
</span><a href="#local-6989586621681380251"><span class="hs-identifier hs-var hs-var hs-var hs-var">vzero</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0</span></span><span>
</span><span id="line-270"></span><span>   </span><span id="local-6989586621681380254"><span class="annot"><span class="annottext">vnegate :: R -&gt; R
</span><a href="#local-6989586621681380254"><span class="hs-identifier hs-var hs-var hs-var hs-var">vnegate</span></a></span></span><span> </span><span id="local-6989586621681380256"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380256"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380256"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-271"></span><span>   </span><span id="local-6989586621681380258"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380258"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681380259"><span class="annot"><span class="annottext">%+ :: R -&gt; R -&gt; R
</span><a href="#local-6989586621681380259"><span class="hs-operator hs-var hs-var hs-var hs-var">%+</span></a></span></span><span> </span><span id="local-6989586621681380261"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380261"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380258"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380261"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-272"></span><span>   </span><span id="local-6989586621681380263"><span class="annot"><span class="annottext">Scalar R
</span><a href="#local-6989586621681380263"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681380264"><span class="annot"><span class="annottext">%* :: Scalar R -&gt; R -&gt; R
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">%*</span></a></span></span><span> </span><span id="local-6989586621681380265"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380265"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scalar R
R
</span><a href="#local-6989586621681380263"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380265"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span> </span><span class="hs-comment">-- | The following instance declaration represents the completeness of the</span><span>
</span><span id="line-275"></span><span> </span><span class="hs-comment">-- real number system. </span><span>
</span><span id="line-276"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-277"></span><span>   </span><span class="hs-keyword">data</span><span> </span><span id="Closure"><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-var">Closure</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RClosure"><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runRClosure"><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var hs-var">runRClosure</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-278"></span><span>   </span><span id="local-6989586621681380277"><span class="annot"><span class="annottext">limit :: Stream R -&gt; Closure Stream R
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var hs-var hs-var hs-var">limit</span></a></span></span><span> </span><span id="local-6989586621681380278"><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681380278"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
</span><a href="Math.Number.Real.html#limit_real"><span class="hs-identifier hs-var">limit_real</span></a></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681380278"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-279"></span><span>   </span><span id="local-6989586621681380284"><span class="annot"><span class="annottext">approximations :: Closure Stream R -&gt; Stream R
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var hs-var hs-var hs-var">approximations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; R) -&gt; Stream Rational -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R)
-&gt; (Rational -&gt; Stream Rational) -&gt; Rational -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream R)
-&gt; (Closure Stream R -&gt; Stream Rational)
-&gt; Closure Stream R
-&gt; Stream R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational)
-&gt; (Closure Stream R -&gt; R) -&gt; Closure Stream R -&gt; Stream Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Infinitary"><span class="hs-identifier hs-type">Infinitary</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-282"></span><span>    </span><span id="local-6989586621681380290"><span class="annot"><span class="annottext">infinite :: Closure Stream R
</span><a href="#local-6989586621681380290"><span class="hs-identifier hs-var hs-var hs-var hs-var">infinite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R
forall a. Infinitary a =&gt; a
</span><a href="Math.Number.Interface.html#infinite"><span class="hs-identifier hs-var">infinite</span></a></span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span> </span><span class="annot"><span class="hs-comment">-- | An isomorphism \(Cl(R) \cong R\).</span></span><span>
</span><span id="line-285"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#completenessOfReals"><span class="hs-identifier hs-type">completenessOfReals</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="annot"><a href="Math.Tools.Isomorphism.html#%3A%3D%3D%3A"><span class="hs-operator hs-type">:==:</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-286"></span><span> </span><span id="completenessOfReals"><span class="annot"><span class="annottext">completenessOfReals :: Closure Stream R :==: R
</span><a href="Math.Number.Real.html#completenessOfReals"><span class="hs-identifier hs-var hs-var">completenessOfReals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R)
-&gt; (R -&gt; Closure Stream R) -&gt; Closure Stream R :==: R
forall a b. (a -&gt; b) -&gt; (b -&gt; a) -&gt; a :==: b
forall (arr :: * -&gt; * -&gt; *) a b.
BiArrow arr =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; arr a b
</span><a href="Math.Tools.Arrow.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681380301"><span id="local-6989586621681380304"><span id="local-6989586621681380319"><span id="local-6989586621681380322"><span id="local-6989586621681380325"><span id="local-6989586621681380328"><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-289"></span><span>    </span><span id="local-6989586621681380332"><span class="annot"><span class="annottext">pi :: Closure Stream R
</span><a href="#local-6989586621681380332"><span class="hs-identifier hs-var hs-var hs-var hs-var">pi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R
forall a. Floating a =&gt; a
</span><span class="hs-identifier hs-var">pi</span></span><span>
</span><span id="line-290"></span><span>    </span><span id="local-6989586621681380335"><span class="annot"><span class="annottext">exp :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380335"><span class="hs-identifier hs-var hs-var hs-var hs-var">exp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span>
</span><span id="line-291"></span><span>    </span><span id="local-6989586621681380338"><span class="annot"><span class="annottext">log :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380338"><span class="hs-identifier hs-var hs-var hs-var hs-var">log</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span>
</span><span id="line-292"></span><span>    </span><span id="local-6989586621681380341"><span class="annot"><span class="annottext">sqrt :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380341"><span class="hs-identifier hs-var hs-var hs-var hs-var">sqrt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span>
</span><span id="line-293"></span><span>    </span><span id="local-6989586621681380344"><span class="annot"><span class="annottext">sin :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380344"><span class="hs-identifier hs-var hs-var hs-var hs-var">sin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span>
</span><span id="line-294"></span><span>    </span><span id="local-6989586621681380347"><span class="annot"><span class="annottext">cos :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380347"><span class="hs-identifier hs-var hs-var hs-var hs-var">cos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span>
</span><span id="line-295"></span><span>    </span><span id="local-6989586621681380350"><span class="annot"><span class="annottext">tan :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380350"><span class="hs-identifier hs-var hs-var hs-var hs-var">tan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tan</span></span><span>
</span><span id="line-296"></span><span>    </span><span id="local-6989586621681380353"><span class="annot"><span class="annottext">asin :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380353"><span class="hs-identifier hs-var hs-var hs-var hs-var">asin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asin</span></span><span>
</span><span id="line-297"></span><span>    </span><span id="local-6989586621681380356"><span class="annot"><span class="annottext">acos :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380356"><span class="hs-identifier hs-var hs-var hs-var hs-var">acos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acos</span></span><span>
</span><span id="line-298"></span><span>    </span><span id="local-6989586621681380359"><span class="annot"><span class="annottext">atan :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380359"><span class="hs-identifier hs-var hs-var hs-var hs-var">atan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atan</span></span><span>
</span><span id="line-299"></span><span>    </span><span id="local-6989586621681380362"><span class="annot"><span class="annottext">sinh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380362"><span class="hs-identifier hs-var hs-var hs-var hs-var">sinh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span>
</span><span id="line-300"></span><span>    </span><span id="local-6989586621681380365"><span class="annot"><span class="annottext">cosh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380365"><span class="hs-identifier hs-var hs-var hs-var hs-var">cosh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span>
</span><span id="line-301"></span><span>    </span><span id="local-6989586621681380368"><span class="annot"><span class="annottext">tanh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380368"><span class="hs-identifier hs-var hs-var hs-var hs-var">tanh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tanh</span></span><span>
</span><span id="line-302"></span><span>    </span><span id="local-6989586621681380371"><span class="annot"><span class="annottext">asinh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380371"><span class="hs-identifier hs-var hs-var hs-var hs-var">asinh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asinh</span></span><span>
</span><span id="line-303"></span><span>    </span><span id="local-6989586621681380374"><span class="annot"><span class="annottext">acosh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380374"><span class="hs-identifier hs-var hs-var hs-var hs-var">acosh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acosh</span></span><span>
</span><span id="line-304"></span><span>    </span><span id="local-6989586621681380377"><span class="annot"><span class="annottext">atanh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380377"><span class="hs-identifier hs-var hs-var hs-var hs-var">atanh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atanh</span></span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-type">liftRClosure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-307"></span><span> </span><span id="liftRClosure"><span class="annot"><span class="annottext">liftRClosure :: (R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var hs-var">liftRClosure</span></a></span></span><span> </span><span id="local-6989586621681380379"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380379"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380380"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380380"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380379"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380380"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380390"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380390"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681380391"><span class="annot"><span class="annottext">+ :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">+</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380392"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380392"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380390"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380392"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-311"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380394"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380394"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681380395"><span class="annot"><span class="annottext">- :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-glyph hs-var hs-var hs-var hs-var">-</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380396"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380396"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380394"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380396"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-312"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380398"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380398"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681380399"><span class="annot"><span class="annottext">* :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">*</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380400"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380400"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380398"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380400"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-313"></span><span>    </span><span id="local-6989586621681380402"><span class="annot"><span class="annottext">negate :: Closure Stream R -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">negate</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380403"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380403"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380403"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-314"></span><span>    </span><span id="local-6989586621681380405"><span class="annot"><span class="annottext">abs :: Closure Stream R -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">abs</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380406"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380406"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380406"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-315"></span><span>    </span><span id="local-6989586621681380408"><span class="annot"><span class="annottext">signum :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380408"><span class="hs-identifier hs-var hs-var hs-var hs-var">signum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380410"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380410"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380410"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-316"></span><span>    </span><span id="local-6989586621681380412"><span class="annot"><span class="annottext">fromInteger :: Integer -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromInteger</span></span></span><span> </span><span id="local-6989586621681380413"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380413"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; R
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380413"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#limit_real"><span class="hs-identifier hs-type">limit_real</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-319"></span><span> </span><span id="limit_real"><span class="annot"><span class="annottext">limit_real :: Stream R -&gt; R
</span><a href="Math.Number.Real.html#limit_real"><span class="hs-identifier hs-var hs-var">limit_real</span></a></span></span><span> </span><span id="local-6989586621681380414"><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681380414"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681380414"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; (R -&gt; Stream Rational) -&gt; Stream Rational
forall a b. Stream a -&gt; (a -&gt; Stream b) -&gt; Stream b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#lift_real"><span class="hs-identifier hs-type">lift_real</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-322"></span><span> </span><span id="lift_real"><span class="annot"><span class="annottext">lift_real :: (Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#lift_real"><span class="hs-identifier hs-var hs-var">lift_real</span></a></span></span><span> </span><span id="local-6989586621681380415"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681380415"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; (R -&gt; Stream Rational) -&gt; R -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681380415"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; (R -&gt; Stream Rational) -&gt; R -&gt; Stream Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681380417"><span id="local-6989586621681380422"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-325"></span><span>    </span><span id="local-6989586621681380433"><span class="annot"><span class="annottext">show :: Closure Stream R -&gt; String
</span><a href="#local-6989586621681380433"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681380435"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380435"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Double] -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Stream Double -&gt; [Double]
forall a. Integer -&gt; Stream a -&gt; [a]
</span><a href="Math.Number.Stream.html#take"><span class="hs-identifier hs-var">take</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; [Double]) -&gt; Stream Double -&gt; [Double]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Double) -&gt; Stream Rational -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380435"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-328"></span><span>   </span><span class="hs-keyword">type</span><span> </span><span id="Scalar"><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-var">Scalar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-329"></span><span>   </span><span id="local-6989586621681380445"><span class="annot"><span class="annottext">vzero :: Closure Stream R
</span><a href="Math.Matrix.Interface.html#vzero"><span class="hs-identifier hs-var hs-var hs-var hs-var">vzero</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R
forall v. VectorSpace v =&gt; v
</span><a href="Math.Matrix.Interface.html#vzero"><span class="hs-identifier hs-var">vzero</span></a></span><span>
</span><span id="line-330"></span><span>   </span><span id="local-6989586621681380447"><span class="annot"><span class="annottext">vnegate :: Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Matrix.Interface.html#vnegate"><span class="hs-identifier hs-var hs-var hs-var hs-var">vnegate</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380448"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380448"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall v. VectorSpace v =&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#vnegate"><span class="hs-identifier hs-var">vnegate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380448"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380450"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380450"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681380451"><span class="annot"><span class="annottext">%+ :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Matrix.Interface.html#%25%2B"><span class="hs-operator hs-var hs-var hs-var hs-var">%+</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380452"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380452"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380450"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall v. VectorSpace v =&gt; v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2B"><span class="hs-operator hs-var">%+</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380452"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-332"></span><span>   </span><span id="local-6989586621681380454"><span class="annot"><span class="annottext">Scalar (Closure Stream R)
</span><a href="#local-6989586621681380454"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681380455"><span class="annot"><span class="annottext">%* :: Scalar (Closure Stream R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">%*</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380456"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380456"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scalar (Closure Stream R)
Scalar R
</span><a href="#local-6989586621681380454"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Scalar R -&gt; R -&gt; R
forall v. VectorSpace v =&gt; Scalar v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var">%*</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380456"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-336"></span><span>    </span><span id="local-6989586621681380462"><span class="annot"><span class="annottext">distance :: Closure Stream R -&gt; Closure Stream R -&gt; Scalar (Closure Stream R)
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var hs-var hs-var hs-var">distance</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380463"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380463"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380464"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380464"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; Scalar R
forall s. MetricSpace s =&gt; s -&gt; s -&gt; Scalar s
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var">distance</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380463"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380464"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-339"></span><span>    </span><span id="local-6989586621681380469"><span class="annot"><span class="annottext">accumulation_point :: Closure Stream R -&gt; R
</span><a href="Math.Number.StreamInterface.html#accumulation_point"><span class="hs-identifier hs-var hs-var hs-var hs-var">accumulation_point</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#series"><span class="hs-identifier hs-type">series</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-342"></span><span> </span><span id="series"><span class="annot"><span class="annottext">series :: (Integer -&gt; R) -&gt; R
</span><a href="Math.Number.Real.html#series"><span class="hs-identifier hs-var hs-var">series</span></a></span></span><span> </span><span id="local-6989586621681380470"><span class="annot"><span class="annottext">Integer -&gt; R
</span><a href="#local-6989586621681380470"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
forall a. (Closed a, Num a) =&gt; Stream a -&gt; a
</span><a href="Math.Number.Stream.html#ssum"><span class="hs-identifier hs-var">ssum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Integer -&gt; R) -&gt; Stream R
forall a. (Integer -&gt; a) -&gt; Stream a
</span><a href="Math.Number.Stream.html#fromIntegerSeq"><span class="hs-identifier hs-var">fromIntegerSeq</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; R
</span><a href="#local-6989586621681380470"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span>  </span><span class="hs-comment">-- upperbound :: [R] -&gt; Prop R</span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-comment">-- upperbound set = Characteristic $ \x -&gt; and $ map (x &gt;=) set</span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-comment">-- lowerbound :: [R] -&gt; Prop R</span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-comment">-- lowerbound set = Characteristic $ \x -&gt; and $ map (x &lt;=) set</span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span> </span><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Least-upper-bound_property Least upper bound property&gt;</span><span>
</span><span id="line-351"></span><span> </span><span class="hs-comment">-- | note this is really undecidable.</span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-comment">-- supremum :: [R] -&gt; R</span><span>
</span><span id="line-354"></span><span>  </span><span class="hs-comment">-- supremum [x] = x</span><span>
</span><span id="line-355"></span><span>  </span><span class="hs-comment">-- supremum (Limit ~(Pre c cr):lst) = Limit $ Pre c $ rest</span><span>
</span><span id="line-356"></span><span>  </span><span class="hs-comment">--    where rest = liftA2 max cr $ approximate $ supremum lst</span><span>
</span><span id="line-357"></span><span>  </span><span class="hs-comment">-- supremum [] = negative_infinity</span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span> </span><span id="local-6989586621681379173"><span class="annot"><a href="Math.Number.Real.html#supremum_gen"><span class="hs-identifier hs-type">supremum_gen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681379173"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621681379173"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379173"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-360"></span><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379173"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379173"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-361"></span><span> </span><span id="supremum_gen"><span class="annot"><span class="annottext">supremum_gen :: forall a.
(Fractional a, Ord a, Limiting Stream a) =&gt;
[Closure Stream a] -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#supremum_gen"><span class="hs-identifier hs-var hs-var">supremum_gen</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream a
forall a. (Fractional a, Limiting Stream a) =&gt; Closure Stream a
</span><a href="Math.Number.Real.html#negative_infinity_gen"><span class="hs-identifier hs-var">negative_infinity_gen</span></a></span><span>
</span><span id="line-362"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#supremum_gen"><span class="hs-identifier hs-var">supremum_gen</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681380488"><span class="annot"><span class="annottext">Closure Stream a
</span><a href="#local-6989586621681380488"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream a
</span><a href="#local-6989586621681380488"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-363"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#supremum_gen"><span class="hs-identifier hs-var">supremum_gen</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681380489"><span class="annot"><span class="annottext">Closure Stream a
</span><a href="#local-6989586621681380489"><span class="hs-identifier hs-var">a</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681380490"><span class="annot"><span class="annottext">[Closure Stream a]
</span><a href="#local-6989586621681380490"><span class="hs-identifier hs-var">lst</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a) -&gt; Stream a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Stream a -&gt; Stream a
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380491"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Stream a) -&gt; Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380492"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-364"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681380492"><span class="annot"><span class="annottext">rest :: Stream a
</span><a href="#local-6989586621681380492"><span class="hs-identifier hs-var hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; Stream a -&gt; Stream a -&gt; Stream a
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380494"><span class="hs-identifier hs-var">cr</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Stream a) -&gt; Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream a -&gt; Stream a) -&gt; Closure Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Closure Stream a] -&gt; Closure Stream a
forall a.
(Fractional a, Ord a, Limiting Stream a) =&gt;
[Closure Stream a] -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#supremum_gen"><span class="hs-identifier hs-var">supremum_gen</span></a></span><span> </span><span class="annot"><span class="annottext">[Closure Stream a]
</span><a href="#local-6989586621681380490"><span class="hs-identifier hs-var">lst</span></a></span><span>
</span><span id="line-365"></span><span>          </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681380491"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380491"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681380494"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380494"><span class="hs-identifier hs-var">cr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream a
</span><a href="#local-6989586621681380489"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span> </span><span id="local-6989586621681379177"><span id="local-6989586621681379178"><span class="annot"><a href="Math.Number.Real.html#negate_limit"><span class="hs-identifier hs-type">negate_limit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379177"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379178"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681379178"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379177"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379178"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379177"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379178"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-368"></span><span> </span><span id="negate_limit"><span class="annot"><span class="annottext">negate_limit :: forall (str :: * -&gt; *) a.
(Limiting str a, Num a) =&gt;
Closure str a -&gt; Closure str a
</span><a href="Math.Number.Real.html#negate_limit"><span class="hs-identifier hs-var hs-var">negate_limit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Closure str a -&gt; Closure str a
forall (s :: * -&gt; *) a b.
(Limiting s a, Limiting s b) =&gt;
(a -&gt; b) -&gt; Closure s a -&gt; Closure s b
</span><a href="Math.Number.Stream.html#cmap"><span class="hs-identifier hs-var">cmap</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span>  </span><span class="hs-comment">-- infimum :: [Closure R] -&gt; Closure R</span><span>
</span><span id="line-371"></span><span>  </span><span class="hs-comment">-- infimum = negate_limit . supremum_gen . map negate_limit</span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span> </span><span id="local-6989586621681380501"><span class="annot"><a href="Math.Number.Real.html#infimum_gen"><span class="hs-identifier hs-type">infimum_gen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681380501"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621681380501"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681380501"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681380501"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681380501"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-374"></span><span> </span><span id="infimum_gen"><span class="annot"><span class="annottext">infimum_gen :: forall a.
(Fractional a, Ord a, Limiting Stream a) =&gt;
[Closure Stream a] -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#infimum_gen"><span class="hs-identifier hs-var hs-var">infimum_gen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a.
(Limiting str a, Num a) =&gt;
Closure str a -&gt; Closure str a
</span><a href="Math.Number.Real.html#negate_limit"><span class="hs-identifier hs-var">negate_limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream a -&gt; Closure Stream a)
-&gt; ([Closure Stream a] -&gt; Closure Stream a)
-&gt; [Closure Stream a]
-&gt; Closure Stream a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Closure Stream a] -&gt; Closure Stream a
forall a.
(Fractional a, Ord a, Limiting Stream a) =&gt;
[Closure Stream a] -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#supremum_gen"><span class="hs-identifier hs-var">supremum_gen</span></a></span><span> </span><span class="annot"><span class="annottext">([Closure Stream a] -&gt; Closure Stream a)
-&gt; ([Closure Stream a] -&gt; [Closure Stream a])
-&gt; [Closure Stream a]
-&gt; Closure Stream a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Closure Stream a -&gt; Closure Stream a)
-&gt; [Closure Stream a] -&gt; [Closure Stream a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a.
(Limiting str a, Num a) =&gt;
Closure str a -&gt; Closure str a
</span><a href="Math.Number.Real.html#negate_limit"><span class="hs-identifier hs-var">negate_limit</span></a></span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Infinitary"><span class="hs-identifier hs-type">Infinitary</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-377"></span><span>    </span><span id="local-6989586621681380516"><span class="annot"><span class="annottext">infinite :: R
</span><a href="Math.Number.Interface.html#infinite"><span class="hs-identifier hs-var hs-var hs-var hs-var">infinite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-var">infinity</span></a></span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-type">infinity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-380"></span><span> </span><span id="infinity"><span class="annot"><span class="annottext">infinity :: R
</span><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-var hs-var">infinity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational
forall a. Fractional a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power"><span class="hs-identifier hs-var">Stream.power</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bounded</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-383"></span><span>    </span><span id="local-6989586621681380522"><span class="annot"><span class="annottext">minBound :: R
</span><a href="#local-6989586621681380522"><span class="hs-identifier hs-var hs-var hs-var hs-var">minBound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-var">infinity</span></a></span><span>
</span><span id="line-384"></span><span>    </span><span id="local-6989586621681380524"><span class="annot"><span class="annottext">maxBound :: R
</span><a href="#local-6989586621681380524"><span class="hs-identifier hs-var hs-var hs-var hs-var">maxBound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-var">infinity</span></a></span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span> </span><span id="local-6989586621681380526"><span class="annot"><a href="Math.Number.Real.html#infinity_gen"><span class="hs-identifier hs-type">infinity_gen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681380526"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681380526"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681380526"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-387"></span><span> </span><span id="infinity_gen"><span class="annot"><span class="annottext">infinity_gen :: forall a. (Fractional a, Limiting Stream a) =&gt; Closure Stream a
</span><a href="Math.Number.Real.html#infinity_gen"><span class="hs-identifier hs-var hs-var">infinity_gen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a) -&gt; Stream a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream a
forall a. Fractional a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power"><span class="hs-identifier hs-var">Stream.power</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span> </span><span id="local-6989586621681379175"><span class="annot"><a href="Math.Number.Real.html#negative_infinity_gen"><span class="hs-identifier hs-type">negative_infinity_gen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681379175"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379175"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379175"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-390"></span><span> </span><span id="negative_infinity_gen"><span class="annot"><span class="annottext">negative_infinity_gen :: forall a. (Fractional a, Limiting Stream a) =&gt; Closure Stream a
</span><a href="Math.Number.Real.html#negative_infinity_gen"><span class="hs-identifier hs-var hs-var">negative_infinity_gen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a) -&gt; Stream a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Stream a) -&gt; Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream a
forall a. Fractional a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power"><span class="hs-identifier hs-var">Stream.power</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span> </span><span class="annot"><span class="hs-comment">-- | epsilon is a real that converges to zero.</span></span><span>
</span><span id="line-393"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681380547"><span id="local-6989586621681380550"><span id="local-6989586621681380553"><span id="local-6989586621681380556"><span id="local-6989586621681380559"><span id="local-6989586621681380562"><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-394"></span><span>   </span><span id="local-6989586621681380567"><span class="annot"><span class="annottext">epsilon_closure :: Closure Stream R
</span><a href="Math.Number.StreamInterface.html#epsilon_closure"><span class="hs-identifier hs-var hs-var hs-var hs-var">epsilon_closure</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
forall a. Limiting Stream a =&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Stream.html#close"><span class="hs-identifier hs-var">close</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-var">infinity</span></a></span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Squeeze_theorem Squeeze theorem&gt;</span></span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#limit_below"><span class="hs-identifier hs-type">limit_below</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-399"></span><span> </span><span id="limit_below"><span class="annot"><span class="annottext">limit_below :: R -&gt; (R -&gt; R) -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#limit_below"><span class="hs-identifier hs-var hs-var">limit_below</span></a></span></span><span> </span><span id="local-6989586621681380568"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380568"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681380569"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380569"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Closure Stream R) -&gt; Stream R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
forall a. Limiting Stream a =&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Stream.html#close"><span class="hs-identifier hs-var">close</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380568"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulation_point"><span class="hs-identifier hs-var">accumulation_point</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#epsilon_closure"><span class="hs-identifier hs-var">epsilon_closure</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; (R -&gt; Stream R) -&gt; Stream R
forall a b. Stream a -&gt; (a -&gt; Stream b) -&gt; Stream b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream R) -&gt; (R -&gt; R) -&gt; R -&gt; Stream R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380569"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span>
</span><span id="line-401"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Squeeze_theorem Squeeze_theorem&gt;</span></span><span>
</span><span id="line-402"></span><span>
</span><span id="line-403"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#limit_above"><span class="hs-identifier hs-type">limit_above</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-404"></span><span> </span><span id="limit_above"><span class="annot"><span class="annottext">limit_above :: R -&gt; (R -&gt; R) -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#limit_above"><span class="hs-identifier hs-var hs-var">limit_above</span></a></span></span><span> </span><span id="local-6989586621681380570"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380570"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681380571"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380571"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Closure Stream R) -&gt; Stream R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
forall a. Limiting Stream a =&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Stream.html#close"><span class="hs-identifier hs-var">close</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380570"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulation_point"><span class="hs-identifier hs-var">accumulation_point</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#epsilon_closure"><span class="hs-identifier hs-var">epsilon_closure</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; (R -&gt; Stream R) -&gt; Stream R
forall a b. Stream a -&gt; (a -&gt; Stream b) -&gt; Stream b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream R) -&gt; (R -&gt; R) -&gt; R -&gt; Stream R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380571"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Squeeze_theorem Squeeze_theorem&gt;</span></span><span>
</span><span id="line-407"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#limit_both"><span class="hs-identifier hs-type">limit_both</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-408"></span><span> </span><span id="limit_both"><span class="annot"><span class="annottext">limit_both :: R -&gt; (R -&gt; R) -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#limit_both"><span class="hs-identifier hs-var hs-var">limit_both</span></a></span></span><span> </span><span id="local-6989586621681380572"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380572"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681380573"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380573"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Closure Stream R) -&gt; Stream R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; (R -&gt; R) -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#limit_below"><span class="hs-identifier hs-var">limit_below</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380572"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380573"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-409"></span><span>             </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R -&gt; Stream R
forall a. Stream a -&gt; Stream a -&gt; Stream a
forall (f :: * -&gt; *) a. InterleaveFunctor f =&gt; f a -&gt; f a -&gt; f a
</span><a href="Math.Tools.Functor.html#interleave"><span class="hs-operator hs-var">`interleave`</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; (R -&gt; R) -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#limit_above"><span class="hs-identifier hs-var">limit_above</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380572"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380573"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#negative_infinity"><span class="hs-identifier hs-type">negative_infinity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-413"></span><span> </span><span id="negative_infinity"><span class="annot"><span class="annottext">negative_infinity :: R
</span><a href="Math.Number.Real.html#negative_infinity"><span class="hs-identifier hs-var hs-var">negative_infinity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-var">infinity</span></a></span><span>
</span><span id="line-414"></span><span>
</span><span id="line-415"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#epsilon_linear"><span class="hs-identifier hs-type">epsilon_linear</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-416"></span><span> </span><span id="epsilon_linear"><span class="annot"><span class="annottext">epsilon_linear :: R
</span><a href="Math.Number.Real.html#epsilon_linear"><span class="hs-identifier hs-var hs-var">epsilon_linear</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Rational) -&gt; Stream Integer -&gt; Stream Rational
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#nonzero_naturals"><span class="hs-identifier hs-var">nonzero_naturals</span></a></span><span>
</span><span id="line-417"></span><span>
</span><span id="line-418"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#increase_accuracy"><span class="hs-identifier hs-type">increase_accuracy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-419"></span><span> </span><span id="increase_accuracy"><span class="annot"><span class="annottext">increase_accuracy :: R -&gt; R
</span><a href="Math.Number.Real.html#increase_accuracy"><span class="hs-identifier hs-var hs-var">increase_accuracy</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681380577"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380577"><span class="hs-identifier hs-var">xr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380577"><span class="hs-identifier hs-var">xr</span></a></span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#lessthan_precision"><span class="hs-identifier hs-type">lessthan_precision</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-422"></span><span> </span><span id="lessthan_precision"><span class="annot"><span class="annottext">lessthan_precision :: R -&gt; R -&gt; Integer -&gt; Bool
</span><a href="Math.Number.Real.html#lessthan_precision"><span class="hs-identifier hs-var hs-var">lessthan_precision</span></a></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span>
</span><span id="line-423"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#lessthan_precision"><span class="hs-identifier hs-var">lessthan_precision</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681380578"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380578"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380579"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380579"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681380580"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380580"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621681380581"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380581"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681380582"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380582"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-424"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380578"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380580"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-425"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380578"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380580"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-426"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; Integer -&gt; Bool
</span><a href="Math.Number.Real.html#lessthan_precision"><span class="hs-identifier hs-var">lessthan_precision</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380579"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380581"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380582"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span> </span><span id="local-6989586621681379194"><span id="local-6989586621681379195"><span class="annot"><a href="Math.Number.Real.html#limiting_distance"><span class="hs-identifier hs-type">limiting_distance</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681379194"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379195"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379194"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379195"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379194"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379195"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379194"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379195"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379194"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-429"></span><span> </span><span id="limiting_distance"><span class="annot"><span class="annottext">limiting_distance :: forall a (str :: * -&gt; *).
(Num a, Limiting str a) =&gt;
Closure str a -&gt; Closure str a -&gt; Closure str a
</span><a href="Math.Number.Real.html#limiting_distance"><span class="hs-identifier hs-var hs-var">limiting_distance</span></a></span></span><span> </span><span id="local-6989586621681380596"><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681380596"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380597"><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681380597"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">str a -&gt; Closure str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str a -&gt; Closure str a) -&gt; str a -&gt; Closure str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span>
</span><span id="line-430"></span><span>                       </span><span class="hs-special">(</span><span id="local-6989586621681380598"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380598"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380599"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380599"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681380596"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">str a -&gt; str a -&gt; str (a, a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f (a, b)
</span><a href="Math.Tools.Functor.html#%3C%26%3E"><span class="hs-operator hs-var">&lt;&amp;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681380597"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-431"></span><span>                       </span><span class="annot"><span class="annottext">a -&gt; str a
forall a. a -&gt; str a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; str a) -&gt; a -&gt; str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380598"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380599"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#distance_matrix"><span class="hs-identifier hs-type">distance_matrix</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">:*:</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-434"></span><span> </span><span id="distance_matrix"><span class="annot"><span class="annottext">distance_matrix :: R -&gt; R -&gt; (:*:) Stream Stream Rational
</span><a href="Math.Number.Real.html#distance_matrix"><span class="hs-identifier hs-var hs-var">distance_matrix</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681380601"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380601"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681380602"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380602"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational
-&gt; Stream Rational
-&gt; (:*:) Stream Stream Rational
forall (m :: * -&gt; *) (n :: * -&gt; *) a b c.
(Functor m, Functor n) =&gt;
(a -&gt; b -&gt; c) -&gt; m a -&gt; n b -&gt; (:*:) m n c
</span><a href="Math.Matrix.Interface.html#matrix"><span class="hs-identifier hs-var">matrix</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681380603"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380603"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681380604"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380604"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380603"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380604"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380601"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380602"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span> </span><span class="hs-comment">-- | compute rational approximation more precise than the given rational</span><span>
</span><span id="line-437"></span><span> </span><span class="hs-comment">-- the precision is expressed as rational number close to zero,</span><span>
</span><span id="line-438"></span><span> </span><span class="hs-comment">-- the result will be within range \([r-p,r+p]\), in the sense</span><span>
</span><span id="line-439"></span><span> </span><span class="hs-comment">-- that in the sequence of rational approximations \(r = (r_i | i \in {\mathbf N})\)</span><span>
</span><span id="line-440"></span><span> </span><span class="hs-comment">-- we have \(\lvert r_{i+1} - r_i \rvert \leq p\). Note that we do _not_ attempt to prove</span><span>
</span><span id="line-441"></span><span> </span><span class="hs-comment">-- that all successive approximations have this same property,</span><span>
</span><span id="line-442"></span><span> </span><span class="hs-comment">-- we need the differences to be monotonically decreasing for this</span><span>
</span><span id="line-443"></span><span> </span><span class="hs-comment">-- to represent correct precision.</span><span>
</span><span id="line-444"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#at_precision_rational"><span class="hs-identifier hs-type">at_precision_rational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-445"></span><span> </span><span id="at_precision_rational"><span class="annot"><span class="annottext">at_precision_rational :: R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.Real.html#at_precision_rational"><span class="hs-identifier hs-var hs-var">at_precision_rational</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681380605"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380605"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681380606"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380606"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
</span><a href="#local-6989586621681380607"><span class="hs-identifier hs-var">check_precision</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380605"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-446"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681380607"><span class="annot"><span class="annottext">check_precision :: Stream Rational -&gt; Rational
</span><a href="#local-6989586621681380607"><span class="hs-identifier hs-var hs-var">check_precision</span></a></span></span><span> </span><span class="hs-glyph">~</span><span id="local-6989586621681380608"><span class="annot"><span class="annottext">z :: Stream Rational
</span><a href="#local-6989586621681380608"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681380609"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380609"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">~</span><span id="local-6989586621681380610"><span class="annot"><span class="annottext">z' :: Stream Rational
</span><a href="#local-6989586621681380610"><span class="hs-identifier hs-var">z'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681380611"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380611"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-447"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380611"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380609"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380606"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380609"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-448"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
</span><a href="#local-6989586621681380607"><span class="hs-identifier hs-var">check_precision</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380610"><span class="hs-identifier hs-var">z'</span></a></span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span> </span><span class="hs-comment">-- | here precision is expresses as integer power of 10, e.g.</span><span>
</span><span id="line-451"></span><span> </span><span class="hs-comment">--   \(1 == 10^{-1}\), \(2 == 10^{-2}\), \(3 == 10^{-3}\) and so on.</span><span>
</span><span id="line-452"></span><span> </span><span class="hs-comment">--   so how many digits after the decimal point are required.</span><span>
</span><span id="line-453"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#at_precision"><span class="hs-identifier hs-type">at_precision</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-454"></span><span> </span><span id="at_precision"><span class="annot"><span class="annottext">at_precision :: R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#at_precision"><span class="hs-identifier hs-var hs-var">at_precision</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681380613"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380613"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681380614"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380614"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
</span><a href="#local-6989586621681380615"><span class="hs-identifier hs-var">check_precision</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380613"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-455"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681380616"><span class="annot"><span class="annottext">lm :: Rational
</span><a href="#local-6989586621681380616"><span class="hs-identifier hs-var hs-var">lm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">10</span></span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380614"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-456"></span><span>         </span><span id="local-6989586621681380615"><span class="annot"><span class="annottext">check_precision :: Stream Rational -&gt; Stream Rational
</span><a href="#local-6989586621681380615"><span class="hs-identifier hs-var hs-var">check_precision</span></a></span></span><span>   </span><span class="hs-glyph">~</span><span id="local-6989586621681380618"><span class="annot"><span class="annottext">z :: Stream Rational
</span><a href="#local-6989586621681380618"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681380619"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380619"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">~</span><span id="local-6989586621681380620"><span class="annot"><span class="annottext">z' :: Stream Rational
</span><a href="#local-6989586621681380620"><span class="hs-identifier hs-var">z'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681380621"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380621"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-457"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380621"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380619"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380616"><span class="hs-identifier hs-var">lm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380618"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-458"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
</span><a href="#local-6989586621681380615"><span class="hs-identifier hs-var">check_precision</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380620"><span class="hs-identifier hs-var">z'</span></a></span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span> </span><span class="annot"><span class="hs-comment">-- | rational precision expressed as integer power of 10</span></span><span>
</span><span id="line-461"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#precision_rational"><span class="hs-identifier hs-type">precision_rational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-462"></span><span> </span><span id="precision_rational"><span class="annot"><span class="annottext">precision_rational :: R -&gt; Integer -&gt; Rational
</span><a href="Math.Number.Real.html#precision_rational"><span class="hs-identifier hs-var hs-var">precision_rational</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681380622"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380622"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681380623"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380623"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
</span><a href="#local-6989586621681380624"><span class="hs-identifier hs-var">check_precision</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380622"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-463"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681380624"><span class="annot"><span class="annottext">check_precision :: Stream Rational -&gt; Rational
</span><a href="#local-6989586621681380624"><span class="hs-identifier hs-var hs-var">check_precision</span></a></span></span><span> </span><span class="hs-glyph">~</span><span id="local-6989586621681380625"><span class="annot"><span class="annottext">z :: Stream Rational
</span><a href="#local-6989586621681380625"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681380626"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380626"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">~</span><span id="local-6989586621681380627"><span class="annot"><span class="annottext">z' :: Stream Rational
</span><a href="#local-6989586621681380627"><span class="hs-identifier hs-var">z'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681380628"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380628"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621681380629"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380629"><span class="hs-identifier hs-var">yr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-464"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380628"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380626"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">10</span></span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380623"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380626"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-465"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
</span><a href="#local-6989586621681380624"><span class="hs-identifier hs-var">check_precision</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380627"><span class="hs-identifier hs-var">z'</span></a></span><span>
</span><span id="line-466"></span><span>
</span><span id="line-467"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#real_derivate"><span class="hs-identifier hs-type">real_derivate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-468"></span><span> </span><span id="real_derivate"><span class="annot"><span class="annottext">real_derivate :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#real_derivate"><span class="hs-identifier hs-var hs-var">real_derivate</span></a></span></span><span> </span><span id="local-6989586621681380630"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380630"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681380631"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380631"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulation_point"><span class="hs-identifier hs-var">accumulation_point</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R) -&gt; Closure Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; Closure Stream R
forall (str :: * -&gt; *) a.
Infinitesimal str a =&gt;
(a -&gt; a) -&gt; a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#derivate_closed"><span class="hs-identifier hs-var">derivate_closed</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380630"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380631"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-469"></span><span>
</span><span id="line-470"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#DifferentiallyClosed"><span class="hs-identifier hs-type">DifferentiallyClosed</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-471"></span><span>   </span><span id="local-6989586621681380637"><span class="annot"><span class="annottext">derivate :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="#local-6989586621681380637"><span class="hs-identifier hs-var hs-var hs-var hs-var">derivate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#real_derivate"><span class="hs-identifier hs-var">real_derivate</span></a></span><span>
</span><span id="line-472"></span><span>   </span><span id="local-6989586621681380639"><span class="annot"><span class="annottext">integral :: (R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="#local-6989586621681380639"><span class="hs-identifier hs-var hs-var hs-var hs-var">integral</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.Real.html#integral_real"><span class="hs-identifier hs-var">integral_real</span></a></span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#DifferentiallyClosed"><span class="hs-identifier hs-type">DifferentiallyClosed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-475"></span><span>   </span><span id="local-6989586621681380648"><span class="annot"><span class="annottext">derivate :: (Closure Stream R -&gt; Closure Stream R)
-&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Interface.html#derivate"><span class="hs-identifier hs-var hs-var hs-var hs-var">derivate</span></a></span></span><span> </span><span id="local-6989586621681380649"><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380649"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681380650"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380650"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall r. DifferentiallyClosed r =&gt; (r -&gt; r) -&gt; r -&gt; r
</span><a href="Math.Number.Interface.html#derivate"><span class="hs-identifier hs-var">derivate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R) -&gt; (R -&gt; Closure Stream R) -&gt; R -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380649"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; Closure Stream R)
-&gt; (R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380650"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-476"></span><span>   </span><span id="local-6989586621681380654"><span class="annot"><span class="annottext">integral :: (Closure Stream R, Closure Stream R)
-&gt; (Closure Stream R -&gt; Closure Stream R) -&gt; Closure Stream R
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var hs-var hs-var hs-var">integral</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681380655"><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681380655"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380656"><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681380656"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681380657"><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380657"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681380655"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681380656"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R) -&gt; (R -&gt; Closure Stream R) -&gt; R -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681380657"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; Closure Stream R)
-&gt; (R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#real_exp"><span class="hs-identifier hs-type">real_exp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-479"></span><span> </span><span id="real_exp"><span class="annot"><span class="annottext">real_exp :: R -&gt; R
</span><a href="Math.Number.Real.html#real_exp"><span class="hs-identifier hs-var hs-var">real_exp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R -&gt; R) -&gt; R -&gt; R
forall a. (a -&gt; a) -&gt; a
</span><span class="hs-identifier hs-var">fix</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#real_derivate"><span class="hs-identifier hs-var">real_derivate</span></a></span><span>
</span><span id="line-480"></span><span>
</span><span id="line-481"></span><span> </span><span class="annot"><span class="hs-comment">-- | i'th element of derivates_at(f,s) is \(D^i[f](s_i)\)</span></span><span>
</span><span id="line-482"></span><span> </span><span id="local-6989586621681379205"><span class="annot"><a href="Math.Number.Real.html#derivates_at"><span class="hs-identifier hs-type">derivates_at</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Interface.html#DifferentiallyClosed"><span class="hs-identifier hs-type">DifferentiallyClosed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379205"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379205"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379205"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379205"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379205"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-483"></span><span> </span><span id="derivates_at"><span class="annot"><span class="annottext">derivates_at :: forall a.
DifferentiallyClosed a =&gt;
(a -&gt; a) -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Real.html#derivates_at"><span class="hs-identifier hs-var hs-var">derivates_at</span></a></span></span><span> </span><span id="local-6989586621681380662"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681380662"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681380663"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380663"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Stream (a -&gt; a)
forall (str :: * -&gt; *) r.
(StreamBuilder str, DifferentiallyClosed r) =&gt;
(r -&gt; r) -&gt; str (r -&gt; r)
</span><a href="Math.Number.Interface.html#derivates"><span class="hs-identifier hs-var">derivates</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681380662"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Stream (a -&gt; a) -&gt; Stream a -&gt; Stream a
forall a b. Stream (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681380663"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-484"></span><span>
</span><span id="line-485"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Arithmetic%E2%80%93geometric_mean Arithmetic-geometric mean&gt;</span></span><span>
</span><span id="line-486"></span><span>
</span><span id="line-487"></span><span> </span><span id="local-6989586621681379211"><span id="local-6989586621681379212"><span class="annot"><a href="Math.Number.Real.html#agm"><span class="hs-identifier hs-type">agm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681379211"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379212"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379211"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379211"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379211"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379212"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379211"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-488"></span><span> </span><span id="agm"><span class="annot"><span class="annottext">agm :: forall a (str :: * -&gt; *).
(Floating a, Limiting str a) =&gt;
a -&gt; a -&gt; Closure str a
</span><a href="Math.Number.Real.html#agm"><span class="hs-identifier hs-var hs-var">agm</span></a></span></span><span> </span><span id="local-6989586621681380683"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380683"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380684"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380684"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">str a -&gt; Closure str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str a -&gt; Closure str a) -&gt; str a -&gt; Closure str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((a, a) -&gt; a) -&gt; str (a, a) -&gt; str a
forall a b. (a -&gt; b) -&gt; str a -&gt; str b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(a, a) -&gt; a
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">(str (a, a) -&gt; str a) -&gt; str (a, a) -&gt; str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((a, a) -&gt; (a, a)) -&gt; (a, a) -&gt; str (a, a)
forall (str :: * -&gt; *) a.
StreamBuilder str =&gt;
(a -&gt; a) -&gt; a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#iterate_stream"><span class="hs-identifier hs-var">iterate_stream</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621681380687"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380687"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380688"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380688"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380687"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380688"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">a
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380687"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380688"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380683"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380684"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span> </span><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Exponential_function Exponential function&gt;</span><span>
</span><span id="line-491"></span><span> </span><span class="hs-comment">-- using limit definition \(\exp(x) = \lim_{n\rightarrow\infty}(1+{{x}\over{n}})^n\).</span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#expo"><span class="hs-identifier hs-type">expo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-494"></span><span> </span><span id="expo"><span class="annot"><span class="annottext">expo :: R -&gt; R
</span><a href="Math.Number.Real.html#expo"><span class="hs-identifier hs-var hs-var">expo</span></a></span></span><span> </span><span id="local-6989586621681380689"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380689"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-495"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621681380690"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380690"><span class="hs-identifier hs-var">xr</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380691"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380691"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380689"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Integer -&gt; Stream (Rational, Integer)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f (a, b)
</span><a href="Math.Tools.Functor.html#%3C%26%3E"><span class="hs-operator hs-var">&lt;&amp;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer
forall a. Integral a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power_integral"><span class="hs-identifier hs-var">power_integral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-496"></span><span>            </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Stream Rational) -&gt; Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380690"><span class="hs-identifier hs-var">xr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380691"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380691"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-497"></span><span>
</span><span id="line-498"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Numerics"><span class="hs-identifier hs-type">Numerics</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-499"></span><span>    </span><span id="local-6989586621681380698"><span class="annot"><span class="annottext">newtons_method :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.Interface.html#newtons_method"><span class="hs-identifier hs-var hs-var hs-var hs-var">newtons_method</span></a></span></span><span> </span><span id="local-6989586621681380699"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380699"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681380700"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380700"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulation_point"><span class="hs-identifier hs-var">accumulation_point</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R) -&gt; Closure Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; Closure Stream R
forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtons_method_real_closure"><span class="hs-identifier hs-var">newtons_method_real_closure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380699"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380700"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-500"></span><span>
</span><span id="line-501"></span><span> </span><span id="local-6989586621681379222"><span class="annot"><a href="Math.Number.Real.html#newtons_method_real_closure"><span class="hs-identifier hs-type">newtons_method_real_closure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379222"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379222"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379222"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379222"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379222"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-502"></span><span> </span><span id="newtons_method_real_closure"><span class="annot"><span class="annottext">newtons_method_real_closure :: forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtons_method_real_closure"><span class="hs-identifier hs-var hs-var">newtons_method_real_closure</span></a></span></span><span> </span><span id="local-6989586621681380714"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681380714"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681380715"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380715"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a) -&gt; Stream a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Stream a
forall (str :: * -&gt; *) a.
StreamBuilder str =&gt;
(a -&gt; a) -&gt; a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#iterate_stream"><span class="hs-identifier hs-var">iterate_stream</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681380716"><span class="hs-identifier hs-var">iteration</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380715"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-503"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681380716"><span class="annot"><span class="annottext">iteration :: a -&gt; a
</span><a href="#local-6989586621681380716"><span class="hs-identifier hs-var hs-var">iteration</span></a></span></span><span> </span><span id="local-6989586621681380717"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380717"><span class="hs-identifier hs-var">z'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380717"><span class="hs-identifier hs-var">z'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681380714"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380717"><span class="hs-identifier hs-var">z'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; a
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulation_point"><span class="hs-identifier hs-var">accumulation_point</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall (str :: * -&gt; *) a.
Infinitesimal str a =&gt;
(a -&gt; a) -&gt; a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#derivate_closed"><span class="hs-identifier hs-var">derivate_closed</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681380714"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380717"><span class="hs-identifier hs-var">z'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-504"></span><span>
</span><span id="line-505"></span><span> </span><span id="local-6989586621681379224"><span id="local-6989586621681379225"><span class="annot"><a href="Math.Number.Real.html#eigenvalue"><span class="hs-identifier hs-type">eigenvalue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379224"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-506"></span><span>   </span><span class="annot"><a href="Math.Matrix.Interface.html#LinearTraceable"><span class="hs-identifier hs-type">LinearTraceable</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#LinearMap"><span class="hs-identifier hs-type">LinearMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379225"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379224"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-507"></span><span>   </span><span class="annot"><a href="Math.Matrix.Interface.html#Linearizable"><span class="hs-identifier hs-type">Linearizable</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#LinearMap"><span class="hs-identifier hs-type">LinearMap</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">(:*:)</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379225"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379225"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379224"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span>
</span><span id="line-508"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621681379225"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681379224"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379225"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379224"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-509"></span><span>                </span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379225"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379224"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#LinearTransform"><span class="hs-identifier hs-type">LinearTransform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379225"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379225"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379224"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-510"></span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-511"></span><span>            </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379225"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379224"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#%3A-%3E"><span class="hs-operator hs-type">:-&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379225"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379224"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379224"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-512"></span><span> </span><span id="eigenvalue"><span class="annot"><span class="annottext">eigenvalue :: forall a (m :: * -&gt; *).
(Closed a, LinearTraceable LinearMap m a,
 Linearizable LinearMap (:*:) m m a, Applicative m,
 a ~ Scalar (m a), VectorSpace (m a), LinearTransform m m a) =&gt;
(m a :-&gt; m a) -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#eigenvalue"><span class="hs-identifier hs-var hs-var">eigenvalue</span></a></span></span><span> </span><span id="local-6989586621681380737"><span class="annot"><span class="annottext">m a :-&gt; m a
</span><a href="#local-6989586621681380737"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtons_method_real_closure"><span class="hs-identifier hs-var">newtons_method_real_closure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(m a :-&gt; m a) -&gt; a -&gt; a
forall (m :: * -&gt; *) a.
(LinearTraceable LinearMap m a, VectorSpace (m a),
 Linearizable LinearMap (:*:) m m a, LinearTransform m m a,
 Scalar (m a) ~ a) =&gt;
(m a :-&gt; m a) -&gt; a -&gt; a
</span><a href="Math.Matrix.Instances.html#characteristicPolynomial"><span class="hs-identifier hs-var">characteristicPolynomial</span></a></span><span> </span><span class="annot"><span class="annottext">m a :-&gt; m a
</span><a href="#local-6989586621681380737"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span> </span><span id="local-6989586621681379231"><span id="local-6989586621681379232"><span class="annot"><a href="Math.Number.Real.html#integrate_vector"><span class="hs-identifier hs-type">integrate_vector</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379231"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379231"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379232"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379231"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-515"></span><span>                      </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379232"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379231"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-516"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379231"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379231"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379232"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379231"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379231"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379231"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379232"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379231"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-517"></span><span> </span><span id="integrate_vector"><span class="annot"><span class="annottext">integrate_vector :: forall a (str :: * -&gt; *).
(Enum (Scalar a), VectorSpace a, Limiting str a,
 Limiting str (Scalar a)) =&gt;
(Scalar a -&gt; a)
-&gt; Closure str (Scalar a) -&gt; (Scalar a, Scalar a) -&gt; Closure str a
</span><a href="Math.Number.Real.html#integrate_vector"><span class="hs-identifier hs-var hs-var">integrate_vector</span></a></span></span><span> </span><span id="local-6989586621681380754"><span class="annot"><span class="annottext">Scalar a -&gt; a
</span><a href="#local-6989586621681380754"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681380755"><span class="annot"><span class="annottext">Closure str (Scalar a)
</span><a href="#local-6989586621681380755"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681380756"><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681380756"><span class="hs-identifier hs-var">xa</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380757"><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681380757"><span class="hs-identifier hs-var">ya</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">str a -&gt; Closure str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str a -&gt; Closure str a) -&gt; str a -&gt; Closure str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-518"></span><span>    </span><span id="local-6989586621681380758"><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681380758"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure str (Scalar a) -&gt; str (Scalar a)
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str (Scalar a)
</span><a href="#local-6989586621681380755"><span class="hs-identifier hs-var">dx</span></a></span><span>
</span><span id="line-519"></span><span>    </span><span class="annot"><span class="annottext">a -&gt; str a
forall a. a -&gt; str a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; str a) -&gt; a -&gt; str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, VectorSpace a) =&gt; t a -&gt; a
</span><a href="Math.Matrix.Interface.html#vsum"><span class="hs-identifier hs-var">vsum</span></a></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; a) -&gt; [a] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Scalar a -&gt; a) -&gt; [Scalar a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681380758"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Scalar a -&gt; a -&gt; a
forall v. VectorSpace v =&gt; Scalar v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var">%*</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; (Scalar a -&gt; a) -&gt; Scalar a -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Scalar a -&gt; a
</span><a href="#local-6989586621681380754"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681380756"><span class="hs-identifier hs-var">xa</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681380756"><span class="hs-identifier hs-var">xa</span></a></span><span> </span><span class="annot"><span class="annottext">Scalar a -&gt; Scalar a -&gt; Scalar a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681380758"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681380757"><span class="hs-identifier hs-var">ya</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-520"></span><span>
</span><span id="line-521"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Methods_of_contour_integration&gt;</span></span><span>
</span><span id="line-522"></span><span> </span><span id="local-6989586621681379237"><span id="local-6989586621681379238"><span class="annot"><a href="Math.Number.Real.html#integrate"><span class="hs-identifier hs-type">integrate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="#local-6989586621681379237"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681379237"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379238"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379237"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-523"></span><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379237"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379237"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379238"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379237"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379237"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621681379237"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379238"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379237"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-524"></span><span> </span><span id="integrate"><span class="annot"><span class="annottext">integrate :: forall a (str :: * -&gt; *).
(Enum a, Num a, Limiting str a) =&gt;
(a -&gt; a) -&gt; Closure str a -&gt; (a, a) -&gt; Closure str a
</span><a href="Math.Number.Real.html#integrate"><span class="hs-identifier hs-var hs-var">integrate</span></a></span></span><span> </span><span id="local-6989586621681380773"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681380773"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681380774"><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681380774"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681380775"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380775"><span class="hs-identifier hs-var">xa</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380776"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380776"><span class="hs-identifier hs-var">ya</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">str a -&gt; Closure str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str a -&gt; Closure str a) -&gt; str a -&gt; Closure str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-525"></span><span>    </span><span id="local-6989586621681380777"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380777"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681380774"><span class="hs-identifier hs-var">dx</span></a></span><span>
</span><span id="line-526"></span><span>    </span><span class="annot"><span class="annottext">a -&gt; str a
forall a. a -&gt; str a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; str a) -&gt; a -&gt; str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380777"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">Prelude.sum</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; a) -&gt; [a] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; [a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681380773"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380775"><span class="hs-identifier hs-var">xa</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380775"><span class="hs-identifier hs-var">xa</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380777"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380776"><span class="hs-identifier hs-var">ya</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#integral_real"><span class="hs-identifier hs-type">integral_real</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-529"></span><span> </span><span id="integral_real"><span class="annot"><span class="annottext">integral_real :: (R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.Real.html#integral_real"><span class="hs-identifier hs-var hs-var">integral_real</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681380778"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380778"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380779"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380779"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681380780"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380780"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R) -&gt; Closure Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Closure Stream R) -&gt; Stream R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-530"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681380781"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380781"><span class="hs-identifier hs-var">eps</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681380782"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380782"><span class="hs-identifier hs-var">xa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681380783"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380783"><span class="hs-identifier hs-var">ya</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Rational
-&gt; Stream Rational
-&gt; Stream Rational
-&gt; Stream (Rational, Rational, Rational)
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
f a -&gt; f b -&gt; f c -&gt; f (a, b, c)
</span><a href="Math.Tools.Functor.html#fzip3"><span class="hs-identifier hs-var">fzip3</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational) -&gt; R -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#epsilon_closure"><span class="hs-identifier hs-var">epsilon_closure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-531"></span><span>                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380778"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-532"></span><span>                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380779"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-533"></span><span>    </span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream R) -&gt; R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380781"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Scalar R -&gt; R -&gt; R
forall v. VectorSpace v =&gt; Scalar v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var">%*</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">[R] -&gt; R
forall (t :: * -&gt; *) a. (Foldable t, VectorSpace a) =&gt; t a -&gt; a
</span><a href="Math.Matrix.Interface.html#vsum"><span class="hs-identifier hs-var">vsum</span></a></span><span> </span><span class="annot"><span class="annottext">([R] -&gt; R) -&gt; [R] -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span>
</span><span id="line-534"></span><span>       </span><span class="annot"><span class="annottext">(Rational -&gt; R) -&gt; [Rational] -&gt; [R]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681380780"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Rational -&gt; R) -&gt; Rational -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380782"><span class="hs-identifier hs-var">xa</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380782"><span class="hs-identifier hs-var">xa</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380781"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380783"><span class="hs-identifier hs-var">ya</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-535"></span><span>
</span><span id="line-536"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#integral_rational"><span class="hs-identifier hs-type">integral_rational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-537"></span><span> </span><span id="integral_rational"><span class="annot"><span class="annottext">integral_rational :: (R, R) -&gt; (Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.Real.html#integral_rational"><span class="hs-identifier hs-var hs-var">integral_rational</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681380784"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380784"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380785"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380785"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681380786"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681380786"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-538"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681380787"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380787"><span class="hs-identifier hs-var">eps</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380788"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380788"><span class="hs-identifier hs-var">xa</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380789"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380789"><span class="hs-identifier hs-var">ya</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Rational
-&gt; Stream Rational
-&gt; Stream Rational
-&gt; Stream (Rational, Rational, Rational)
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
f a -&gt; f b -&gt; f c -&gt; f (a, b, c)
</span><a href="Math.Tools.Functor.html#fzip3"><span class="hs-identifier hs-var">fzip3</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational) -&gt; R -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#epsilon_closure"><span class="hs-identifier hs-var">epsilon_closure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-539"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380784"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-540"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380785"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-541"></span><span>        </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Stream Rational) -&gt; Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380787"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">[Rational] -&gt; Rational
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">Prelude.sum</span></span><span> </span><span class="annot"><span class="annottext">([Rational] -&gt; Rational) -&gt; [Rational] -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; [Rational] -&gt; [Rational]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681380786"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380788"><span class="hs-identifier hs-var">xa</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380788"><span class="hs-identifier hs-var">xa</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380787"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380789"><span class="hs-identifier hs-var">ya</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-542"></span><span>
</span><span id="line-543"></span><span>
</span><span id="line-544"></span><span> </span><span class="annot"><span class="hs-comment">-- | for integrate_curve (xa,ya) curve f dx, Requires: \(\lim_{x \rightarrow 0}curve(x) = 0 \land \lim_{i\rightarrow \infty} dx_i = 0\)</span></span><span>
</span><span id="line-545"></span><span> </span><span id="local-6989586621681379241"><span id="local-6989586621681379242"><span id="local-6989586621681379243"><span class="annot"><a href="Math.Number.Real.html#integrate_curve"><span class="hs-identifier hs-type">integrate_curve</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="#local-6989586621681379241"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681379241"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681379242"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379243"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379241"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379243"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379242"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-546"></span><span>                 </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379241"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621681379241"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379241"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379242"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379242"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379242"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379243"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379241"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379243"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379242"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-547"></span><span> </span><span id="integrate_curve"><span class="annot"><span class="annottext">integrate_curve :: forall a r (str :: * -&gt; *).
(Enum a, Num a, Num r, Limiting str a, Limiting str r) =&gt;
(a, a) -&gt; (a -&gt; r) -&gt; (r -&gt; r) -&gt; Closure str a -&gt; Closure str r
</span><a href="Math.Number.Real.html#integrate_curve"><span class="hs-identifier hs-var hs-var">integrate_curve</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681380806"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380806"><span class="hs-identifier hs-var">xa</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380807"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380807"><span class="hs-identifier hs-var">ya</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681380808"><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621681380808"><span class="hs-identifier hs-var">curve</span></a></span></span><span> </span><span id="local-6989586621681380809"><span class="annot"><span class="annottext">r -&gt; r
</span><a href="#local-6989586621681380809"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681380810"><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681380810"><span class="hs-identifier hs-var">dx</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">str r -&gt; Closure str r
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str r -&gt; Closure str r) -&gt; str r -&gt; Closure str r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-548"></span><span>    </span><span id="local-6989586621681380811"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380811"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681380810"><span class="hs-identifier hs-var">dx</span></a></span><span>
</span><span id="line-549"></span><span>    </span><span class="annot"><span class="annottext">r -&gt; str r
forall a. a -&gt; str a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; str r) -&gt; r -&gt; str r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621681380808"><span class="hs-identifier hs-var">curve</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380811"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; r -&gt; r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">[r] -&gt; r
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">Prelude.sum</span></span><span> </span><span class="annot"><span class="annottext">([r] -&gt; r) -&gt; [r] -&gt; r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; r) -&gt; [a] -&gt; [r]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; r
</span><a href="#local-6989586621681380809"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; (a -&gt; r) -&gt; a -&gt; r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621681380808"><span class="hs-identifier hs-var">curve</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380806"><span class="hs-identifier hs-var">xa</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380806"><span class="hs-identifier hs-var">xa</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380811"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380807"><span class="hs-identifier hs-var">ya</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-550"></span><span>
</span><span id="line-551"></span><span> </span><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Integral Integral&gt;</span><span>
</span><span id="line-552"></span><span> </span><span class="hs-comment">-- This doesn't converge well.</span><span>
</span><span id="line-553"></span><span>
</span><span id="line-554"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#gamma_via_integral"><span class="hs-identifier hs-type">gamma_via_integral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>  </span><span>
</span><span id="line-555"></span><span> </span><span id="gamma_via_integral"><span class="annot"><span class="annottext">gamma_via_integral :: R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#gamma_via_integral"><span class="hs-identifier hs-var hs-var">gamma_via_integral</span></a></span></span><span> </span><span id="local-6989586621681380812"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380812"><span class="hs-identifier hs-var">zz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Closure Stream R, Closure Stream R)
-&gt; (Closure Stream R -&gt; Closure Stream R) -&gt; Closure Stream R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
forall a. Limiting Stream a =&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Stream.html#close"><span class="hs-identifier hs-var">close</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Closure Stream R
forall a. (Fractional a, Limiting Stream a) =&gt; Closure Stream a
</span><a href="Math.Number.Real.html#infinity_gen"><span class="hs-identifier hs-var">infinity_gen</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Closure Stream R -&gt; Closure Stream R) -&gt; Closure Stream R)
-&gt; (Closure Stream R -&gt; Closure Stream R) -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681380813"><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681380813"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681380813"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681380813"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380812"><span class="hs-identifier hs-var">zz</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-556"></span><span>    </span><span>
</span><span id="line-557"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681380818"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Equality of constructive reals is undecidable.&quot;</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:$$:</span></span><span>
</span><span id="line-558"></span><span>                      </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Please use (&lt;%) and (%&lt;) from Math.Number.Interface.DedekindCut class&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-559"></span><span>   </span><span id="local-6989586621681380825"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380825"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621681380826"><span class="annot"><span class="annottext">== :: R -&gt; R -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span id="local-6989586621681380827"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380827"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;equality of constructive reals is undecidable&quot;</span></span><span>
</span><span id="line-560"></span><span>
</span><span id="line-561"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681379008"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621681379008"><span class="hs-identifier hs-type">str</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#StreamObserver"><span class="hs-identifier hs-type">StreamObserver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379008"><span class="hs-identifier hs-type">str</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#StreamBuilder"><span class="hs-identifier hs-type">StreamBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379008"><span class="hs-identifier hs-type">str</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379008"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-562"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="Closure"><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-var">Closure</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621681379008"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BoolClosure"><span class="annot"><a href="Math.Number.Real.html#BoolClosure"><span class="hs-identifier hs-var">BoolClosure</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runBoolClosure"><span class="annot"><span class="annottext">forall (str :: * -&gt; *). Closure str Bool -&gt; str Bool
</span><a href="Math.Number.Real.html#runBoolClosure"><span class="hs-identifier hs-var hs-var">runBoolClosure</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681379008"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-563"></span><span>    </span><span id="local-6989586621681380842"><span class="annot"><span class="annottext">limit :: str Bool -&gt; Closure str Bool
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var hs-var hs-var hs-var">limit</span></a></span></span><span> </span><span id="local-6989586621681380843"><span class="annot"><span class="annottext">str Bool
</span><a href="#local-6989586621681380843"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">str Bool -&gt; Closure str Bool
forall (str :: * -&gt; *). str Bool -&gt; Closure str Bool
</span><a href="Math.Number.Real.html#BoolClosure"><span class="hs-identifier hs-var">BoolClosure</span></a></span><span> </span><span class="annot"><span class="annottext">str Bool
</span><a href="#local-6989586621681380843"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-564"></span><span>    </span><span id="local-6989586621681380844"><span class="annot"><span class="annottext">approximations :: Closure str Bool -&gt; str Bool
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var hs-var hs-var hs-var">approximations</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#BoolClosure"><span class="hs-identifier hs-type">BoolClosure</span></a></span><span> </span><span id="local-6989586621681380845"><span class="annot"><span class="annottext">str Bool
</span><a href="#local-6989586621681380845"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">str Bool
</span><a href="#local-6989586621681380845"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-565"></span><span>  </span><span>
</span><span id="line-566"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#approximately_equal"><span class="hs-identifier hs-type">approximately_equal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-567"></span><span> </span><span id="approximately_equal"><span class="annot"><span class="annottext">approximately_equal :: R -&gt; R -&gt; Bool
</span><a href="Math.Number.Real.html#approximately_equal"><span class="hs-identifier hs-var hs-var">approximately_equal</span></a></span></span><span> </span><span id="local-6989586621681380846"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380846"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380847"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380847"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
forall r. ShowPrecision r =&gt; r -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#show_at_precision"><span class="hs-identifier hs-var">show_at_precision</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380846"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">30</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
forall r. ShowPrecision r =&gt; r -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#show_at_precision"><span class="hs-identifier hs-var">show_at_precision</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380847"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">30</span></span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#approximately_eq"><span class="hs-identifier hs-type">approximately_eq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-570"></span><span> </span><span id="approximately_eq"><span class="annot"><span class="annottext">approximately_eq :: R -&gt; R -&gt; Bool
</span><a href="Math.Number.Real.html#approximately_eq"><span class="hs-identifier hs-var hs-var">approximately_eq</span></a></span></span><span> </span><span id="local-6989586621681380849"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380849"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380850"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380850"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681380851"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681380852"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-571"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681380851"><span class="annot"><span class="annottext">a :: String
</span><a href="#local-6989586621681380851"><span class="hs-identifier hs-var hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
forall r. ShowPrecision r =&gt; r -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#show_at_precision"><span class="hs-identifier hs-var">show_at_precision</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380849"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">7</span></span><span>
</span><span id="line-572"></span><span>          </span><span id="local-6989586621681380852"><span class="annot"><span class="annottext">b :: String
</span><a href="#local-6989586621681380852"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
forall r. ShowPrecision r =&gt; r -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#show_at_precision"><span class="hs-identifier hs-var">show_at_precision</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380850"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">7</span></span><span>
</span><span id="line-573"></span><span>
</span><span id="line-574"></span><span>
</span><span id="line-575"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#constructively_less"><span class="hs-identifier hs-type">constructively_less</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-576"></span><span> </span><span id="constructively_less"><span class="annot"><span class="annottext">constructively_less :: Rational -&gt; R -&gt; R -&gt; Closure Stream Bool
</span><a href="Math.Number.Real.html#constructively_less"><span class="hs-identifier hs-var hs-var">constructively_less</span></a></span></span><span> </span><span id="local-6989586621681380853"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380853"><span class="hs-identifier hs-var">between</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681380854"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380854"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681380855"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380855"><span class="hs-identifier hs-var">ar</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681380856"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380856"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681380857"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380857"><span class="hs-identifier hs-var">br</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Bool -&gt; Closure Stream Bool
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Bool -&gt; Closure Stream Bool)
-&gt; Stream Bool -&gt; Closure Stream Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-577"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380854"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380853"><span class="hs-identifier hs-var">between</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380853"><span class="hs-identifier hs-var">between</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380856"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-578"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Stream Bool -&gt; Stream Bool
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-operator hs-var">`Pre`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream Bool -&gt; Stream Bool
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream Bool -&gt; Stream Bool)
-&gt; Closure Stream Bool -&gt; Stream Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; R -&gt; Closure Stream Bool
</span><a href="Math.Number.Real.html#constructively_less"><span class="hs-identifier hs-var">constructively_less</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380853"><span class="hs-identifier hs-var">between</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380855"><span class="hs-identifier hs-var">ar</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380857"><span class="hs-identifier hs-var">br</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-579"></span><span>
</span><span id="line-580"></span><span>
</span><span id="line-581"></span><span> </span><span id="local-6989586621681379256"><span class="annot"><a href="Math.Number.Real.html#equality"><span class="hs-identifier hs-type">equality</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379256"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379256"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379256"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379256"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-582"></span><span> </span><span id="equality"><span class="annot"><span class="annottext">equality :: forall (str :: * -&gt; *).
Infinitesimal str R =&gt;
Closure str R -&gt; Closure str R -&gt; Closure str Bool
</span><a href="Math.Number.Real.html#equality"><span class="hs-identifier hs-var hs-var">equality</span></a></span></span><span> </span><span id="local-6989586621681380878"><span class="annot"><span class="annottext">Closure str R
</span><a href="#local-6989586621681380878"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621681380879"><span class="annot"><span class="annottext">Closure str R
</span><a href="#local-6989586621681380879"><span class="hs-identifier hs-var">str'</span></a></span></span><span>
</span><span id="line-583"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">str Bool -&gt; Closure str Bool
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str Bool -&gt; Closure str Bool) -&gt; str Bool -&gt; Closure str Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational -&gt; Stream Rational -&gt; Bool)
-&gt; str (Stream Rational)
-&gt; str (Stream Rational)
-&gt; str (Stream Rational)
-&gt; str Bool
forall (f :: * -&gt; *) a b c d.
Applicative f =&gt;
(a -&gt; b -&gt; c -&gt; d) -&gt; f a -&gt; f b -&gt; f c -&gt; f d
</span><span class="hs-identifier hs-var">liftA3</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681380881"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380881"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681380882"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380882"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681380883"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380883"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380882"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380881"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681380883"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">str (Stream Rational)
</span><a href="#local-6989586621681380884"><span class="hs-identifier hs-var">astr</span></a></span><span> </span><span class="annot"><span class="annottext">str (Stream Rational)
</span><a href="#local-6989586621681380885"><span class="hs-identifier hs-var">astr'</span></a></span><span> </span><span class="annot"><span class="annottext">str (Stream Rational)
</span><a href="#local-6989586621681380886"><span class="hs-identifier hs-var">aeps</span></a></span><span>
</span><span id="line-584"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681380884"><span class="annot"><span class="annottext">astr :: str (Stream Rational)
</span><a href="#local-6989586621681380884"><span class="hs-identifier hs-var hs-var">astr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational) -&gt; str R -&gt; str (Stream Rational)
forall a b. (a -&gt; b) -&gt; str a -&gt; str b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(str R -&gt; str (Stream Rational)) -&gt; str R -&gt; str (Stream Rational)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure str R -&gt; str R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str R
</span><a href="#local-6989586621681380878"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-585"></span><span>         </span><span id="local-6989586621681380885"><span class="annot"><span class="annottext">astr' :: str (Stream Rational)
</span><a href="#local-6989586621681380885"><span class="hs-identifier hs-var hs-var">astr'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational) -&gt; str R -&gt; str (Stream Rational)
forall a b. (a -&gt; b) -&gt; str a -&gt; str b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(str R -&gt; str (Stream Rational)) -&gt; str R -&gt; str (Stream Rational)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure str R -&gt; str R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str R
</span><a href="#local-6989586621681380879"><span class="hs-identifier hs-var">str'</span></a></span><span>
</span><span id="line-586"></span><span>         </span><span id="local-6989586621681380886"><span class="annot"><span class="annottext">aeps :: str (Stream Rational)
</span><a href="#local-6989586621681380886"><span class="hs-identifier hs-var hs-var">aeps</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational) -&gt; str R -&gt; str (Stream Rational)
forall a b. (a -&gt; b) -&gt; str a -&gt; str b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(str R -&gt; str (Stream Rational)) -&gt; str R -&gt; str (Stream Rational)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">str R
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; str a
</span><a href="Math.Number.StreamInterface.html#epsilon_stream"><span class="hs-identifier hs-var">epsilon_stream</span></a></span><span>
</span><span id="line-587"></span><span>
</span><span id="line-588"></span><span>
</span><span id="line-589"></span><span>  </span><span class="hs-comment">-- instance Show (Complex R) where</span><span>
</span><span id="line-590"></span><span>  </span><span class="hs-comment">--   showsPrec x (a :+ b) = show_at_precision_real a p</span><span>
</span><span id="line-591"></span><span>  </span><span class="hs-comment">--     . showString &quot;:+&quot; . show_at_precision_real b p</span><span>
</span><span id="line-592"></span><span>  </span><span class="hs-comment">--    where p = fromIntegral x</span><span>
</span><span id="line-593"></span><span>
</span><span id="line-594"></span><span>
</span><span id="line-595"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#signum_real"><span class="hs-identifier hs-type">signum_real</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-596"></span><span> </span><span id="signum_real"><span class="annot"><span class="annottext">signum_real :: R -&gt; Int -&gt; Int
</span><a href="Math.Number.Real.html#signum_real"><span class="hs-identifier hs-var hs-var">signum_real</span></a></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-597"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#signum_real"><span class="hs-identifier hs-var">signum_real</span></a></span><span> </span><span id="local-6989586621681380900"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380900"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681380901"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681380901"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-598"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681380902"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681380902"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380903"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681380903"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; (Int, Rational)
forall b. Integral b =&gt; Rational -&gt; (b, Rational)
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; (b, a)
</span><span class="hs-identifier hs-var">properFraction</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
forall a. Stream a -&gt; a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; a
</span><a href="Math.Number.StreamInterface.html#shead"><span class="hs-identifier hs-var">shead</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Rational) -&gt; Stream Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380900"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-599"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681380902"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-600"></span><span>         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">R -&gt; Int -&gt; Int
</span><a href="Math.Number.Real.html#signum_real"><span class="hs-identifier hs-var">signum_real</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380900"><span class="hs-identifier hs-var">r</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681380901"><span class="hs-identifier hs-var">i</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-601"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681380902"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-602"></span><span>
</span><span id="line-603"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#show_at_precision_real"><span class="hs-identifier hs-type">show_at_precision_real</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-604"></span><span> </span><span id="show_at_precision_real"><span class="annot"><span class="annottext">show_at_precision_real :: R -&gt; Integer -&gt; String
</span><a href="Math.Number.Real.html#show_at_precision_real"><span class="hs-identifier hs-var hs-var">show_at_precision_real</span></a></span></span><span> </span><span id="local-6989586621681380906"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380906"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681380907"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380907"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; ShowS
</span><a href="#local-6989586621681380908"><span class="hs-identifier hs-var">signcorr</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380906"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; ShowS
forall a. Show a =&gt; a -&gt; ShowS
</span><span class="hs-identifier hs-var">shows</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380910"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><span class="hs-identifier hs-var">showString</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="#local-6989586621681380912"><span class="hs-identifier hs-var">decs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-605"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681380908"><span class="annot"><span class="annottext">signcorr :: R -&gt; ShowS
</span><a href="#local-6989586621681380908"><span class="hs-identifier hs-var hs-var">signcorr</span></a></span></span><span> </span><span id="local-6989586621681380913"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380913"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380910"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Int -&gt; Int
</span><a href="Math.Number.Real.html#signum_real"><span class="hs-identifier hs-var">signum_real</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380915"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">30</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. a -&gt; a
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k). Category cat =&gt; cat a a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-606"></span><span>          </span><span id="local-6989586621681380912"><span class="annot"><span class="annottext">decs :: ShowS
</span><a href="#local-6989586621681380912"><span class="hs-identifier hs-var hs-var">decs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380910"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; ShowS
</span><a href="#local-6989586621681380916"><span class="hs-identifier hs-var">decimals_str2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380915"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380907"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-607"></span><span>                           </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; ShowS
forall {t}. (Eq t, Num t, Enum t) =&gt; R -&gt; t -&gt; ShowS
</span><a href="#local-6989586621681380917"><span class="hs-identifier hs-var">decimals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380915"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#at_precision"><span class="hs-operator hs-var">`at_precision`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380907"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380907"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-608"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621681380910"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380910"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380915"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380915"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Integer, R)
forall a. Num a =&gt; R -&gt; (a, R)
</span><a href="Math.Number.Real.html#properFraction_real"><span class="hs-identifier hs-var">properFraction_real</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380906"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-609"></span><span>          </span><span id="local-6989586621681380917"><span class="annot"><span class="annottext">decimals :: R -&gt; t -&gt; ShowS
</span><a href="#local-6989586621681380917"><span class="hs-identifier hs-var hs-var">decimals</span></a></span></span><span> </span><span id="local-6989586621681380930"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380930"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. a -&gt; a
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k). Category cat =&gt; cat a a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-610"></span><span>          </span><span class="annot"><a href="#local-6989586621681380917"><span class="hs-identifier hs-var">decimals</span></a></span><span> </span><span id="local-6989586621681380931"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380931"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380932"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681380932"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-611"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681380933"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380933"><span class="hs-identifier hs-var">a'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380934"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380934"><span class="hs-identifier hs-var">b'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Integer, R)
forall a. Num a =&gt; R -&gt; (a, R)
</span><a href="Math.Number.Real.html#properFraction_real"><span class="hs-identifier hs-var">properFraction_real</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380931"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681380935"><span class="annot"><span class="annottext">ShowS
</span><a href="#local-6989586621681380935"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">R -&gt; t -&gt; ShowS
</span><a href="#local-6989586621681380917"><span class="hs-identifier hs-var">decimals</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380934"><span class="hs-identifier hs-var">b'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; t
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681380932"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; ShowS
forall a. Show a =&gt; a -&gt; ShowS
</span><span class="hs-identifier hs-var">shows</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380933"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="#local-6989586621681380935"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-612"></span><span>          </span><span id="local-6989586621681380916"><span class="annot"><span class="annottext">decimals_str2 :: R -&gt; Integer -&gt; ShowS
</span><a href="#local-6989586621681380916"><span class="hs-identifier hs-var hs-var">decimals_str2</span></a></span></span><span> </span><span id="local-6989586621681380952"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380952"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380953"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380953"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; (Integer, R)
forall {t} {a}.
(Num t, Num a, Eq t, Enum t, Enum a) =&gt;
R -&gt; t -&gt; (a, R)
</span><a href="#local-6989586621681380954"><span class="hs-identifier hs-var">decimals2</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380952"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380953"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-613"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span id="local-6989586621681380955"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380955"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; ShowS
forall {t}. (Eq t, Num t, Enum t) =&gt; R -&gt; t -&gt; ShowS
</span><a href="#local-6989586621681380917"><span class="hs-identifier hs-var">decimals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380955"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#at_precision"><span class="hs-operator hs-var">`at_precision`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380953"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380953"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span>
</span><span id="line-614"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621681380956"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380956"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380957"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380957"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; ShowS
forall {t}. (Eq t, Num t, Enum t) =&gt; R -&gt; t -&gt; ShowS
</span><a href="#local-6989586621681380917"><span class="hs-identifier hs-var">decimals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380957"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#at_precision"><span class="hs-operator hs-var">`at_precision`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380953"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380953"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span>
</span><span id="line-615"></span><span>                         </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><span class="hs-identifier hs-var">showString</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;e&quot;</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; ShowS
forall a. Show a =&gt; a -&gt; ShowS
</span><span class="hs-identifier hs-var">shows</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380956"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-616"></span><span>          </span><span id="local-6989586621681380954"><span class="annot"><span class="annottext">decimals2 :: R -&gt; t -&gt; (a, R)
</span><a href="#local-6989586621681380954"><span class="hs-identifier hs-var hs-var">decimals2</span></a></span></span><span> </span><span id="local-6989586621681380974"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380974"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380974"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-617"></span><span>          </span><span class="annot"><a href="#local-6989586621681380954"><span class="hs-identifier hs-var">decimals2</span></a></span><span> </span><span id="local-6989586621681380975"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380975"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681380976"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681380976"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681380977"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380977"><span class="hs-identifier hs-var">a'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380978"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380978"><span class="hs-identifier hs-var">b'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Integer, R)
forall a. Num a =&gt; R -&gt; (a, R)
</span><a href="Math.Number.Real.html#properFraction_real"><span class="hs-identifier hs-var">properFraction_real</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380975"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span> </span><span>
</span><span id="line-618"></span><span>                            </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681380977"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-619"></span><span>                              </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681380979"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380979"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681380980"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380980"><span class="hs-identifier hs-var">res2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; t -&gt; (a, R)
</span><a href="#local-6989586621681380954"><span class="hs-identifier hs-var">decimals2</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380978"><span class="hs-identifier hs-var">b'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; t
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681380976"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681380979"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380980"><span class="hs-identifier hs-var">res2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-620"></span><span>                              </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380975"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-621"></span><span>
</span><span id="line-622"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681380982"><span id="local-6989586621681380987"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-623"></span><span>     </span><span id="local-6989586621681380990"><span class="annot"><span class="annottext">show :: R -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span id="local-6989586621681380991"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380991"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
forall r. ShowPrecision r =&gt; r -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#show_at_precision"><span class="hs-identifier hs-var">show_at_precision</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681380991"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">20</span></span><span>
</span><span id="line-624"></span><span>
</span><span id="line-625"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#ShowPrecision"><span class="hs-identifier hs-type">ShowPrecision</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-626"></span><span>     </span><span id="local-6989586621681380996"><span class="annot"><span class="annottext">show_at_precision :: R -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#show_at_precision"><span class="hs-identifier hs-var hs-var hs-var hs-var">show_at_precision</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
</span><a href="Math.Number.Real.html#show_at_precision_real"><span class="hs-identifier hs-var">show_at_precision_real</span></a></span><span>
</span><span id="line-627"></span><span>
</span><span id="line-628"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Tools.PrettyP.html#PpShow"><span class="hs-identifier hs-type">PpShow</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-629"></span><span>     </span><span id="local-6989586621681381003"><span class="annot"><span class="annottext">pp :: R -&gt; Doc
</span><a href="#local-6989586621681381003"><span class="hs-identifier hs-var hs-var hs-var hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621681381005"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381005"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc
forall a. PpShow a =&gt; a -&gt; Doc
</span><a href="Math.Tools.PrettyP.html#pp"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
forall r. ShowPrecision r =&gt; r -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#show_at_precision"><span class="hs-identifier hs-var">show_at_precision</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381005"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span>
</span><span id="line-630"></span><span>
</span><span id="line-631"></span><span>
</span><span id="line-632"></span><span>  </span><span class="hs-comment">-- instance Real R where -- needs Ord instance</span><span>
</span><span id="line-633"></span><span>  </span><span class="hs-comment">--     toRational = shead . approximate . (`at_precision` 5)</span><span>
</span><span id="line-634"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-635"></span><span>  </span><span class="hs-comment">-- instance RealFrac R where</span><span>
</span><span id="line-636"></span><span>  </span><span class="hs-comment">--     -- ^ not really computable for reals, since 'floor' is undecidable</span><span>
</span><span id="line-637"></span><span>  </span><span class="hs-comment">--     -- according to &lt;http://www.win.tue.nl/~hzantema/hg2.pdf Geuvers: Stream representations of real numbers&gt;</span><span>
</span><span id="line-638"></span><span>  </span><span class="hs-comment">--     -- we implement this using approximations nonetheless because</span><span>
</span><span id="line-639"></span><span>  </span><span class="hs-comment">--     -- this is used for printing the real number.</span><span>
</span><span id="line-640"></span><span>  </span><span class="hs-comment">--     -- Note that two distinct representations of the _same_ real number</span><span>
</span><span id="line-641"></span><span>  </span><span class="hs-comment">--     -- may produce different result, e.g.</span><span>
</span><span id="line-642"></span><span>  </span><span class="hs-comment">--     -- 0.9999999.. == 1.0000000.. , but:</span><span>
</span><span id="line-643"></span><span>  </span><span class="hs-comment">--     -- fst (properFraction 0.9999...) == 0 != 1 == fst (properFraction 1.00..)</span><span>
</span><span id="line-644"></span><span>  </span><span class="hs-comment">--     -- however, since comparing constructive reals is noncomputable,</span><span>
</span><span id="line-645"></span><span>  </span><span class="hs-comment">--     -- we couldn't possibly declare that 0.9999.. == 1.000000..</span><span>
</span><span id="line-646"></span><span>  </span><span class="hs-comment">--     floor = fst . properFraction</span><span>
</span><span id="line-647"></span><span>  </span><span class="hs-comment">--     round = floor . (+ 0.5)</span><span>
</span><span id="line-648"></span><span>
</span><span id="line-649"></span><span> </span><span id="local-6989586621681379271"><span class="annot"><a href="Math.Number.Real.html#properFraction_real"><span class="hs-identifier hs-type">properFraction_real</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681379271"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379271"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-650"></span><span> </span><span id="properFraction_real"><span class="annot"><span class="annottext">properFraction_real :: forall a. Num a =&gt; R -&gt; (a, R)
</span><a href="Math.Number.Real.html#properFraction_real"><span class="hs-identifier hs-var hs-var">properFraction_real</span></a></span></span><span> </span><span id="local-6989586621681381025"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381025"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381026"><span class="hs-identifier hs-var">wholepart</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#lift_real"><span class="hs-identifier hs-var">lift_real</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Integer, Rational) -&gt; Rational
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((Integer, Rational) -&gt; Rational)
-&gt; (Rational -&gt; (Integer, Rational)) -&gt; Rational -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; (Integer, Rational)
forall b. Integral b =&gt; Rational -&gt; (b, Rational)
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; (b, a)
</span><span class="hs-identifier hs-var">properFraction</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381025"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-651"></span><span>       </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681381028"><span class="annot"><span class="annottext">rat :: Rational
</span><a href="#local-6989586621681381028"><span class="hs-identifier hs-var hs-var">rat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
forall a. Stream a -&gt; a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; a
</span><a href="Math.Number.StreamInterface.html#shead"><span class="hs-identifier hs-var">shead</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Rational) -&gt; Stream Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational) -&gt; R -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381025"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#at_precision"><span class="hs-operator hs-var">`at_precision`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span>
</span><span id="line-652"></span><span>             </span><span id="local-6989586621681381026"><span class="annot"><span class="annottext">wholepart :: Integer
</span><a href="#local-6989586621681381026"><span class="hs-identifier hs-var hs-var">wholepart</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381029"><span class="hs-identifier hs-var">sign</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Integer) -&gt; Integer -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">numerator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381028"><span class="hs-identifier hs-var">rat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-653"></span><span>                                 </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Integer) -&gt; Integer -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381028"><span class="hs-identifier hs-var">rat</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-654"></span><span>             </span><span id="local-6989586621681381029"><span class="annot"><span class="annottext">sign :: Integer
</span><a href="#local-6989586621681381029"><span class="hs-identifier hs-var hs-var">sign</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">numerator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381028"><span class="hs-identifier hs-var">rat</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381028"><span class="hs-identifier hs-var">rat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-655"></span><span>
</span><span id="line-656"></span><span> </span><span class="hs-comment">-- | Enum instance for reals is undecidable with respect to end of</span><span>
</span><span id="line-657"></span><span> </span><span class="hs-comment">-- real intervals, since comparison of two real numbers is undecidable.</span><span>
</span><span id="line-658"></span><span> </span><span class="hs-comment">-- Thus enumFromTo and enumFromThenTo produce errors indicating</span><span>
</span><span id="line-659"></span><span> </span><span class="hs-comment">-- density problem.</span><span>
</span><span id="line-660"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-661"></span><span>     </span><span id="local-6989586621681381043"><span class="annot"><span class="annottext">succ :: R -&gt; R
</span><a href="#local-6989586621681381043"><span class="hs-identifier hs-var hs-var hs-var hs-var">succ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#lift_real"><span class="hs-identifier hs-var">lift_real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">succ</span></span><span>
</span><span id="line-662"></span><span>     </span><span id="local-6989586621681381046"><span class="annot"><span class="annottext">pred :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pred</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#lift_real"><span class="hs-identifier hs-var">lift_real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">pred</span></span><span>
</span><span id="line-663"></span><span>     </span><span id="local-6989586621681381048"><span class="annot"><span class="annottext">toEnum :: Int -&gt; R
</span><a href="#local-6989586621681381048"><span class="hs-identifier hs-var hs-var hs-var hs-var">toEnum</span></a></span></span><span> </span><span id="local-6989586621681381050"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681381050"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Rational
forall a. Enum a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681381050"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-664"></span><span>     </span><span id="local-6989586621681381053"><span class="annot"><span class="annottext">fromEnum :: R -&gt; Int
</span><a href="#local-6989586621681381053"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromEnum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381055"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381055"><span class="hs-identifier hs-var">xr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
forall a. Stream a -&gt; a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; a
</span><a href="Math.Number.StreamInterface.html#shead"><span class="hs-identifier hs-var">shead</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Rational) -&gt; Stream Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational -&gt; Stream Rational
forall a. Integer -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#drop"><span class="hs-identifier hs-var">Stream.drop</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381055"><span class="hs-identifier hs-var">xr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-665"></span><span>     </span><span id="local-6989586621681381058"><span class="annot"><span class="annottext">enumFrom :: R -&gt; [R]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">enumFrom</span></span></span><span> </span><span id="local-6989586621681381059"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381059"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381059"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; [R] -&gt; [R]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; [R] -&gt; [R]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">succ</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; [R]
forall a. Enum a =&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">enumFrom</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381059"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-666"></span><span>     </span><span id="local-6989586621681381064"><span class="annot"><span class="annottext">enumFromThen :: R -&gt; R -&gt; [R]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">enumFromThen</span></span></span><span> </span><span id="local-6989586621681381065"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381065"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681381066"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381066"><span class="hs-identifier hs-var">x2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381065"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; [R] -&gt; [R]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; [R]
forall a. Enum a =&gt; a -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">enumFromThen</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381066"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381066"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381065"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-667"></span><span>     </span><span id="local-6989586621681381069"><span class="annot"><span class="annottext">enumFromTo :: R -&gt; R -&gt; [R]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">enumFromTo</span></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [R]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;density problem: cannot compute end of real interval&quot;</span></span><span>
</span><span id="line-668"></span><span>     </span><span id="local-6989586621681381072"><span class="annot"><span class="annottext">enumFromThenTo :: R -&gt; R -&gt; R -&gt; [R]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">enumFromThenTo</span></span></span><span> </span><span id="local-6989586621681381073"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381073"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681381074"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381074"><span class="hs-identifier hs-var">x2</span></a></span></span><span> </span><span id="local-6989586621681381075"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381075"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [R]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;density problem: cannot compute end of real interval&quot;</span></span><span>
</span><span id="line-669"></span><span>
</span><span id="line-670"></span><span>  </span><span class="hs-comment">--     enumFromTo x y | x &lt;= y = x : enumFromTo (succ x) y</span><span>
</span><span id="line-671"></span><span>  </span><span class="hs-comment">--                    | otherwise = []</span><span>
</span><span id="line-672"></span><span>  </span><span class="hs-comment">--     enumFromThenTo x x2 y | x &lt;= y = x : enumFromThenTo x2 (2*x2-x) y</span><span>
</span><span id="line-673"></span><span>  </span><span class="hs-comment">--                           | otherwise = []</span><span>
</span><span id="line-674"></span><span>
</span><span id="line-675"></span><span> </span><span class="hs-comment">-- | This attempts to work around the density problem by computing range</span><span>
</span><span id="line-676"></span><span> </span><span class="hs-comment">-- | in some type which does have enum instance,</span><span>
</span><span id="line-677"></span><span> </span><span class="hs-comment">-- | then using the given function to map to reals.</span><span>
</span><span id="line-678"></span><span> </span><span id="local-6989586621681379281"><span class="annot"><a href="Math.Number.Real.html#enumFromThenToReal"><span class="hs-identifier hs-type">enumFromThenToReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="#local-6989586621681379281"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379281"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379281"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379281"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379281"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-679"></span><span> </span><span id="enumFromThenToReal"><span class="annot"><span class="annottext">enumFromThenToReal :: forall e. Enum e =&gt; (e -&gt; R) -&gt; e -&gt; e -&gt; e -&gt; [R]
</span><a href="Math.Number.Real.html#enumFromThenToReal"><span class="hs-identifier hs-var hs-var">enumFromThenToReal</span></a></span></span><span> </span><span id="local-6989586621681381078"><span class="annot"><span class="annottext">e -&gt; R
</span><a href="#local-6989586621681381078"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681381079"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381079"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681381080"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381080"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681381081"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381081"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">e -&gt; R
</span><a href="#local-6989586621681381078"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381082"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681381082"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381082"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381079"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381080"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381081"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-680"></span><span>
</span><span id="line-681"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#fromThenTo"><span class="hs-identifier hs-type">fromThenTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-682"></span><span> </span><span id="fromThenTo"><span class="annot"><span class="annottext">fromThenTo :: Rational -&gt; Rational -&gt; Rational -&gt; [R]
</span><a href="Math.Number.Real.html#fromThenTo"><span class="hs-identifier hs-var hs-var">fromThenTo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; R) -&gt; Rational -&gt; Rational -&gt; Rational -&gt; [R]
forall e. Enum e =&gt; (e -&gt; R) -&gt; e -&gt; e -&gt; e -&gt; [R]
</span><a href="Math.Number.Real.html#enumFromThenToReal"><span class="hs-identifier hs-var">enumFromThenToReal</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span>
</span><span id="line-683"></span><span>
</span><span id="line-684"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#fromTo"><span class="hs-identifier hs-type">fromTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-685"></span><span> </span><span id="fromTo"><span class="annot"><span class="annottext">fromTo :: Rational -&gt; Rational -&gt; [R]
</span><a href="Math.Number.Real.html#fromTo"><span class="hs-identifier hs-var hs-var">fromTo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; R) -&gt; Rational -&gt; Rational -&gt; [R]
forall e. Enum e =&gt; (e -&gt; R) -&gt; e -&gt; e -&gt; [R]
</span><a href="Math.Number.Real.html#enumFromToReal"><span class="hs-identifier hs-var">enumFromToReal</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span>
</span><span id="line-686"></span><span>
</span><span id="line-687"></span><span> </span><span class="hs-comment">-- | This attempts to work around the density problem by computing range</span><span>
</span><span id="line-688"></span><span> </span><span class="hs-comment">-- | in some type which does have enum instance,</span><span>
</span><span id="line-689"></span><span> </span><span class="hs-comment">-- | then using the given function to map to reals.</span><span>
</span><span id="line-690"></span><span> </span><span id="local-6989586621681379283"><span class="annot"><a href="Math.Number.Real.html#enumFromToReal"><span class="hs-identifier hs-type">enumFromToReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="#local-6989586621681379283"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379283"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379283"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379283"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-691"></span><span> </span><span id="enumFromToReal"><span class="annot"><span class="annottext">enumFromToReal :: forall e. Enum e =&gt; (e -&gt; R) -&gt; e -&gt; e -&gt; [R]
</span><a href="Math.Number.Real.html#enumFromToReal"><span class="hs-identifier hs-var hs-var">enumFromToReal</span></a></span></span><span> </span><span id="local-6989586621681381085"><span class="annot"><span class="annottext">e -&gt; R
</span><a href="#local-6989586621681381085"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681381086"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381086"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681381087"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381087"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">e -&gt; R
</span><a href="#local-6989586621681381085"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381088"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681381088"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381088"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381086"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681381087"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-692"></span><span>
</span><span id="line-693"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#realEnumFromThenTo"><span class="hs-identifier hs-type">realEnumFromThenTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">]</span><span>
</span><span id="line-694"></span><span> </span><span id="realEnumFromThenTo"><span class="annot"><span class="annottext">realEnumFromThenTo :: R -&gt; R -&gt; R -&gt; Stream [Rational]
</span><a href="Math.Number.Real.html#realEnumFromThenTo"><span class="hs-identifier hs-var hs-var">realEnumFromThenTo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381089"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381089"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381090"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381090"><span class="hs-identifier hs-var">str2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381091"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381091"><span class="hs-identifier hs-var">str3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream [Rational]
</span><a href="Math.Number.Real.html#strEnumFromThenTo"><span class="hs-identifier hs-var">strEnumFromThenTo</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381089"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381090"><span class="hs-identifier hs-var">str2</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381091"><span class="hs-identifier hs-var">str3</span></a></span><span>
</span><span id="line-695"></span><span>  </span><span>
</span><span id="line-696"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#strEnumFromThenTo"><span class="hs-identifier hs-type">strEnumFromThenTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">]</span><span>
</span><span id="line-697"></span><span> </span><span id="strEnumFromThenTo"><span class="annot"><span class="annottext">strEnumFromThenTo :: Stream Rational
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream [Rational]
</span><a href="Math.Number.Real.html#strEnumFromThenTo"><span class="hs-identifier hs-var hs-var">strEnumFromThenTo</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681381092"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381092"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681381093"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381093"><span class="hs-identifier hs-var">xr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681381094"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381094"><span class="hs-identifier hs-var">x2</span></a></span></span><span> </span><span id="local-6989586621681381095"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381095"><span class="hs-identifier hs-var">x2r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681381096"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381096"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621681381097"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381097"><span class="hs-identifier hs-var">yr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Rational] -&gt; Stream [Rational] -&gt; Stream [Rational]
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational -&gt; [Rational]
forall a. Enum a =&gt; a -&gt; a -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">enumFromThenTo</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381092"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381094"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381096"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream [Rational]
</span><a href="Math.Number.Real.html#strEnumFromThenTo"><span class="hs-identifier hs-var">strEnumFromThenTo</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381093"><span class="hs-identifier hs-var">xr</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381095"><span class="hs-identifier hs-var">x2r</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381097"><span class="hs-identifier hs-var">yr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-698"></span><span>
</span><span id="line-699"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-700"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381107"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381107"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681381108"><span class="annot"><span class="annottext">+ :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">+</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381109"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381109"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381107"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381109"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-701"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381112"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381112"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681381113"><span class="annot"><span class="annottext">- :: R -&gt; R -&gt; R
</span><span class="hs-glyph hs-var hs-var hs-var hs-var">-</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381114"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381114"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381112"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381114"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-702"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381117"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381117"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681381118"><span class="annot"><span class="annottext">* :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">*</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381119"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381119"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381117"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381119"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-703"></span><span>     </span><span id="local-6989586621681381121"><span class="annot"><span class="annottext">negate :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">negate</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#lift_real"><span class="hs-identifier hs-var">lift_real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span>
</span><span id="line-704"></span><span>     </span><span id="local-6989586621681381123"><span class="annot"><span class="annottext">abs :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">abs</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#lift_real"><span class="hs-identifier hs-var">lift_real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span>
</span><span id="line-705"></span><span>     </span><span id="local-6989586621681381125"><span class="annot"><span class="annottext">signum :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">signum</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#lift_real"><span class="hs-identifier hs-var">lift_real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span>
</span><span id="line-706"></span><span>     </span><span id="local-6989586621681381127"><span class="annot"><span class="annottext">fromInteger :: Integer -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromInteger</span></span></span><span> </span><span id="local-6989586621681381128"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381128"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Stream Rational) -&gt; Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Rational) -&gt; Integer -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381128"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-707"></span><span>
</span><span id="line-708"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-709"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381137"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381137"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681381138"><span class="annot"><span class="annottext">/ :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">/</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381139"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381139"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381137"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381139"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-710"></span><span>     </span><span id="local-6989586621681381141"><span class="annot"><span class="annottext">recip :: R -&gt; R
</span><a href="#local-6989586621681381141"><span class="hs-identifier hs-var hs-var hs-var hs-var">recip</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#lift_real"><span class="hs-identifier hs-var">lift_real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span>
</span><span id="line-711"></span><span>     </span><span id="local-6989586621681381143"><span class="annot"><span class="annottext">fromRational :: Rational -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromRational</span></span></span><span> </span><span id="local-6989586621681381144"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381144"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Stream Rational) -&gt; Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381144"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-712"></span><span>
</span><span id="line-713"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#toReal"><span class="hs-identifier hs-type">toReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-714"></span><span> </span><span id="toReal"><span class="annot"><span class="annottext">toReal :: Rational -&gt; R
</span><a href="Math.Number.Real.html#toReal"><span class="hs-identifier hs-var hs-var">toReal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span>
</span><span id="line-715"></span><span>
</span><span id="line-716"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-717"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681381151"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381151"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681381152"><span class="annot"><span class="annottext">/ :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">/</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681381153"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381153"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381151"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381153"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-718"></span><span>    </span><span id="local-6989586621681381155"><span class="annot"><span class="annottext">recip :: Closure Stream R -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">recip</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681381156"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381156"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381156"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-719"></span><span>    </span><span id="local-6989586621681381158"><span class="annot"><span class="annottext">fromRational :: Rational -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromRational</span></span></span><span> </span><span id="local-6989586621681381159"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381159"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381159"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-720"></span><span>
</span><span id="line-721"></span><span> </span><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Natural_logarithm Natural logarithm&gt;</span><span>
</span><span id="line-722"></span><span> </span><span class="hs-comment">-- @ log(1+z) = z - z^2/2 + z^3/3 - ... @</span><span>
</span><span id="line-723"></span><span>
</span><span id="line-724"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#logarithm"><span class="hs-identifier hs-type">logarithm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-725"></span><span> </span><span id="logarithm"><span class="annot"><span class="annottext">logarithm :: R -&gt; R
</span><a href="Math.Number.Real.html#logarithm"><span class="hs-identifier hs-var hs-var">logarithm</span></a></span></span><span> </span><span id="local-6989586621681381160"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381160"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381160"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681381161"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381161"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381161"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-726"></span><span>
</span><span id="line-727"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#euler_constant"><span class="hs-identifier hs-type">euler_constant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-728"></span><span> </span><span id="euler_constant"><span class="annot"><span class="annottext">euler_constant :: R
</span><a href="Math.Number.Real.html#euler_constant"><span class="hs-identifier hs-var hs-var">euler_constant</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span>
</span><span id="line-729"></span><span>
</span><span id="line-730"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#napiers_constant"><span class="hs-identifier hs-type">napiers_constant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-731"></span><span> </span><span id="napiers_constant"><span class="annot"><span class="annottext">napiers_constant :: R
</span><a href="Math.Number.Real.html#napiers_constant"><span class="hs-identifier hs-var hs-var">napiers_constant</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1.0</span></span><span>
</span><span id="line-732"></span><span>
</span><span id="line-733"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#logarithm_by_newton"><span class="hs-identifier hs-type">logarithm_by_newton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-734"></span><span> </span><span id="logarithm_by_newton"><span class="annot"><span class="annottext">logarithm_by_newton :: R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#logarithm_by_newton"><span class="hs-identifier hs-var hs-var">logarithm_by_newton</span></a></span></span><span> </span><span id="local-6989586621681381162"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381162"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; Closure Stream R
forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtons_method_real_closure"><span class="hs-identifier hs-var">newtons_method_real_closure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681381163"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381163"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381163"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381162"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span>
</span><span id="line-735"></span><span>
</span><span id="line-736"></span><span> </span><span id="local-6989586621681381164"><span class="annot"><a href="Math.Number.Real.html#invert_by_newton"><span class="hs-identifier hs-type">invert_by_newton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681381164"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681381164"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681381164"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681381164"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681381164"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-737"></span><span> </span><span id="invert_by_newton"><span class="annot"><span class="annottext">invert_by_newton :: forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#invert_by_newton"><span class="hs-identifier hs-var hs-var">invert_by_newton</span></a></span></span><span> </span><span id="local-6989586621681381172"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681381172"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681381173"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381173"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtons_method_real_closure"><span class="hs-identifier hs-var">newtons_method_real_closure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681381174"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381174"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681381172"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381174"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381173"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span>
</span><span id="line-738"></span><span>
</span><span id="line-739"></span><span> </span><span class="hs-comment">-- computes x from equation @(Df)(x) = y@ by newton's method</span><span>
</span><span id="line-740"></span><span> </span><span id="local-6989586621681381175"><span class="annot"><a href="Math.Number.Real.html#differential_equation1"><span class="hs-identifier hs-type">differential_equation1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681381175"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681381175"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681381175"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681381175"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681381175"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-741"></span><span> </span><span id="differential_equation1"><span class="annot"><span class="annottext">differential_equation1 :: forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#differential_equation1"><span class="hs-identifier hs-var hs-var">differential_equation1</span></a></span></span><span> </span><span id="local-6989586621681381186"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681381186"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681381187"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381187"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtons_method_real_closure"><span class="hs-identifier hs-var">newtons_method_real_closure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681381188"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381188"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; a
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulation_point"><span class="hs-identifier hs-var">accumulation_point</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall (str :: * -&gt; *) a.
Infinitesimal str a =&gt;
(a -&gt; a) -&gt; a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#derivate_closed"><span class="hs-identifier hs-var">derivate_closed</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681381186"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381188"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381187"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span>
</span><span id="line-742"></span><span>
</span><span id="line-743"></span><span>
</span><span id="line-744"></span><span> </span><span id="local-6989586621681379287"><span class="annot"><a href="Math.Number.Real.html#exp_by_powers"><span class="hs-identifier hs-type">exp_by_powers</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681379287"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379287"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379287"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379287"><span class="hs-identifier hs-type">r</span></a></span></span><span>
</span><span id="line-745"></span><span> </span><span id="exp_by_powers"><span class="annot"><span class="annottext">exp_by_powers :: forall r.
(Fractional r, Limiting Stream r) =&gt;
r -&gt; Closure Stream r
</span><a href="Math.Number.Real.html#exp_by_powers"><span class="hs-identifier hs-var hs-var">exp_by_powers</span></a></span></span><span> </span><span id="local-6989586621681381217"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621681381217"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream r -&gt; Closure Stream r
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream r -&gt; Closure Stream r) -&gt; Stream r -&gt; Closure Stream r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-746"></span><span>      </span><span id="local-6989586621681381218"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381218"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">naturals</span></a></span><span>
</span><span id="line-747"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681381219"><span class="annot"><span class="annottext">n2 :: Integer
</span><a href="#local-6989586621681381219"><span class="hs-identifier hs-var hs-var">n2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381218"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-748"></span><span>      </span><span class="annot"><span class="annottext">r -&gt; Stream r
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Stream r) -&gt; r -&gt; Stream r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621681381217"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Integer -&gt; r
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381219"><span class="hs-identifier hs-var">n2</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">r -&gt; Integer -&gt; r
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381219"><span class="hs-identifier hs-var">n2</span></a></span><span>
</span><span id="line-749"></span><span>
</span><span id="line-750"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#exp_by_powers_real"><span class="hs-identifier hs-type">exp_by_powers_real</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-751"></span><span> </span><span id="exp_by_powers_real"><span class="annot"><span class="annottext">exp_by_powers_real :: R -&gt; R
</span><a href="Math.Number.Real.html#exp_by_powers_real"><span class="hs-identifier hs-var hs-var">exp_by_powers_real</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381220"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381220"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Rational -&gt; Rational)
-&gt; Stream Integer -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681381221"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381221"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681381222"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381222"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381222"><span class="hs-identifier hs-var">x'</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381221"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381221"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Integer -&gt; Stream Integer
forall a. Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#stail"><span class="hs-identifier hs-var">stail</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer -&gt; Stream Integer
forall a. Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#stail"><span class="hs-identifier hs-var">stail</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer
forall a. Integral a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power_integral"><span class="hs-identifier hs-var">power_integral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381220"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-752"></span><span>
</span><span id="line-753"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#sum_generating_function"><span class="hs-identifier hs-type">sum_generating_function</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-754"></span><span> </span><span id="sum_generating_function"><span class="annot"><span class="annottext">sum_generating_function :: Stream Rational -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#sum_generating_function"><span class="hs-identifier hs-var hs-var">sum_generating_function</span></a></span></span><span> </span><span id="local-6989586621681381224"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381224"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381225"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381225"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational -&gt; Stream Rational
forall a. Integer -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#uninterleave_index"><span class="hs-identifier hs-var">uninterleave_index</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span>
</span><span id="line-755"></span><span>                                             </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. Fractional a =&gt; Stream a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#approximate_sums"><span class="hs-identifier hs-var">approximate_sums</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381224"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381225"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-756"></span><span>
</span><span id="line-757"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Riemann_zeta_function&gt;</span></span><span>
</span><span id="line-758"></span><span> </span><span id="local-6989586621681379291"><span class="annot"><a href="Math.Number.Real.html#riemann_zeta"><span class="hs-identifier hs-type">riemann_zeta</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681379291"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379291"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379291"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-759"></span><span> </span><span id="riemann_zeta"><span class="annot"><span class="annottext">riemann_zeta :: forall a. Floating a =&gt; a -&gt; Stream a
</span><a href="Math.Number.Real.html#riemann_zeta"><span class="hs-identifier hs-var hs-var">riemann_zeta</span></a></span></span><span> </span><span id="local-6989586621681381237"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381237"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Stream a
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">sum_stream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Stream a) -&gt; Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681381239"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#nonzero_naturals"><span class="hs-identifier hs-var">nonzero_naturals</span></a></span><span>
</span><span id="line-760"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681381239"><span class="annot"><span class="annottext">term :: a -&gt; a
</span><a href="#local-6989586621681381239"><span class="hs-identifier hs-var hs-var">term</span></a></span></span><span> </span><span id="local-6989586621681381240"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381240"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381240"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381237"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-761"></span><span>
</span><span id="line-762"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Riemann_zeta_function&gt;</span></span><span>
</span><span id="line-763"></span><span> </span><span id="local-6989586621681379294"><span class="annot"><a href="Math.Number.Real.html#riemann_zeta_real"><span class="hs-identifier hs-type">riemann_zeta_real</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681379294"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379294"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span><span>
</span><span id="line-764"></span><span> </span><span id="riemann_zeta_real"><span class="annot"><span class="annottext">riemann_zeta_real :: forall a. Integral a =&gt; a -&gt; R
</span><a href="Math.Number.Real.html#riemann_zeta_real"><span class="hs-identifier hs-var hs-var">riemann_zeta_real</span></a></span></span><span> </span><span id="local-6989586621681381249"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381249"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">sum_stream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681381250"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#nonzero_naturals"><span class="hs-identifier hs-var">nonzero_naturals</span></a></span><span>
</span><span id="line-765"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681381250"><span class="annot"><span class="annottext">term :: Rational -&gt; Rational
</span><a href="#local-6989586621681381250"><span class="hs-identifier hs-var hs-var">term</span></a></span></span><span> </span><span id="local-6989586621681381251"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381251"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381251"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; a -&gt; Rational
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381249"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-766"></span><span>
</span><span id="line-767"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Riemann_zeta_function&gt;</span></span><span>
</span><span id="line-768"></span><span> </span><span id="local-6989586621681379296"><span class="annot"><a href="Math.Number.Real.html#riemann_zeta_complex"><span class="hs-identifier hs-type">riemann_zeta_complex</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RealFloat</span></span><span> </span><span class="annot"><a href="#local-6989586621681379296"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Complex</span></span><span> </span><span class="annot"><a href="#local-6989586621681379296"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Complex</span></span><span> </span><span class="annot"><a href="#local-6989586621681379296"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-769"></span><span> </span><span id="riemann_zeta_complex"><span class="annot"><span class="annottext">riemann_zeta_complex :: forall a. RealFloat a =&gt; Complex a -&gt; Stream (Complex a)
</span><a href="Math.Number.Real.html#riemann_zeta_complex"><span class="hs-identifier hs-var hs-var">riemann_zeta_complex</span></a></span></span><span> </span><span id="local-6989586621681381262"><span class="annot"><span class="annottext">Complex a
</span><a href="#local-6989586621681381262"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream (Complex a) -&gt; Stream (Complex a)
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">sum_stream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream (Complex a) -&gt; Stream (Complex a))
-&gt; Stream (Complex a) -&gt; Stream (Complex a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Complex a -&gt; Complex a)
-&gt; Stream (Complex a) -&gt; Stream (Complex a)
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Complex a -&gt; Complex a
</span><a href="#local-6989586621681381263"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="annot"><span class="annottext">Stream (Complex a)
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#nonzero_naturals"><span class="hs-identifier hs-var">nonzero_naturals</span></a></span><span>
</span><span id="line-770"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681381263"><span class="annot"><span class="annottext">term :: Complex a -&gt; Complex a
</span><a href="#local-6989586621681381263"><span class="hs-identifier hs-var hs-var">term</span></a></span></span><span> </span><span id="local-6989586621681381264"><span class="annot"><span class="annottext">Complex a
</span><a href="#local-6989586621681381264"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Complex a
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Complex a -&gt; Complex a -&gt; Complex a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Complex a
</span><a href="#local-6989586621681381264"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Complex a -&gt; Complex a -&gt; Complex a
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span> </span><span class="annot"><span class="annottext">Complex a
</span><a href="#local-6989586621681381262"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-771"></span><span>
</span><span id="line-772"></span><span>  </span><span class="hs-comment">-- instance (Fractional a, Limiting a, Closed a) =&gt; Infinitesimal Stream (Stream a) where</span><span>
</span><span id="line-773"></span><span>  </span><span class="hs-comment">--   epsilon_stream = cells_linear stream_epsilon</span><span>
</span><span id="line-774"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-775"></span><span>  </span><span class="hs-comment">-- instance RealFloat R where</span><span>
</span><span id="line-776"></span><span>  </span><span class="hs-comment">--    floatRadix  x = 10</span><span>
</span><span id="line-777"></span><span>  </span><span class="hs-comment">--    -- WARNING: floatDigits would want to use real comparison.</span><span>
</span><span id="line-778"></span><span>  </span><span class="hs-comment">--    floatDigits x = if shead (approximate x) &lt; 0 then 30 else negate 30</span><span>
</span><span id="line-779"></span><span>  </span><span class="hs-comment">--    floatRange  x = (-30000,30000)</span><span>
</span><span id="line-780"></span><span>  </span><span class="hs-comment">--    decodeFloat x = decodeInBase 10 30 x  </span><span>
</span><span id="line-781"></span><span>  </span><span class="hs-comment">--    encodeFloat m n = (fromInteger m :: R) * 10^^n</span><span>
</span><span id="line-782"></span><span>  </span><span class="hs-comment">--    isNegativeZero _ = False</span><span>
</span><span id="line-783"></span><span>  </span><span class="hs-comment">--    isInfinite _ = False</span><span>
</span><span id="line-784"></span><span>  </span><span class="hs-comment">--    isNaN x = False</span><span>
</span><span id="line-785"></span><span>  </span><span class="hs-comment">--    isDenormalized _ = False</span><span>
</span><span id="line-786"></span><span>  </span><span class="hs-comment">--    isIEEE _ = False</span><span>
</span><span id="line-787"></span><span>  </span><span class="hs-comment">--    atan2 y x = 2 * atan ((sqrt (x*x+y*y) - x) / y)</span><span>
</span><span id="line-788"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-789"></span><span>  </span><span class="hs-comment">-- decodeInBase :: Integer -&gt; Int -&gt; R -&gt; (Integer,Int)</span><span>
</span><span id="line-790"></span><span>  </span><span class="hs-comment">-- decodeInBase base p x = iter start</span><span>
</span><span id="line-791"></span><span>  </span><span class="hs-comment">--      where start = floor ((x*fromIntegral base^p) `at_precision` 1)</span><span>
</span><span id="line-792"></span><span>  </span><span class="hs-comment">--            iter x | abs x &gt;= base^(p-1) &amp;&amp; abs x &lt; base^p = (x,negate p)</span><span>
</span><span id="line-793"></span><span>  </span><span class="hs-comment">--                   | x &gt;= base^p,</span><span>
</span><span id="line-794"></span><span>  </span><span class="hs-comment">--                        (a,b) &lt;- iter (x `div` base) = (a,b+1)</span><span>
</span><span id="line-795"></span><span>  </span><span class="hs-comment">--                   | x &lt;= negate (base^p),</span><span>
</span><span id="line-796"></span><span>  </span><span class="hs-comment">--                       (a,b) &lt;- iter (x `div` base) = (a,b+1)</span><span>
</span><span id="line-797"></span><span>  </span><span class="hs-comment">--                   | x &lt; base^(p-1)  &amp;&amp; x &gt; 0,</span><span>
</span><span id="line-798"></span><span>  </span><span class="hs-comment">--                       (a,b) &lt;- iter (x*base) = (a,b-1)</span><span>
</span><span id="line-799"></span><span>  </span><span class="hs-comment">--                   | x &gt; negate (base^(p-1)) &amp;&amp; x &lt; 0</span><span>
</span><span id="line-800"></span><span>  </span><span class="hs-comment">--                        , (a,b) &lt;- iter (x*base) = (a,b-1)</span><span>
</span><span id="line-801"></span><span>  </span><span class="hs-comment">--                   | x == 0 = (0,0)</span><span>
</span><span id="line-802"></span><span>  </span><span class="hs-comment">--                   | otherwise = error $ &quot;iter base for:&quot; ++ show x</span><span>
</span><span id="line-803"></span><span>
</span><span id="line-804"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#encodeInBase"><span class="hs-identifier hs-type">encodeInBase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-805"></span><span> </span><span id="encodeInBase"><span class="annot"><span class="annottext">encodeInBase :: Integer -&gt; Integer -&gt; Int -&gt; R
</span><a href="Math.Number.Real.html#encodeInBase"><span class="hs-identifier hs-var hs-var">encodeInBase</span></a></span></span><span> </span><span id="local-6989586621681381265"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381265"><span class="hs-identifier hs-var">base</span></a></span></span><span> </span><span id="local-6989586621681381266"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381266"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681381267"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681381267"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; R
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381266"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; R
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381265"><span class="hs-identifier hs-var">base</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; Int -&gt; R
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681381267"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-806"></span><span>
</span><span id="line-807"></span><span> </span><span id="local-6989586621681379302"><span class="annot"><a href="Math.Number.Real.html#fromFloat"><span class="hs-identifier hs-type">fromFloat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RealFloat</span></span><span> </span><span class="annot"><a href="#local-6989586621681379302"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379302"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span><span>
</span><span id="line-808"></span><span> </span><span id="fromFloat"><span class="annot"><span class="annottext">fromFloat :: forall a. RealFloat a =&gt; a -&gt; R
</span><a href="Math.Number.Real.html#fromFloat"><span class="hs-identifier hs-var hs-var">fromFloat</span></a></span></span><span> </span><span id="local-6989586621681381271"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381271"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681381272"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381272"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681381273"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681381273"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; (Integer, Int)
forall a. RealFloat a =&gt; a -&gt; (Integer, Int)
</span><span class="hs-identifier hs-var">decodeFloat</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381271"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Int -&gt; R
</span><a href="Math.Number.Real.html#encodeInBase"><span class="hs-identifier hs-var">encodeInBase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Integer
forall a. RealFloat a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">floatRadix</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381271"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381272"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681381273"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-809"></span><span>
</span><span id="line-810"></span><span> </span><span class="annot"><span class="hs-comment">-- | https://en.wikipedia.org/wiki/Golden_ratio</span></span><span>
</span><span id="line-811"></span><span>
</span><span id="line-812"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#golden_ratio"><span class="hs-identifier hs-type">golden_ratio</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-813"></span><span> </span><span id="golden_ratio"><span class="annot"><span class="annottext">golden_ratio :: R
</span><a href="Math.Number.Real.html#golden_ratio"><span class="hs-identifier hs-var hs-var">golden_ratio</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational -&gt; Stream Rational
forall a. Integer -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#drop"><span class="hs-identifier hs-var">Stream.drop</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">4</span></span><span> </span><span>
</span><span id="line-814"></span><span>                      </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Fractional a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#stream_quotients"><span class="hs-identifier hs-var">stream_quotients</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Integer -&gt; Rational) -&gt; Stream Integer -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Integral a =&gt; Stream a
</span><a href="Math.Number.Stream.html#fib"><span class="hs-identifier hs-var">fib</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-815"></span><span>
</span><span id="line-816"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#slow_golden_ratio"><span class="hs-identifier hs-type">slow_golden_ratio</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-817"></span><span> </span><span id="slow_golden_ratio"><span class="annot"><span class="annottext">slow_golden_ratio :: R
</span><a href="Math.Number.Real.html#slow_golden_ratio"><span class="hs-identifier hs-var hs-var">slow_golden_ratio</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">5</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-818"></span><span>
</span><span id="line-819"></span><span>  </span><span class="hs-comment">-- Doesn't work since triggers problems with equality comparison:</span><span>
</span><span id="line-820"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-821"></span><span>  </span><span class="hs-comment">-- primitive_root_of_unity :: Integer -&gt; Closure (Complex R)</span><span>
</span><span id="line-822"></span><span>  </span><span class="hs-comment">-- primitive_root_of_unity i = newtons_method (\x -&gt; x ^^ i - (1 :+ 0)) (0 :+ 1)</span><span>
</span><span id="line-823"></span><span>
</span><span id="line-824"></span><span> </span><span class="annot"><span class="hs-comment">-- | https://en.wikipedia.org/wiki/Logistic_function</span></span><span>
</span><span id="line-825"></span><span>
</span><span id="line-826"></span><span> </span><span id="local-6989586621681381277"><span class="annot"><a href="Math.Number.Real.html#logistic"><span class="hs-identifier hs-type">logistic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681381277"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681381277"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681381277"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-827"></span><span> </span><span id="logistic"><span class="annot"><span class="annottext">logistic :: forall a. Floating a =&gt; a -&gt; a
</span><a href="Math.Number.Real.html#logistic"><span class="hs-identifier hs-var hs-var">logistic</span></a></span></span><span> </span><span id="local-6989586621681381286"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381286"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381286"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381286"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-828"></span><span>
</span><span id="line-829"></span><span> </span><span class="hs-comment">-- | this converts a real to a sequence of doubles, each item</span><span>
</span><span id="line-830"></span><span> </span><span class="hs-comment">-- attempting to approximate the real to higher accuracy.</span><span>
</span><span id="line-831"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#floating_approximations_real"><span class="hs-identifier hs-type">floating_approximations_real</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-832"></span><span> </span><span id="floating_approximations_real"><span class="annot"><span class="annottext">floating_approximations_real :: R -&gt; Stream Double
</span><a href="Math.Number.Real.html#floating_approximations_real"><span class="hs-identifier hs-var hs-var">floating_approximations_real</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Double) -&gt; Stream Rational -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Double)
-&gt; (R -&gt; Stream Rational) -&gt; R -&gt; Stream Double
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span>
</span><span id="line-833"></span><span>
</span><span id="line-834"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Approximations"><span class="hs-identifier hs-type">Approximations</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-835"></span><span>    </span><span id="local-6989586621681381292"><span class="annot"><span class="annottext">floating_approximations :: R -&gt; Stream Double
</span><a href="Math.Number.Interface.html#floating_approximations"><span class="hs-identifier hs-var hs-var hs-var hs-var">floating_approximations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Double
</span><a href="Math.Number.Real.html#floating_approximations_real"><span class="hs-identifier hs-var">floating_approximations_real</span></a></span><span>
</span><span id="line-836"></span><span>    </span><span id="local-6989586621681381293"><span class="annot"><span class="annottext">rational_approximations :: R -&gt; Stream Rational
</span><a href="#local-6989586621681381293"><span class="hs-identifier hs-var hs-var hs-var hs-var">rational_approximations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span>
</span><span id="line-837"></span><span>
</span><span id="line-838"></span><span>
</span><span id="line-839"></span><span> </span><span id="local-6989586621681379310"><span class="annot"><a href="Math.Number.Real.html#logarithm_by_power"><span class="hs-identifier hs-type">logarithm_by_power</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681379310"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379310"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379310"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379310"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-840"></span><span> </span><span id="logarithm_by_power"><span class="annot"><span class="annottext">logarithm_by_power :: forall a. (Floating a, Limiting Stream a) =&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#logarithm_by_power"><span class="hs-identifier hs-var hs-var">logarithm_by_power</span></a></span></span><span> </span><span id="local-6989586621681381310"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381310"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a) -&gt; Stream a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-841"></span><span>                 </span><span id="local-6989586621681381311"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381311"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream a
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">naturals</span></a></span><span>
</span><span id="line-842"></span><span>                 </span><span class="annot"><span class="annottext">a -&gt; Stream a
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Stream a) -&gt; a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381311"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381310"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381311"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-843"></span><span>
</span><span id="line-844"></span><span>
</span><span id="line-845"></span><span>  </span><span class="hs-comment">-- tetrate2 x == x^x</span><span>
</span><span id="line-846"></span><span>
</span><span id="line-847"></span><span> </span><span id="local-6989586621681381312"><span class="annot"><a href="Math.Number.Real.html#tetrate2_"><span class="hs-identifier hs-type">tetrate2_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681381312"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681381312"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681381312"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-848"></span><span> </span><span id="tetrate2_"><span class="annot"><span class="annottext">tetrate2_ :: forall a. Floating a =&gt; a -&gt; a
</span><a href="Math.Number.Real.html#tetrate2_"><span class="hs-identifier hs-var hs-var">tetrate2_</span></a></span></span><span> </span><span id="local-6989586621681381316"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381316"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381316"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381316"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-849"></span><span>
</span><span id="line-850"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Tetration Tetration&gt;</span></span><span>
</span><span id="line-851"></span><span>
</span><span id="line-852"></span><span> </span><span id="local-6989586621681379313"><span id="local-6989586621681379314"><span class="annot"><a href="Math.Number.Real.html#tetrate"><span class="hs-identifier hs-type">tetrate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621681379313"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681379313"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681379314"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379313"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379314"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379314"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-853"></span><span> </span><span id="tetrate"><span class="annot"><span class="annottext">tetrate :: forall b a. (Eq b, Num b, Floating a) =&gt; b -&gt; a -&gt; a
</span><a href="Math.Number.Real.html#tetrate"><span class="hs-identifier hs-var hs-var">tetrate</span></a></span></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-number">1</span></span><span> </span><span id="local-6989586621681381328"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381328"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381328"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-854"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#tetrate"><span class="hs-identifier hs-var">tetrate</span></a></span><span> </span><span id="local-6989586621681381329"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681381329"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681381330"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381330"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381330"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681381329"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; b -&gt; b
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">b -&gt; a -&gt; a
forall b a. (Eq b, Num b, Floating a) =&gt; b -&gt; a -&gt; a
</span><a href="Math.Number.Real.html#tetrate"><span class="hs-operator hs-var">`tetrate`</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381330"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-855"></span><span>
</span><span id="line-856"></span><span>  </span><span class="hs-comment">-- ssrt is Inverse function for tetration. Don't have implementation.</span><span>
</span><span id="line-857"></span><span>
</span><span id="line-858"></span><span> </span><span id="local-6989586621681381331"><span class="annot"><a href="Math.Number.Real.html#tetrate2"><span class="hs-identifier hs-type">tetrate2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681381331"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681381331"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681381331"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-859"></span><span> </span><span id="tetrate2"><span class="annot"><span class="annottext">tetrate2 :: forall a. Floating a =&gt; a -&gt; a
</span><a href="Math.Number.Real.html#tetrate2"><span class="hs-identifier hs-var hs-var">tetrate2</span></a></span></span><span> </span><span id="local-6989586621681381340"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381340"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381341"><span class="hs-identifier hs-var">xln</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381341"><span class="hs-identifier hs-var">xln</span></a></span><span>
</span><span id="line-860"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681381341"><span class="annot"><span class="annottext">xln :: a
</span><a href="#local-6989586621681381341"><span class="hs-identifier hs-var hs-var">xln</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381340"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381340"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-861"></span><span>
</span><span id="line-862"></span><span> </span><span id="local-6989586621681379318"><span class="annot"><a href="Math.Number.Real.html#log_newton"><span class="hs-identifier hs-type">log_newton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681379318"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379318"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379318"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379318"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-863"></span><span> </span><span id="log_newton"><span class="annot"><span class="annottext">log_newton :: forall a. (Floating a, Closed a) =&gt; a -&gt; a
</span><a href="Math.Number.Real.html#log_newton"><span class="hs-identifier hs-var hs-var">log_newton</span></a></span></span><span> </span><span id="local-6989586621681381351"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381351"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; a
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulation_point"><span class="hs-identifier hs-var">accumulation_point</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream a -&gt; a) -&gt; Closure Stream a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtons_method_real_closure"><span class="hs-identifier hs-var">newtons_method_real_closure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681381352"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381352"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381352"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381351"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span>
</span><span id="line-864"></span><span>
</span><span id="line-865"></span><span> </span><span id="cos_generating_function_"><span class="annot"><span class="annottext">cos_generating_function_ :: Stream Double
</span><a href="Math.Number.Real.html#cos_generating_function_"><span class="hs-identifier hs-var hs-var">cos_generating_function_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Stream Double -&gt; Stream Double
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; Stream Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Stream Double -&gt; Stream Double
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; Stream Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double)
-&gt; Stream Double -&gt; Stream Double -&gt; Stream Double
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream Double
</span><a href="#local-6989586621681381358"><span class="hs-identifier hs-var">signs</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Double
</span><a href="#local-6989586621681381359"><span class="hs-identifier hs-var">fact</span></a></span><span>
</span><span id="line-866"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681381358"><span class="annot"><span class="annottext">signs :: Stream Double
</span><a href="#local-6989586621681381358"><span class="hs-identifier hs-var hs-var">signs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Double -&gt; Stream Double
forall a. Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#stail"><span class="hs-identifier hs-var">stail</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; Stream Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Double -&gt; Stream Double
forall a. Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#stail"><span class="hs-identifier hs-var">stail</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; Stream Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Double
forall a. Fractional a =&gt; Stream a
</span><a href="Math.Number.Stream.html#alternating_possibly_negative_bits"><span class="hs-identifier hs-var">alternating_possibly_negative_bits</span></a></span><span>
</span><span id="line-867"></span><span>        </span><span id="local-6989586621681381359"><span class="annot"><span class="annottext">fact :: Stream Double
</span><a href="#local-6989586621681381359"><span class="hs-identifier hs-var hs-var">fact</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Double -&gt; Stream Double
forall a. Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#stail"><span class="hs-identifier hs-var">stail</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; Stream Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Double -&gt; Stream Double
forall a. Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#stail"><span class="hs-identifier hs-var">stail</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; Stream Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Double
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-868"></span><span>
</span><span id="line-869"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#exp_by_series2"><span class="hs-identifier hs-type">exp_by_series2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-870"></span><span> </span><span id="exp_by_series2"><span class="annot"><span class="annottext">exp_by_series2 :: R -&gt; R
</span><a href="Math.Number.Real.html#exp_by_series2"><span class="hs-identifier hs-var hs-var">exp_by_series2</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381373"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381373"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-871"></span><span>    </span><span id="local-6989586621681381374"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381374"><span class="hs-identifier hs-var">xappr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381373"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-872"></span><span>    </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">sum_stream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#index_powers"><span class="hs-identifier hs-var">index_powers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381374"><span class="hs-identifier hs-var">xappr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span>
</span><span id="line-873"></span><span>
</span><span id="line-874"></span><span>  </span><span class="hs-comment">-- exp_by_series2 :: R -&gt; R</span><span>
</span><span id="line-875"></span><span>  </span><span class="hs-comment">-- exp_by_series2 (Limit x) = Limit $ sum_stream $</span><span>
</span><span id="line-876"></span><span>  </span><span class="hs-comment">--             matrix (*) (fmap (1/) factorial) (index_powers x)</span><span>
</span><span id="line-877"></span><span>
</span><span id="line-878"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#exp_by_series"><span class="hs-identifier hs-type">exp_by_series</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-879"></span><span> </span><span id="exp_by_series"><span class="annot"><span class="annottext">exp_by_series :: R -&gt; R
</span><a href="Math.Number.Real.html#exp_by_series"><span class="hs-identifier hs-var hs-var">exp_by_series</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381376"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381376"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. Fractional a =&gt; Stream a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#approximate_sums"><span class="hs-operator hs-var">`approximate_sums`</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381376"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-880"></span><span>
</span><span id="line-881"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#sin_by_series"><span class="hs-identifier hs-type">sin_by_series</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-882"></span><span> </span><span id="sin_by_series"><span class="annot"><span class="annottext">sin_by_series :: R -&gt; R
</span><a href="Math.Number.Real.html#sin_by_series"><span class="hs-identifier hs-var hs-var">sin_by_series</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381377"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381377"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381377"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; (Rational -&gt; Stream Rational) -&gt; Stream Rational
forall a b. Stream a -&gt; (a -&gt; Stream b) -&gt; Stream b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681381378"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381378"><span class="hs-identifier hs-var">xappr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-883"></span><span>         </span><span class="annot"><span class="annottext">(Rational -&gt; Bool) -&gt; Stream Rational -&gt; Stream Rational
forall a. (a -&gt; Bool) -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#filter"><span class="hs-identifier hs-var">Stream.filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681381380"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381380"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381380"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381380"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational, Stream Rational) -&gt; Stream Rational
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((Stream Rational, Stream Rational) -&gt; Stream Rational)
-&gt; (Stream Rational, Stream Rational) -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; (Stream Rational, Stream Rational)
forall a. Stream a -&gt; (Stream a, Stream a)
</span><a href="Math.Number.Stream.html#uninterleave"><span class="hs-identifier hs-var">uninterleave</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; (Stream Rational, Stream Rational))
-&gt; Stream Rational -&gt; (Stream Rational, Stream Rational)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">sum_stream</span></a></span><span> </span><span>
</span><span id="line-884"></span><span>         </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381382"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-885"></span><span>         </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#index_powers"><span class="hs-identifier hs-var">index_powers</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381378"><span class="hs-identifier hs-var">xappr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-886"></span><span>         </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#at_precision"><span class="hs-operator hs-var">`at_precision`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span>
</span><span id="line-887"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681381382"><span class="annot"><span class="annottext">filterStream :: Stream Rational
</span><a href="#local-6989586621681381382"><span class="hs-identifier hs-var hs-var">filterStream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381382"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-888"></span><span>
</span><span id="line-889"></span><span>  </span><span class="hs-comment">-- uninterleave stuff is needed to ensure at_precision works correctly,</span><span>
</span><span id="line-890"></span><span>  </span><span class="hs-comment">-- since the sum of the generating function has zero at every second element,</span><span>
</span><span id="line-891"></span><span>  </span><span class="hs-comment">-- it means there are always two adjacent equal elements.</span><span>
</span><span id="line-892"></span><span>
</span><span id="line-893"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#cos_by_series"><span class="hs-identifier hs-type">cos_by_series</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-894"></span><span> </span><span id="cos_by_series"><span class="annot"><span class="annottext">cos_by_series :: R -&gt; R
</span><a href="Math.Number.Real.html#cos_by_series"><span class="hs-identifier hs-var hs-var">cos_by_series</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381388"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381388"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381388"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; (Rational -&gt; Stream Rational) -&gt; Stream Rational
forall a b. Stream a -&gt; (a -&gt; Stream b) -&gt; Stream b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681381389"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381389"><span class="hs-identifier hs-var">xappr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-895"></span><span>         </span><span class="annot"><span class="annottext">(Rational -&gt; Bool) -&gt; Stream Rational -&gt; Stream Rational
forall a. (a -&gt; Bool) -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#filter"><span class="hs-identifier hs-var">Stream.filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681381390"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381390"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381390"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381390"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-896"></span><span>         </span><span class="annot"><span class="annottext">(Stream Rational, Stream Rational) -&gt; Stream Rational
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((Stream Rational, Stream Rational) -&gt; Stream Rational)
-&gt; (Stream Rational, Stream Rational) -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; (Stream Rational, Stream Rational)
forall a. Stream a -&gt; (Stream a, Stream a)
</span><a href="Math.Number.Stream.html#uninterleave"><span class="hs-identifier hs-var">uninterleave</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; (Stream Rational, Stream Rational))
-&gt; Stream Rational -&gt; (Stream Rational, Stream Rational)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">sum_stream</span></a></span><span>
</span><span id="line-897"></span><span>         </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381391"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-898"></span><span>         </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#index_powers"><span class="hs-identifier hs-var">index_powers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381389"><span class="hs-identifier hs-var">xappr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#at_precision"><span class="hs-operator hs-var">`at_precision`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span>
</span><span id="line-899"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681381391"><span class="annot"><span class="annottext">filterStream :: Stream Rational
</span><a href="#local-6989586621681381391"><span class="hs-identifier hs-var hs-var">filterStream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381391"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-900"></span><span>
</span><span id="line-901"></span><span> </span><span class="hs-comment">-- | Using Simon Plouffe's BPP digit extraction algorithm for computing pi.</span><span>
</span><span id="line-902"></span><span> </span><span class="hs-comment">-- See &lt;https://secure.wikimedia.org/wikipedia/en/wiki/Pi&gt; for details.</span><span>
</span><span id="line-903"></span><span> </span><span class="hs-comment">-- exp:  &lt;http://en.wikipedia.org/wiki/Exponential_function Exponential function&gt;</span><span>
</span><span id="line-904"></span><span> </span><span class="hs-comment">-- log:  &lt;http://en.wikipedia.org/wiki/Logarithm Logarithm&gt;</span><span>
</span><span id="line-905"></span><span> </span><span class="hs-comment">-- &lt;http://en.wikipedia.org/wiki/Trigonometric_functions trigonometric functions&gt;</span><span>
</span><span id="line-906"></span><span> </span><span class="hs-comment">-- &lt;https://en.wikipedia.org/wiki/Inverse_trigonometric_functions inverse trigonometric functions&gt;</span><span>
</span><span id="line-907"></span><span> </span><span class="hs-comment">-- &lt;http://en.wikipedia.org/wiki/Hyperbolic_function hyperbolic function&gt;</span><span>
</span><span id="line-908"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681381405"><span id="local-6989586621681381420"><span id="local-6989586621681381423"><span id="local-6989586621681381426"><span id="local-6989586621681381429"><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-909"></span><span>     </span><span id="local-6989586621681381469"><span class="annot"><span class="annottext">pi :: R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pi</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">Stream.sum_stream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span>
</span><span id="line-910"></span><span>             </span><span id="local-6989586621681381470"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381470"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">Stream.naturals</span></a></span><span>
</span><span id="line-911"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681381471"><span class="annot"><span class="annottext">kr :: Rational
</span><a href="#local-6989586621681381471"><span class="hs-identifier hs-var hs-var">kr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381470"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span>                </span><span>
</span><span id="line-912"></span><span>             </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Stream Rational) -&gt; Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">16</span></span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381470"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">4</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381471"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381471"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span>
</span><span id="line-913"></span><span>                                        </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381471"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">5</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381471"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">6</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-914"></span><span>     </span><span id="local-6989586621681381478"><span class="annot"><span class="annottext">exp :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">exp</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381479"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381479"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational -&gt; Stream Rational
forall a. Integer -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#drop"><span class="hs-identifier hs-var">Stream.drop</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381479"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; (Rational -&gt; Stream Rational) -&gt; Stream Rational
forall a b. Stream a -&gt; (a -&gt; Stream b) -&gt; Stream b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681381480"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381480"><span class="hs-identifier hs-var">xappr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">sum_stream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-915"></span><span>          </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#index_powers"><span class="hs-identifier hs-var">index_powers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381480"><span class="hs-identifier hs-var">xappr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span>
</span><span id="line-916"></span><span>     </span><span id="local-6989586621681381485"><span class="annot"><span class="annottext">sqrt :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sqrt</span></span></span><span> </span><span id="local-6989586621681381486"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381486"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a. Numerics a =&gt; (a -&gt; a) -&gt; a -&gt; a
</span><a href="Math.Number.Interface.html#newtons_method"><span class="hs-identifier hs-var">newtons_method</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681381487"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381487"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381487"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381487"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381486"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span>
</span><span id="line-917"></span><span>     </span><span id="local-6989586621681381520"><span class="annot"><span class="annottext">log :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">log</span></span></span><span> </span><span id="local-6989586621681381521"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381521"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">Stream.sum_stream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-918"></span><span>                   </span><span class="hs-special">(</span><span id="local-6989586621681381522"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381522"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681381523"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381523"><span class="hs-identifier hs-var">aaprx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">naturals</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Integer -&gt; Stream Rational -&gt; Stream (Integer, Rational)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f (a, b)
</span><a href="Math.Tools.Functor.html#%3C%26%3E"><span class="hs-operator hs-var">&lt;&amp;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381524"><span class="hs-identifier hs-var">a'</span></a></span><span>
</span><span id="line-919"></span><span>                   </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Stream Rational) -&gt; Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381522"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381523"><span class="hs-identifier hs-var">aaprx</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381522"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-920"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681381524"><span class="annot"><span class="annottext">a' :: R
</span><a href="#local-6989586621681381524"><span class="hs-identifier hs-var hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381521"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381521"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-921"></span><span>     </span><span id="local-6989586621681381528"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381528"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681381529"><span class="annot"><span class="annottext">** :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">**</span></span></span><span> </span><span id="local-6989586621681381530"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381530"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381530"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381528"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-922"></span><span>     </span><span id="local-6989586621681381531"><span class="annot"><span class="annottext">sin :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sin</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.Real.html#sin_by_series"><span class="hs-identifier hs-var">sin_by_series</span></a></span><span>
</span><span id="line-923"></span><span>     </span><span id="local-6989586621681381532"><span class="annot"><span class="annottext">cos :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">cos</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.Real.html#cos_by_series"><span class="hs-identifier hs-var">cos_by_series</span></a></span><span>
</span><span id="line-924"></span><span>     </span><span id="local-6989586621681381536"><span class="annot"><span class="annottext">tan :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">tan</span></span></span><span> </span><span id="local-6989586621681381537"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381537"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381537"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381537"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-925"></span><span>     </span><span id="local-6989586621681381545"><span class="annot"><span class="annottext">asin :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">asin</span></span></span><span> </span><span id="local-6989586621681381546"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381546"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.Real.html#integral_real"><span class="hs-identifier hs-var">integral_real</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381546"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681381547"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381547"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381547"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381547"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-926"></span><span>     </span><span id="local-6989586621681381555"><span class="annot"><span class="annottext">acos :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">acos</span></span></span><span> </span><span id="local-6989586621681381556"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381556"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.Real.html#integral_real"><span class="hs-identifier hs-var">integral_real</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381556"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681381557"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381557"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381557"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381557"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-927"></span><span>     </span><span id="local-6989586621681381565"><span class="annot"><span class="annottext">atan :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">atan</span></span></span><span> </span><span id="local-6989586621681381566"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381566"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381566"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681381567"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381567"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381567"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381567"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-928"></span><span>     </span><span id="local-6989586621681381574"><span class="annot"><span class="annottext">sinh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sinh</span></span></span><span> </span><span id="local-6989586621681381575"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381575"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381575"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381575"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-929"></span><span>     </span><span id="local-6989586621681381582"><span class="annot"><span class="annottext">cosh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">cosh</span></span></span><span> </span><span id="local-6989586621681381583"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381583"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381583"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381583"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-930"></span><span>     </span><span id="local-6989586621681381587"><span class="annot"><span class="annottext">tanh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">tanh</span></span></span><span> </span><span id="local-6989586621681381588"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381588"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381588"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381588"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-931"></span><span>     </span><span id="local-6989586621681381595"><span class="annot"><span class="annottext">asinh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">asinh</span></span></span><span> </span><span id="local-6989586621681381596"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381596"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381596"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381596"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381596"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-932"></span><span>     </span><span id="local-6989586621681381603"><span class="annot"><span class="annottext">acosh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">acosh</span></span></span><span> </span><span id="local-6989586621681381604"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381604"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381604"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381604"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381604"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-933"></span><span>     </span><span id="local-6989586621681381613"><span class="annot"><span class="annottext">atanh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">atanh</span></span></span><span> </span><span id="local-6989586621681381614"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381614"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381614"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381614"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-934"></span><span>
</span><span id="line-935"></span><span>  </span><span class="hs-comment">-- mandelbrot_polynomial :: Complex R -&gt; Complex R -&gt; Complex R</span><span>
</span><span id="line-936"></span><span>  </span><span class="hs-comment">-- mandelbrot_polynomial c z = z*z + c</span><span>
</span><span id="line-937"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-938"></span><span>  </span><span class="hs-comment">-- mandelbrot_stream :: Complex R -&gt; Stream (Complex R)</span><span>
</span><span id="line-939"></span><span>  </span><span class="hs-comment">-- mandelbrot_stream c = iterate_stream (mandelbrot_polynomial c) 0</span><span>
</span><span id="line-940"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-941"></span><span>  </span><span class="hs-comment">-- mandelbrot :: Complex R -&gt; Closure (Complex R)</span><span>
</span><span id="line-942"></span><span>  </span><span class="hs-comment">-- mandelbrot c = limit (mandelbrot_stream c)</span><span>
</span><span id="line-943"></span><span>
</span><span id="line-944"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ratio</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-945"></span><span>    </span><span id="local-6989586621681381622"><span class="annot"><span class="annottext">distance :: Rational -&gt; Rational -&gt; Scalar Rational
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var hs-var hs-var hs-var">distance</span></a></span></span><span> </span><span id="local-6989586621681381623"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381623"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681381624"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381624"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381623"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381624"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-946"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681381632"><span class="annot"><span class="annottext">distance :: Integer -&gt; Integer -&gt; Scalar Integer
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var hs-var hs-var hs-var">distance</span></a></span></span><span> </span><span id="local-6989586621681381633"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381633"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681381634"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381634"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381633"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381634"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-947"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681381642"><span class="annot"><span class="annottext">distance :: Int -&gt; Int -&gt; Scalar Int
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var hs-var hs-var hs-var">distance</span></a></span></span><span> </span><span id="local-6989586621681381643"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681381643"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681381644"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681381644"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681381643"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681381644"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-948"></span><span>
</span><span id="line-949"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#approximate_sums_modulus"><span class="hs-identifier hs-type">approximate_sums_modulus</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span>
</span><span id="line-950"></span><span> </span><span id="approximate_sums_modulus"><span class="annot"><span class="annottext">approximate_sums_modulus :: Modulus -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#approximate_sums_modulus"><span class="hs-identifier hs-var hs-var">approximate_sums_modulus</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381645"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381645"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381646"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381646"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681381647"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381647"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381648"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381648"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-951"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. Fractional a =&gt; Stream a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#approximate_sums"><span class="hs-identifier hs-var">approximate_sums</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381645"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681381647"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681381649"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381649"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381646"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381649"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381648"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381649"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-952"></span><span>
</span><span id="line-953"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681381651"><span id="local-6989586621681381656"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-954"></span><span>    </span><span id="local-6989586621681381670"><span class="annot"><span class="annottext">show :: Modulus -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span id="local-6989586621681381671"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381671"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681381672"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381672"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381671"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;[ used &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381672"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">10</span></span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">30</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; terms ]&quot;</span></span><span>
</span><span id="line-955"></span><span>
</span><span id="line-956"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-957"></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621681381683"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381683"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381684"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381684"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681381685"><span class="annot"><span class="annottext">+ :: Modulus -&gt; Modulus -&gt; Modulus
</span><span class="hs-operator hs-var hs-var hs-var hs-var">+</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681381686"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381686"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381687"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381687"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381683"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381686"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681381688"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381688"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381684"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381688"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381687"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381688"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-958"></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621681381691"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381691"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381692"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381692"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681381693"><span class="annot"><span class="annottext">- :: Modulus -&gt; Modulus -&gt; Modulus
</span><span class="hs-glyph hs-var hs-var hs-var hs-var">-</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681381694"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381694"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381695"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381695"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381691"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381694"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681381696"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381696"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381692"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381696"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381695"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381696"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-959"></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621681381699"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381699"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381700"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381700"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681381701"><span class="annot"><span class="annottext">* :: Modulus -&gt; Modulus -&gt; Modulus
</span><span class="hs-operator hs-var hs-var hs-var hs-var">*</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681381702"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381702"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381703"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381703"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381699"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381702"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681381704"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381704"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381700"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381704"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381703"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381704"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-960"></span><span>   </span><span id="local-6989586621681381706"><span class="annot"><span class="annottext">negate :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">negate</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681381707"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381707"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381708"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381708"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381707"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381708"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-961"></span><span>   </span><span id="local-6989586621681381710"><span class="annot"><span class="annottext">abs :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">abs</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681381711"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381711"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381712"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381712"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381711"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381712"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-962"></span><span>   </span><span id="local-6989586621681381714"><span class="annot"><span class="annottext">signum :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">signum</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681381715"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381715"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381716"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381716"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381715"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381716"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-963"></span><span>   </span><span id="local-6989586621681381719"><span class="annot"><span class="annottext">fromInteger :: Integer -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromInteger</span></span></span><span> </span><span id="local-6989586621681381720"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381720"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; R
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681381720"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Rational -&gt; Integer
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-964"></span><span>
</span><span id="line-965"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-966"></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621681381730"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381730"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381731"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381731"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681381732"><span class="annot"><span class="annottext">/ :: Modulus -&gt; Modulus -&gt; Modulus
</span><span class="hs-operator hs-var hs-var hs-var hs-var">/</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681381733"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381733"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381734"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381734"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381730"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381733"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681381735"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381735"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381731"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381735"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381734"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381735"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-967"></span><span>   </span><span id="local-6989586621681381738"><span class="annot"><span class="annottext">recip :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">recip</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681381739"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381739"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681381740"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381740"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381739"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681381741"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381741"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381740"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381741"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-968"></span><span>   </span><span id="local-6989586621681381744"><span class="annot"><span class="annottext">fromRational :: Rational -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromRational</span></span></span><span> </span><span id="local-6989586621681381745"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381745"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381745"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Rational -&gt; Integer
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-969"></span><span>
</span><span id="line-970"></span><span> </span><span id="local-6989586621681379327"><span id="local-6989586621681379328"><span class="annot"><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-identifier hs-type">withInverseModulus</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681379327"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Real</span></span><span> </span><span class="annot"><a href="#local-6989586621681379328"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681379327"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379328"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span></span></span><span>
</span><span id="line-971"></span><span> </span><span id="withInverseModulus"><span class="annot"><span class="annottext">withInverseModulus :: forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-identifier hs-var hs-var">withInverseModulus</span></a></span></span><span> </span><span id="local-6989586621681381750"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681381750"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681381751"><span class="annot"><span class="annottext">r -&gt; u
</span><a href="#local-6989586621681381751"><span class="hs-identifier hs-var">finv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span id="local-6989586621681381752"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381752"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681381753"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381753"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681381750"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681381752"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681381754"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381754"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681381753"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">u -&gt; Rational
forall a. Real a =&gt; a -&gt; Rational
</span><span class="hs-identifier hs-var">toRational</span></span><span> </span><span class="annot"><span class="annottext">(u -&gt; Rational) -&gt; u -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; u
</span><a href="#local-6989586621681381751"><span class="hs-identifier hs-var">finv</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; u) -&gt; r -&gt; u
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; r
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381754"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-972"></span><span>
</span><span id="line-973"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681381763"><span id="local-6989586621681381779"><span id="local-6989586621681381782"><span id="local-6989586621681381785"><span id="local-6989586621681381788"><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-974"></span><span>   </span><span id="local-6989586621681381813"><span class="annot"><span class="annottext">pi :: Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pi</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
forall a. Floating a =&gt; a
</span><span class="hs-identifier hs-var">pi</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681381814"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381814"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Integer
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">ceiling</span></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Integer) -&gt; Double -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double) -&gt; Double -&gt; Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681381814"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">16</span></span><span>
</span><span id="line-975"></span><span>   </span><span id="local-6989586621681381826"><span class="annot"><span class="annottext">exp :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">exp</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span>
</span><span id="line-976"></span><span>   </span><span id="local-6989586621681381835"><span class="annot"><span class="annottext">sqrt :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sqrt</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681381836"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681381836"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681381836"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681381836"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-977"></span><span>   </span><span id="local-6989586621681381847"><span class="annot"><span class="annottext">sin :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sin</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asin</span></span><span>
</span><span id="line-978"></span><span>   </span><span id="local-6989586621681381858"><span class="annot"><span class="annottext">cos :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">cos</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acos</span></span><span>
</span><span id="line-979"></span><span>   </span><span id="local-6989586621681381869"><span class="annot"><span class="annottext">log :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">log</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span>
</span><span id="line-980"></span><span>   </span><span id="local-6989586621681381880"><span class="annot"><span class="annottext">asin :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">asin</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asin</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span>
</span><span id="line-981"></span><span>   </span><span id="local-6989586621681381891"><span class="annot"><span class="annottext">acos :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">acos</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acos</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span>
</span><span id="line-982"></span><span>   </span><span id="local-6989586621681381902"><span class="annot"><span class="annottext">atan :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">atan</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atan</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tan</span></span><span>
</span><span id="line-983"></span><span>   </span><span id="local-6989586621681381906"><span class="annot"><span class="annottext">tan :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">tan</span></span></span><span> </span><span id="local-6989586621681381907"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381907"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381907"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381907"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-984"></span><span>   </span><span id="local-6989586621681381911"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381911"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681381912"><span class="annot"><span class="annottext">** :: Modulus -&gt; Modulus -&gt; Modulus
</span><span class="hs-operator hs-var hs-var hs-var hs-var">**</span></span></span><span> </span><span id="local-6989586621681381913"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381913"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381913"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381911"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-985"></span><span>   </span><span id="local-6989586621681381920"><span class="annot"><span class="annottext">sinh :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sinh</span></span></span><span> </span><span id="local-6989586621681381921"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381921"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381921"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381921"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">2</span></span><span>
</span><span id="line-986"></span><span>   </span><span id="local-6989586621681381928"><span class="annot"><span class="annottext">cosh :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">cosh</span></span></span><span> </span><span id="local-6989586621681381929"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381929"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381929"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381929"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">2</span></span><span>
</span><span id="line-987"></span><span>   </span><span id="local-6989586621681381933"><span class="annot"><span class="annottext">tanh :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">tanh</span></span></span><span> </span><span id="local-6989586621681381934"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381934"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381934"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381934"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-988"></span><span>   </span><span id="local-6989586621681381941"><span class="annot"><span class="annottext">asinh :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">asinh</span></span></span><span> </span><span id="local-6989586621681381942"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381942"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(Modulus -&gt; Modulus) -&gt; Modulus -&gt; Modulus
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381942"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381942"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381942"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-989"></span><span>   </span><span id="local-6989586621681381949"><span class="annot"><span class="annottext">acosh :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">acosh</span></span></span><span> </span><span id="local-6989586621681381950"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381950"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(Modulus -&gt; Modulus) -&gt; Modulus -&gt; Modulus
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381950"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381950"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381950"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-990"></span><span>   </span><span id="local-6989586621681381959"><span class="annot"><span class="annottext">atanh :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">atanh</span></span></span><span> </span><span id="local-6989586621681381960"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381960"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381960"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681381960"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">2</span></span><span>
</span><span id="line-991"></span><span>
</span><span id="line-992"></span><span> </span><span class="hs-comment">-- | this computes partial derivates of the scalar-value 2D vector field</span><span>
</span><span id="line-993"></span><span> </span><span class="hs-comment">-- along both variables simultaneously.</span><span>
</span><span id="line-994"></span><span> </span><span id="local-6989586621681379333"><span id="local-6989586621681379334"><span class="annot"><a href="Math.Number.Real.html#del_vector2"><span class="hs-identifier hs-type">del_vector2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379333"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379334"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Vector2"><span class="hs-identifier hs-type">Vector2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379334"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681379334"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Vector2"><span class="hs-identifier hs-type">Vector2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379334"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Vector2"><span class="hs-identifier hs-type">Vector2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379333"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681379334"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-995"></span><span> </span><span id="del_vector2"><span class="annot"><span class="annottext">del_vector2 :: forall (str :: * -&gt; *) a.
Infinitesimal str a =&gt;
(Vector2 a -&gt; a) -&gt; Vector2 a -&gt; Vector2 (Closure str a)
</span><a href="Math.Number.Real.html#del_vector2"><span class="hs-identifier hs-var hs-var">del_vector2</span></a></span></span><span> </span><span id="local-6989586621681381965"><span class="annot"><span class="annottext">Vector2 a -&gt; a
</span><a href="#local-6989586621681381965"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Vector2"><span class="hs-identifier hs-type">Vector2</span></a></span><span> </span><span id="local-6989586621681381967"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381967"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681381968"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381968"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; Closure str a -&gt; Vector2 (Closure str a)
forall s. s -&gt; s -&gt; Vector2 s
</span><a href="Math.Matrix.Interface.html#Vector2"><span class="hs-identifier hs-var">Vector2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; a -&gt; a -&gt; Closure str a
forall (str :: * -&gt; *) a b.
Infinitesimal str a =&gt;
(a -&gt; b -&gt; a) -&gt; a -&gt; b -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#partial_derivate1_2"><span class="hs-identifier hs-var">partial_derivate1_2</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621681381969"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381967"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381968"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-996"></span><span>                                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; a -&gt; a -&gt; Closure str a
forall (str :: * -&gt; *) a b.
Infinitesimal str a =&gt;
(b -&gt; a -&gt; a) -&gt; b -&gt; a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#partial_derivate2_2"><span class="hs-identifier hs-var">partial_derivate2_2</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621681381969"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381967"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381968"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-997"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681381969"><span class="annot"><span class="annottext">ff :: a -&gt; a -&gt; a
</span><a href="#local-6989586621681381969"><span class="hs-identifier hs-var hs-var">ff</span></a></span></span><span> </span><span id="local-6989586621681381970"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381970"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681381971"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381971"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector2 a -&gt; a
</span><a href="#local-6989586621681381965"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; Vector2 a
forall s. s -&gt; s -&gt; Vector2 s
</span><a href="Math.Matrix.Interface.html#Vector2"><span class="hs-identifier hs-var">Vector2</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381970"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681381971"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-998"></span><span>
</span><span id="line-999"></span></pre></body></html>
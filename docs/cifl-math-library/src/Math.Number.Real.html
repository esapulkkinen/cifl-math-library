<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span> </span><span class="hs-comment">-- -*- coding: utf-8 -*-</span><span>
</span><span id="line-2"></span><span> </span><span class="hs-pragma">{-# LANGUAGE Safe,FlexibleInstances, MultiParamTypeClasses, FlexibleContexts, ScopedTypeVariables, TypeOperators, TypeFamilies, PatternGuards, UnicodeSyntax #-}</span><span>
</span><span id="line-3"></span><span> </span><span class="hs-pragma">{-# LANGUAGE DataKinds, UndecidableInstances #-}</span><span>
</span><span id="line-4"></span><span> </span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Math.Number.Real</span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">(</span><span>
</span><span id="line-6"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier">R</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier">Limit</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier">Modulus</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#d"><span class="hs-identifier">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier">liftReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#convergenceRatioTest"><span class="hs-identifier">convergenceRatioTest</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#averageConvergenceRatio"><span class="hs-identifier">averageConvergenceRatio</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#listAverage"><span class="hs-identifier">listAverage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#cauchy"><span class="hs-identifier">cauchy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#cseqDifferenceMatrix"><span class="hs-identifier">cseqDifferenceMatrix</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#cauchySequenceEquivalence"><span class="hs-identifier">cauchySequenceEquivalence</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#cseqEquivalenceMatrix"><span class="hs-identifier">cseqEquivalenceMatrix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#cseqConvergence"><span class="hs-identifier">cseqConvergence</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#cseqEquivalence_list"><span class="hs-identifier">cseqEquivalence_list</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#converges"><span class="hs-identifier">converges</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#increaseAccuracyBy"><span class="hs-identifier">increaseAccuracyBy</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>  </span><span class="annot"><a href="Math.Number.StreamInterface.html#partialDerive"><span class="hs-identifier">partialDerive</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#partialDerivateClosure"><span class="hs-identifier">partialDerivateClosure</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#partialDerivate"><span class="hs-identifier">partialDerivate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#partialDerivateEndo"><span class="hs-identifier">partialDerivateEndo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#complexDerivate"><span class="hs-identifier">complexDerivate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#average"><span class="hs-identifier">average</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#completenessOfReals"><span class="hs-identifier">completenessOfReals</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier">liftRClosure</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#limitReal"><span class="hs-identifier">limitReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier">liftReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#series"><span class="hs-identifier">series</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#supremumGen"><span class="hs-identifier">supremumGen</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#negate_limit"><span class="hs-identifier">negate_limit</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#infimumGen"><span class="hs-identifier">infimumGen</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#infinity"><span class="hs-identifier">infinity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#infinityGen"><span class="hs-identifier">infinityGen</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#negative_infinityGen"><span class="hs-identifier">negative_infinityGen</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#limitBelow"><span class="hs-identifier">limitBelow</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#limitAbove"><span class="hs-identifier">limitAbove</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#limitBoth"><span class="hs-identifier">limitBoth</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#negative_infinity"><span class="hs-identifier">negative_infinity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#epsilonLinear"><span class="hs-identifier">epsilonLinear</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#increaseAccuracy"><span class="hs-identifier">increaseAccuracy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#lessthanPrecision"><span class="hs-identifier">lessthanPrecision</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#limitingDistance"><span class="hs-identifier">limitingDistance</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#distanceMatrix"><span class="hs-identifier">distanceMatrix</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#atPrecisionRational"><span class="hs-identifier">atPrecisionRational</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#atPrecision"><span class="hs-identifier">atPrecision</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#precisionRational"><span class="hs-identifier">precisionRational</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#realDerivate"><span class="hs-identifier">realDerivate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#realExp"><span class="hs-identifier">realExp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#derivateClosed"><span class="hs-identifier">derivateClosed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#vectorDerivate"><span class="hs-identifier">vectorDerivate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#pseudoDerivate"><span class="hs-identifier">pseudoDerivate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#derivatesAt"><span class="hs-identifier">derivatesAt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#derivateAround"><span class="hs-identifier">derivateAround</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#partialDerivate1_2"><span class="hs-identifier">partialDerivate1_2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#partialDerivate2_2"><span class="hs-identifier">partialDerivate2_2</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="Math.Number.StreamInterface.html#partialDerivate1_3"><span class="hs-identifier">partialDerivate1_3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#partialDerivate2_3"><span class="hs-identifier">partialDerivate2_3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#partialDerivate3_3"><span class="hs-identifier">partialDerivate3_3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#agm"><span class="hs-identifier">agm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#expo"><span class="hs-identifier">expo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#newtonsMethod"><span class="hs-identifier">newtonsMethod</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#eigenvalue"><span class="hs-identifier">eigenvalue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#integrate_vector"><span class="hs-identifier">integrate_vector</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#integrate"><span class="hs-identifier">integrate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#integralReal"><span class="hs-identifier">integralReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#integralRational"><span class="hs-identifier">integralRational</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#integrateCurve"><span class="hs-identifier">integrateCurve</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#gamma_via_integral"><span class="hs-identifier">gamma_via_integral</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#approximatelyEqual"><span class="hs-identifier">approximatelyEqual</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#approximatelyEq"><span class="hs-identifier">approximatelyEq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#constructively_less"><span class="hs-identifier">constructively_less</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#equality"><span class="hs-identifier">equality</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#signumReal"><span class="hs-identifier">signumReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#showAtPrecisionReal"><span class="hs-identifier">showAtPrecisionReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#properFractionReal"><span class="hs-identifier">properFractionReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#enumFromThenToReal"><span class="hs-identifier">enumFromThenToReal</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#fromThenTo"><span class="hs-identifier">fromThenTo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#fromTo"><span class="hs-identifier">fromTo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#enumFromToReal"><span class="hs-identifier">enumFromToReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#realEnumFromThenTo"><span class="hs-identifier">realEnumFromThenTo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#strEnumFromThenTo"><span class="hs-identifier">strEnumFromThenTo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#toReal"><span class="hs-identifier">toReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#logarithm"><span class="hs-identifier">logarithm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#eulerConstant"><span class="hs-identifier">eulerConstant</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#napiersConstant"><span class="hs-identifier">napiersConstant</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#logarithmByNewton"><span class="hs-identifier">logarithmByNewton</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#invertByNewton"><span class="hs-identifier">invertByNewton</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#expByPowers"><span class="hs-identifier">expByPowers</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#expByPowersReal"><span class="hs-identifier">expByPowersReal</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#sumGeneratingFunction"><span class="hs-identifier">sumGeneratingFunction</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#riemann_zeta"><span class="hs-identifier">riemann_zeta</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#riemann_zetaReal"><span class="hs-identifier">riemann_zetaReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#riemann_zetaComplex"><span class="hs-identifier">riemann_zetaComplex</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#encodeInBase"><span class="hs-identifier">encodeInBase</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#fromFloat"><span class="hs-identifier">fromFloat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#goldenRatio"><span class="hs-identifier">goldenRatio</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#slowGoldenRatio"><span class="hs-identifier">slowGoldenRatio</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#logistic"><span class="hs-identifier">logistic</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><a href="Math.Number.Interface.html#floatingApproximations"><span class="hs-identifier">floatingApproximations</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#logarithmByPower"><span class="hs-identifier">logarithmByPower</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#tetrate"><span class="hs-identifier">tetrate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#tetrate2"><span class="hs-identifier">tetrate2</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#logNewton"><span class="hs-identifier">logNewton</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#expBySeries2"><span class="hs-identifier">expBySeries2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#expBySeries"><span class="hs-identifier">expBySeries</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#sinBySeries"><span class="hs-identifier">sinBySeries</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#cosBySeries"><span class="hs-identifier">cosBySeries</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="Math.Number.Real.html#approximateSumsModulus"><span class="hs-identifier">approximateSumsModulus</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-identifier">withInverseModulus</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#partialDerivateLinear"><span class="hs-identifier">partialDerivateLinear</span></a></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-33"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">zipWith</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier">take</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier">zip</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier">zip3</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">id</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.)</span></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Fix</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fix</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>
</span><span id="line-36"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Control.Category</span></span><span>
</span><span id="line-37"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Type.Equality</span></span><span>
</span><span id="line-38"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Complex</span></span><span>
</span><span id="line-39"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Ratio</span></span><span>
</span><span id="line-40"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Monoid</span></span><span>
</span><span id="line-41"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Functor.html"><span class="hs-identifier">Math.Tools.Functor</span></a></span><span>
</span><span id="line-42"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Visitor.html"><span class="hs-identifier">Math.Tools.Visitor</span></a></span><span>
</span><span id="line-43"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Median.html"><span class="hs-identifier">Math.Tools.Median</span></a></span><span>
</span><span id="line-44"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Orthogonal.html"><span class="hs-identifier">Math.Tools.Orthogonal</span></a></span><span>
</span><span id="line-45"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Adjunction.html"><span class="hs-identifier">Math.Tools.Adjunction</span></a></span><span>
</span><span id="line-46"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.PrettyP.html"><span class="hs-identifier">Math.Tools.PrettyP</span></a></span><span>
</span><span id="line-47"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Arrow.html"><span class="hs-identifier">Math.Tools.Arrow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Tools.Arrow.html#BiArrow"><span class="hs-identifier">BiArrow</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Isomorphism.html"><span class="hs-identifier">Math.Tools.Isomorphism</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Tools.Isomorphism.html#%3A%3D%3D%3A"><span class="hs-operator">(:==:)</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html"><span class="hs-identifier">Math.Matrix.Interface</span></a></span><span>
</span><span id="line-50"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Matrix.Matrix.html"><span class="hs-identifier">Math.Matrix.Matrix</span></a></span><span>
</span><span id="line-51"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html"><span class="hs-identifier">Math.Matrix.Linear</span></a></span><span>
</span><span id="line-52"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Matrix.Vector2.html"><span class="hs-identifier">Math.Matrix.Vector2</span></a></span><span>
</span><span id="line-53"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html"><span class="hs-identifier">Math.Number.StreamInterface</span></a></span><span>
</span><span id="line-54"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Number.Interface.html"><span class="hs-identifier">Math.Number.Interface</span></a></span><span>
</span><span id="line-55"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Number.Stream.html"><span class="hs-identifier">Math.Number.Stream</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">logarithm</span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Math.Number.Stream.html"><span class="hs-identifier">Math.Number.Stream</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Stream</span></span><span>
</span><span id="line-57"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Prop.html"><span class="hs-identifier">Math.Tools.Prop</span></a></span><span>
</span><span id="line-58"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Matrix.Instances.html"><span class="hs-identifier">Math.Matrix.Instances</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Instances.html#characteristicPolynomial"><span class="hs-identifier">characteristicPolynomial</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span> </span><span class="hs-comment">-- | Problem with this representation: real number ranges cannot be represented.</span><span>
</span><span id="line-63"></span><span> </span><span class="hs-comment">-- given two rational numbers \(r_1 &lt; r_2\), it should be there are infinitely</span><span>
</span><span id="line-64"></span><span> </span><span class="hs-comment">-- many real numbers between \(r_1\) and \(r_2\), so support density of irrationals.</span><span>
</span><span id="line-65"></span><span> </span><span class="hs-comment">-- &lt;https://en.wikipedia.org/wiki/Dense_order&gt;</span><span>
</span><span id="line-66"></span><span> </span><span class="hs-comment">-- </span><span>
</span><span id="line-67"></span><span> </span><span class="hs-comment">-- In constructive mathematics, given two real numbers \(r_1' &lt; r_2'\), there</span><span>
</span><span id="line-68"></span><span> </span><span class="hs-comment">-- should exist a rational number r, such that \(r_1' &lt; r\) and \(r &lt; r_2'\).</span><span>
</span><span id="line-69"></span><span> </span><span class="hs-comment">-- HOWEVER, these comparisons are a type error for Eq class. In particular this</span><span>
</span><span id="line-70"></span><span> </span><span class="hs-comment">-- cannot be used to _define_ how to compare two real numbers.</span><span>
</span><span id="line-71"></span><span> </span><span class="hs-comment">-- </span><span>
</span><span id="line-72"></span><span> </span><span class="hs-comment">-- what is meant is if \(r_1' &lt; r_2'\)</span><span>
</span><span id="line-73"></span><span> </span><span class="hs-comment">--                  then there exists a rational r</span><span>
</span><span id="line-74"></span><span> </span><span class="hs-comment">--                  such that \(r_1' &lt; {\mathbf{fromRational}}(r)\) and \({\mathbf{fromRational}}(r) &lt; r_2'\)</span><span>
</span><span id="line-75"></span><span> </span><span class="hs-comment">-- </span><span>
</span><span id="line-76"></span><span> </span><span class="hs-comment">-- In here properties of \({\mathbf{fromRational}}\) are important. Note that comparisons</span><span>
</span><span id="line-77"></span><span> </span><span class="hs-comment">-- invoke the real comparison, so at most is a recursive definition</span><span>
</span><span id="line-78"></span><span> </span><span class="hs-comment">-- of real comparison in terms of itself. But it doesn't include</span><span>
</span><span id="line-79"></span><span> </span><span class="hs-comment">-- termination condition.</span><span>
</span><span id="line-80"></span><span> </span><span class="hs-comment">-- </span><span>
</span><span id="line-81"></span><span> </span><span class="hs-comment">-- It should be so that _if_ two real numbers \(r_1\) and \(r_2\) are not the same</span><span>
</span><span id="line-82"></span><span> </span><span class="hs-comment">-- real number, then \(r_1 &lt; r_2\) makes sense. But comparing whether two real</span><span>
</span><span id="line-83"></span><span> </span><span class="hs-comment">-- numbers are the same is undecidable (algorithm for this comparison</span><span>
</span><span id="line-84"></span><span> </span><span class="hs-comment">-- will not halt if they are same). Would this mean that if \(r_1 &lt; r_2\) is</span><span>
</span><span id="line-85"></span><span> </span><span class="hs-comment">-- computable, wouldn't \(\neg(r_1 &lt; r_2 \lor r_2 &lt; r_1)\) be computable equality of reals;</span><span>
</span><span id="line-86"></span><span> </span><span class="hs-comment">-- This is computable in the limit , but not computable? &lt;https://en.wikipedia.org/wiki/Computation_in_the_limit&gt;</span><span>
</span><span id="line-87"></span><span> </span><span class="hs-comment">--</span><span>
</span><span id="line-88"></span><span> </span><span class="hs-comment">-- So we are forced to consider only comparison between a rational and a real,</span><span>
</span><span id="line-89"></span><span> </span><span class="hs-comment">-- but not between two reals. This is encapsulated in</span><span>
</span><span id="line-90"></span><span> </span><span class="hs-comment">-- the &quot;Math.Tools.Interface.DedekindCut&quot; type class.</span><span>
</span><span id="line-91"></span><span> </span><span class="hs-comment">-- </span><span>
</span><span id="line-92"></span><span> </span><span class="hs-comment">-- The solution is that when comparing a rational with a real,</span><span>
</span><span id="line-93"></span><span> </span><span class="hs-comment">-- the rational's denominator determines the accuracy used.</span><span>
</span><span id="line-94"></span><span> </span><span class="hs-comment">-- This additional information makes comparison between a rational and a real</span><span>
</span><span id="line-95"></span><span> </span><span class="hs-comment">-- decidable, but doesn't help when comparing two reals.</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span> </span><span class="hs-keyword">newtype</span><span> </span><span id="R"><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-var">R</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Limit"><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="approximate"><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var hs-var">approximate</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-98"></span><span> </span><span class="hs-keyword">data</span><span> </span><span id="Modulus"><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-var">Modulus</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Modulus"><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-var">Modulus</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="modulus_value"><span class="annot"><span class="annottext">Modulus -&gt; R
</span><a href="Math.Number.Real.html#modulus_value"><span class="hs-identifier hs-var hs-var">modulus_value</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">,</span><span> </span><span id="modulus"><span class="annot"><span class="annottext">Modulus -&gt; Rational -&gt; Integer
</span><a href="Math.Number.Real.html#modulus"><span class="hs-identifier hs-var hs-var">modulus</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681315064"><span id="local-6989586621681315068"><span id="local-6989586621681315071"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-101"></span><span>   </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681315078"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315078"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315079"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315079"><span class="hs-identifier hs-var">xr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681315080"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Rational -&gt; Bool
</span><a href="#local-6989586621681315080"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681315082"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315082"><span class="hs-identifier hs-var">q</span></a></span></span><span>
</span><span id="line-102"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315078"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315082"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315078"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315082"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-103"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315079"><span class="hs-identifier hs-var">xr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315082"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-104"></span><span>   </span><span id="local-6989586621681315089"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315089"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span id="local-6989586621681315090"><span class="annot"><span class="annottext">%&lt; :: Rational -&gt; R -&gt; Bool
</span><a href="#local-6989586621681315090"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681315092"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315092"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315093"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315093"><span class="hs-identifier hs-var">xr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315092"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315089"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315089"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315092"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-106"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315089"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315093"><span class="hs-identifier hs-var">xr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681315100"><span id="local-6989586621681315104"><span id="local-6989586621681315107"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-109"></span><span>   </span><span id="local-6989586621681315112"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681315112"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681315113"><span class="annot"><span class="annottext">%&lt; :: Int -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681315114"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315114"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681315112"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315114"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-110"></span><span>   </span><span id="local-6989586621681315118"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315118"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315119"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Int -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681315120"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681315120"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315118"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681315120"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681315126"><span id="local-6989586621681315130"><span id="local-6989586621681315133"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-113"></span><span>   </span><span id="local-6989586621681315138"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315138"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681315139"><span class="annot"><span class="annottext">%&lt; :: Integer -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681315140"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315140"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315138"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315140"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-114"></span><span>   </span><span id="local-6989586621681315144"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315144"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315145"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Integer -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681315146"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315146"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315144"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315146"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681315153"><span id="local-6989586621681315157"><span id="local-6989586621681315160"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-117"></span><span>   </span><span id="local-6989586621681315166"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681315166"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681315167"><span class="annot"><span class="annottext">%&lt; :: Word -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681315168"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315168"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681315166"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315168"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-118"></span><span>   </span><span id="local-6989586621681315172"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315172"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315173"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Word -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681315174"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681315174"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315172"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681315174"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span> </span><span class="annot"><span class="hs-comment">-- | d x = partialDerivate x </span></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span> </span><span id="local-6989586621681314312"><span class="annot"><a href="Math.Number.Real.html#d"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314312"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314312"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314312"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314312"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314312"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-123"></span><span> </span><span id="d"><span class="annot"><span class="annottext">d :: forall a.
Infinitesimal Stream a =&gt;
(a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#d"><span class="hs-identifier hs-var hs-var">d</span></a></span></span><span> </span><span id="local-6989586621681315190"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681315190"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681315191"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315191"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall (str :: * -&gt; *) a.
Infinitesimal str a =&gt;
(a -&gt; a) -&gt; a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#derivateClosed"><span class="hs-identifier hs-var">derivateClosed</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681315190"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315191"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; (a -&gt; Closure Stream a) -&gt; Closure Stream a
forall (s :: * -&gt; *) a b.
(Limiting s a, Limiting s b) =&gt;
Closure s a -&gt; (a -&gt; Closure s b) -&gt; Closure s b
</span><a href="Math.Number.Stream.html#.%3E%3E%3D."><span class="hs-operator hs-var">.&gt;&gt;=.</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681315193"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315193"><span class="hs-identifier hs-var">derx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-124"></span><span>              </span><span class="annot"><span class="annottext">Closure Stream a
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#epsilonClosure"><span class="hs-identifier hs-var">epsilonClosure</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; (a -&gt; Closure Stream a) -&gt; Closure Stream a
forall (s :: * -&gt; *) a b.
(Limiting s a, Limiting s b) =&gt;
Closure s a -&gt; (a -&gt; Closure s b) -&gt; Closure s b
</span><a href="Math.Number.Stream.html#.%3E%3E%3D."><span class="hs-operator hs-var">.&gt;&gt;=.</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681315195"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315195"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-125"></span><span>              </span><span class="annot"><span class="annottext">a -&gt; Closure Stream a
forall a. Limiting Stream a =&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Stream.html#close"><span class="hs-identifier hs-var">close</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Closure Stream a) -&gt; a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315193"><span class="hs-identifier hs-var">derx</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315195"><span class="hs-identifier hs-var">dx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span> </span><span id="local-6989586621681314327"><span class="annot"><a href="Math.Number.Real.html#convergenceRatioTest"><span class="hs-identifier hs-type">convergenceRatioTest</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681314327"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621681314327"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314327"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314327"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-128"></span><span> </span><span id="convergenceRatioTest"><span class="annot"><span class="annottext">convergenceRatioTest :: forall a. (Fractional a, Ord a, Closed a) =&gt; Stream a -&gt; Bool
</span><a href="Math.Number.Real.html#convergenceRatioTest"><span class="hs-identifier hs-var hs-var">convergenceRatioTest</span></a></span></span><span> </span><span id="local-6989586621681315219"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315219"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream a -&gt; a
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulationPoint"><span class="hs-identifier hs-var">accumulationPoint</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream a -&gt; a) -&gt; Closure Stream a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a) -&gt; Stream a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Stream a -&gt; Stream a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Stream a
forall a. Fractional a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#streamQuotients"><span class="hs-identifier hs-var">streamQuotients</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315219"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span> </span><span id="local-6989586621681314338"><span class="annot"><a href="Math.Number.Real.html#averageConvergenceRatio"><span class="hs-identifier hs-type">averageConvergenceRatio</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314338"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Distance"><span class="hs-identifier hs-type">Distance</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314338"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314338"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Distance"><span class="hs-identifier hs-type">Distance</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314338"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-131"></span><span> </span><span id="averageConvergenceRatio"><span class="annot"><span class="annottext">averageConvergenceRatio :: forall a.
(MetricSpace a, Fractional (Distance a)) =&gt;
Stream a -&gt; Stream (Distance a)
</span><a href="Math.Number.Real.html#averageConvergenceRatio"><span class="hs-identifier hs-var hs-var">averageConvergenceRatio</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Distance a] -&gt; Distance a)
-&gt; Stream [Distance a] -&gt; Stream (Distance a)
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[Distance a] -&gt; Distance a
forall a. Fractional a =&gt; [a] -&gt; a
</span><a href="Math.Number.Real.html#listAverage"><span class="hs-identifier hs-var">listAverage</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream [Distance a] -&gt; Stream (Distance a))
-&gt; (Stream a -&gt; Stream [Distance a])
-&gt; Stream a
-&gt; Stream (Distance a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Stream [Distance a]
forall a. MetricSpace a =&gt; Stream a -&gt; Stream [Distance a]
</span><a href="Math.Number.Real.html#cauchy"><span class="hs-identifier hs-var">cauchy</span></a></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span> </span><span id="local-6989586621681314345"><span class="annot"><a href="Math.Number.Real.html#listAverage"><span class="hs-identifier hs-type">listAverage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681314345"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681314345"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314345"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-134"></span><span> </span><span id="listAverage"><span class="annot"><span class="annottext">listAverage :: forall a. Fractional a =&gt; [a] -&gt; a
</span><a href="Math.Number.Real.html#listAverage"><span class="hs-identifier hs-var hs-var">listAverage</span></a></span></span><span> </span><span id="local-6989586621681315242"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681315242"><span class="hs-identifier hs-var">lst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681315242"><span class="hs-identifier hs-var">lst</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">Prelude.sum</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681315242"><span class="hs-identifier hs-var">lst</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-comment">-- maxConvergenceRatio :: (MetricSpace a) =&gt; Stream a -&gt; Stream R</span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-comment">-- maxConvergenceRatio = fmap (foldl1 max) . cauchy</span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span> </span><span id="local-6989586621681314351"><span class="annot"><a href="Math.Number.Real.html#cauchy"><span class="hs-identifier hs-type">cauchy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314351"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314351"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Matrix.Interface.html#Distance"><span class="hs-identifier hs-type">Distance</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314351"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-140"></span><span> </span><span id="cauchy"><span class="annot"><span class="annottext">cauchy :: forall a. MetricSpace a =&gt; Stream a -&gt; Stream [Distance a]
</span><a href="Math.Number.Real.html#cauchy"><span class="hs-identifier hs-var hs-var">cauchy</span></a></span></span><span> </span><span id="local-6989586621681315250"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315250"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:*:) Stream Stream (Distance a) -&gt; Stream [Distance a]
forall a. (:*:) Stream Stream a -&gt; Stream [a]
</span><a href="Math.Number.Stream.html#codiagonals"><span class="hs-identifier hs-var">codiagonals</span></a></span><span> </span><span class="annot"><span class="annottext">((:*:) Stream Stream (Distance a) -&gt; Stream [Distance a])
-&gt; (:*:) Stream Stream (Distance a) -&gt; Stream [Distance a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; Distance a)
-&gt; Stream a -&gt; Stream a -&gt; (:*:) Stream Stream (Distance a)
forall (m :: * -&gt; *) (n :: * -&gt; *) a b c.
(Functor m, Functor n) =&gt;
(a -&gt; b -&gt; c) -&gt; m a -&gt; n b -&gt; (:*:) m n c
</span><a href="Math.Matrix.Interface.html#matrix"><span class="hs-identifier hs-var">matrix</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Distance a
forall s. MetricSpace s =&gt; s -&gt; s -&gt; Distance s
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var">distance</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315250"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315250"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span> </span><span id="local-6989586621681314365"><span id="local-6989586621681314366"><span id="local-6989586621681314367"><span class="annot"><a href="Math.Number.Real.html#cseqDifferenceMatrix"><span class="hs-identifier hs-type">cseqDifferenceMatrix</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621681314365"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621681314366"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Diagonalizable"><span class="hs-identifier hs-type">Diagonalizable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314365"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314367"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#LinearTransform"><span class="hs-identifier hs-type">LinearTransform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314365"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314366"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314367"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681314367"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314365"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314367"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314366"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314367"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314365"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">:*:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314366"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681314367"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-144"></span><span> </span><span id="cseqDifferenceMatrix"><span class="annot"><span class="annottext">cseqDifferenceMatrix :: forall (m :: * -&gt; *) (n :: * -&gt; *) a.
(Functor m, Functor n, Diagonalizable m a, LinearTransform m n a,
 Num a) =&gt;
m a -&gt; n a -&gt; (:*:) m n a
</span><a href="Math.Number.Real.html#cseqDifferenceMatrix"><span class="hs-identifier hs-var hs-var">cseqDifferenceMatrix</span></a></span></span><span> </span><span id="local-6989586621681315263"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621681315263"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681315264"><span class="annot"><span class="annottext">n a
</span><a href="#local-6989586621681315264"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; m a -&gt; n a -&gt; (:*:) m n a
forall (m :: * -&gt; *) (n :: * -&gt; *) a b c.
(Functor m, Functor n) =&gt;
(a -&gt; b -&gt; c) -&gt; m a -&gt; n b -&gt; (:*:) m n c
</span><a href="Math.Matrix.Interface.html#matrix"><span class="hs-identifier hs-var">matrix</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681315265"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315265"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315266"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315266"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315265"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315266"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621681315263"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">n a
</span><a href="#local-6989586621681315264"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span> </span><span class="hs-comment">-- | See Suppes: Axiomatic Set Theory.</span><span>
</span><span id="line-147"></span><span> </span><span class="hs-comment">-- Note that we would like to check that</span><span>
</span><span id="line-148"></span><span> </span><span class="hs-comment">-- \[\forall \epsilon &gt; 0. \exists n. \forall k &gt; n. |s_k - t_k| &lt; \epsilon \].</span><span>
</span><span id="line-149"></span><span> </span><span class="hs-comment">-- However, this is undecidable in particular with respect to what to choose for 'n'.</span><span>
</span><span id="line-150"></span><span> </span><span class="hs-comment">-- We can nonetheless compute the stream of distances.</span><span>
</span><span id="line-151"></span><span> </span><span id="local-6989586621681314373"><span class="annot"><a href="Math.Number.Real.html#cauchySequenceEquivalence"><span class="hs-identifier hs-type">cauchySequenceEquivalence</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314373"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314373"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681314373"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314373"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314373"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314373"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-152"></span><span> </span><span id="cauchySequenceEquivalence"><span class="annot"><span class="annottext">cauchySequenceEquivalence :: forall a.
(ConjugateSymmetric a, Closed a, Num a) =&gt;
Stream a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Real.html#cauchySequenceEquivalence"><span class="hs-identifier hs-var hs-var">cauchySequenceEquivalence</span></a></span></span><span> </span><span id="local-6989586621681315283"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315283"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681315284"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315284"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:*:) Stream Stream a -&gt; Stream a
forall (m :: * -&gt; *) a. Diagonalizable m a =&gt; (:*:) m m a -&gt; m a
</span><a href="Math.Matrix.Interface.html#diagonalImpl"><span class="hs-identifier hs-var">diagonalImpl</span></a></span><span> </span><span class="annot"><span class="annottext">((:*:) Stream Stream a -&gt; Stream a)
-&gt; (:*:) Stream Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Stream a -&gt; (:*:) Stream Stream a
forall (m :: * -&gt; *) (n :: * -&gt; *) a.
(Functor m, Functor n, Diagonalizable m a, LinearTransform m n a,
 Num a) =&gt;
m a -&gt; n a -&gt; (:*:) m n a
</span><a href="Math.Number.Real.html#cseqDifferenceMatrix"><span class="hs-identifier hs-var">cseqDifferenceMatrix</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315283"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315284"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span> </span><span class="hs-comment">-- | cseqEquivalenceMatrix computes equivalence of cauchy sequences.</span><span>
</span><span id="line-155"></span><span> </span><span class="hs-comment">-- However, the 'modulus' argument is undecidable. But if you produce a modulus,</span><span>
</span><span id="line-156"></span><span> </span><span class="hs-comment">-- this chooses the part of the cauchy sequence differences that should converge</span><span>
</span><span id="line-157"></span><span> </span><span class="hs-comment">-- according to the convergence ratio of the @epsilon@ from the infinitesimal instance.</span><span>
</span><span id="line-158"></span><span> </span><span class="hs-comment">-- Thus if you can prove that the matrix elements converge to zero when elements</span><span>
</span><span id="line-159"></span><span> </span><span class="hs-comment">-- of increasing index are chosen, you would have proven equality of the two cauchy</span><span>
</span><span id="line-160"></span><span> </span><span class="hs-comment">-- sequences. This could be possible in special cases, even if it's undecidable</span><span>
</span><span id="line-161"></span><span> </span><span class="hs-comment">-- in general. Note that it suffices to consider the convergence of the first column,</span><span>
</span><span id="line-162"></span><span> </span><span class="hs-comment">-- because you could move any part to the first column by choosing reasonable values</span><span>
</span><span id="line-163"></span><span> </span><span class="hs-comment">-- of the modulus.</span><span>
</span><span id="line-164"></span><span> </span><span class="hs-comment">-- The other differences are included so computations and analysis of the situation</span><span>
</span><span id="line-165"></span><span> </span><span class="hs-comment">-- can be easier to perform.</span><span>
</span><span id="line-166"></span><span> </span><span id="local-6989586621681314380"><span id="local-6989586621681314381"><span class="annot"><a href="Math.Number.Real.html#cseqEquivalenceMatrix"><span class="hs-identifier hs-type">cseqEquivalenceMatrix</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681314380"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314380"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314380"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314381"><span class="hs-identifier hs-type">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314381"><span class="hs-identifier hs-type">eps</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314380"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314380"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">:*:</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681314380"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-168"></span><span> </span><span id="cseqEquivalenceMatrix"><span class="annot"><span class="annottext">cseqEquivalenceMatrix :: forall a eps.
(Num a, ConjugateSymmetric a, Closed a,
 Infinitesimal Stream eps) =&gt;
(eps -&gt; Integer) -&gt; Stream a -&gt; Stream a -&gt; (:*:) Stream Stream a
</span><a href="Math.Number.Real.html#cseqEquivalenceMatrix"><span class="hs-identifier hs-var hs-var">cseqEquivalenceMatrix</span></a></span></span><span> </span><span id="local-6989586621681315298"><span class="annot"><span class="annottext">eps -&gt; Integer
</span><a href="#local-6989586621681315298"><span class="hs-identifier hs-var">modulus</span></a></span></span><span> </span><span id="local-6989586621681315299"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315299"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315300"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315300"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream (Stream a) -&gt; (:*:) Stream Stream a
forall {k} {k1} (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; (:*:) f g a
</span><a href="Math.Matrix.Interface.html#Matrix"><span class="hs-identifier hs-var">Matrix</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream (Stream a) -&gt; (:*:) Stream Stream a)
-&gt; Stream (Stream a) -&gt; (:*:) Stream Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-169"></span><span>    </span><span id="local-6989586621681315302"><span class="annot"><span class="annottext">eps
</span><a href="#local-6989586621681315302"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream eps
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; str a
</span><a href="Math.Number.StreamInterface.html#epsilonStream"><span class="hs-identifier hs-var">epsilonStream</span></a></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681315304"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681315304"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">eps -&gt; Integer
</span><a href="#local-6989586621681315298"><span class="hs-identifier hs-var">modulus</span></a></span><span> </span><span class="annot"><span class="annottext">eps
</span><a href="#local-6989586621681315302"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><span class="annottext">Stream a -&gt; Stream (Stream a)
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Stream (Stream a)) -&gt; Stream a -&gt; Stream (Stream a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream a -&gt; Stream a
forall a. Integer -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#drop"><span class="hs-identifier hs-var">Stream.drop</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315304"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315306"><span class="hs-identifier hs-var">seq</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681315306"><span class="annot"><span class="annottext">seq :: Stream a
</span><a href="#local-6989586621681315306"><span class="hs-identifier hs-var hs-var">seq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Stream a -&gt; Stream a
forall a.
(ConjugateSymmetric a, Closed a, Num a) =&gt;
Stream a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Real.html#cauchySequenceEquivalence"><span class="hs-identifier hs-var">cauchySequenceEquivalence</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315299"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315300"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span> </span><span class="hs-comment">-- | This version of cauchy sequence equality convergence check</span><span>
</span><span id="line-175"></span><span> </span><span class="hs-comment">-- produces a stream of lists, where each list contains those elements</span><span>
</span><span id="line-176"></span><span> </span><span class="hs-comment">-- which are close to each other in terms of choice of indices, e.g.</span><span>
</span><span id="line-177"></span><span> </span><span class="hs-comment">-- \[C(s,t)_i = [ \lvert s_j - t_k \rvert | j \leftarrow naturals, k \leftarrow naturals, i = j + k]\]</span><span>
</span><span id="line-178"></span><span> </span><span class="hs-comment">-- thus the complexity of the stream element lists of the result should increase</span><span>
</span><span id="line-179"></span><span> </span><span class="hs-comment">-- in the same way than the complexity of the input stream elements.</span><span>
</span><span id="line-180"></span><span> </span><span class="hs-comment">-- The lists in the result stream have monotonically increasing length.</span><span>
</span><span id="line-181"></span><span> </span><span class="hs-comment">-- thus to compute results for particular level of approximation, it should suffice</span><span>
</span><span id="line-182"></span><span> </span><span class="hs-comment">-- to choose a list from the result stream, and perform the equivalence check</span><span>
</span><span id="line-183"></span><span> </span><span class="hs-comment">-- using the values in the list. To do this, it would be necessary to be able</span><span>
</span><span id="line-184"></span><span> </span><span class="hs-comment">-- to determine how close to zero the elements in the list should be.</span><span>
</span><span id="line-185"></span><span> </span><span class="hs-comment">-- the middle element (if any) of the list is probably the most interesting,</span><span>
</span><span id="line-186"></span><span> </span><span class="hs-comment">-- because that would mean \(j == k\), therefore the computation result</span><span>
</span><span id="line-187"></span><span> </span><span class="hs-comment">-- would be \(\lvert s_j - t_j \rvert\), but due to different rate of convergence of the input</span><span>
</span><span id="line-188"></span><span> </span><span class="hs-comment">-- sequences, it can happen that the elementwise differences are not really</span><span>
</span><span id="line-189"></span><span> </span><span class="hs-comment">-- representative of the stream convergence behaviour at the diagonal.</span><span>
</span><span id="line-190"></span><span> </span><span class="hs-comment">-- however, analyzing these numbers should produce useful results about</span><span>
</span><span id="line-191"></span><span> </span><span class="hs-comment">-- convergence of the input stream element differences.</span><span>
</span><span id="line-192"></span><span> </span><span class="hs-comment">-- e.g choosing minimum and maximum element from each list determines</span><span>
</span><span id="line-193"></span><span> </span><span class="hs-comment">-- best and worst approximation in the same depth of approximations.</span><span>
</span><span id="line-194"></span><span> </span><span class="hs-comment">-- for the equality of the cauchy sequences to hold, the best approximation should</span><span>
</span><span id="line-195"></span><span> </span><span class="hs-comment">-- stay close to zero and better so when further elements of the stream are obtained.</span><span>
</span><span id="line-196"></span><span> </span><span id="local-6989586621681314391"><span class="annot"><a href="Math.Number.Real.html#cseqConvergence"><span class="hs-identifier hs-type">cseqConvergence</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314391"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314391"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681314391"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314391"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314391"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681314391"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-197"></span><span> </span><span id="cseqConvergence"><span class="annot"><span class="annottext">cseqConvergence :: forall a.
(ConjugateSymmetric a, Closed a, Num a) =&gt;
Stream a -&gt; Stream a -&gt; Stream [a]
</span><a href="Math.Number.Real.html#cseqConvergence"><span class="hs-identifier hs-var hs-var">cseqConvergence</span></a></span></span><span> </span><span id="local-6989586621681315320"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315320"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681315321"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315321"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:*:) Stream Stream a -&gt; Stream [a]
forall a. (:*:) Stream Stream a -&gt; Stream [a]
</span><a href="Math.Number.Stream.html#codiagonals"><span class="hs-identifier hs-var">codiagonals</span></a></span><span> </span><span class="annot"><span class="annottext">((:*:) Stream Stream a -&gt; Stream [a])
-&gt; (:*:) Stream Stream a -&gt; Stream [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Stream a -&gt; (:*:) Stream Stream a
forall (m :: * -&gt; *) (n :: * -&gt; *) a.
(Functor m, Functor n, Diagonalizable m a, LinearTransform m n a,
 Num a) =&gt;
m a -&gt; n a -&gt; (:*:) m n a
</span><a href="Math.Number.Real.html#cseqDifferenceMatrix"><span class="hs-identifier hs-var">cseqDifferenceMatrix</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315320"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315321"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span> </span><span id="local-6989586621681314393"><span id="local-6989586621681314394"><span class="annot"><a href="Math.Number.Real.html#cseqEquivalence_list"><span class="hs-identifier hs-type">cseqEquivalence_list</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314393"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314393"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681314393"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314394"><span class="hs-identifier hs-type">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314394"><span class="hs-identifier hs-type">eps</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314393"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314393"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681314393"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-200"></span><span> </span><span id="cseqEquivalence_list"><span class="annot"><span class="annottext">cseqEquivalence_list :: forall a eps.
(Closed a, ConjugateSymmetric a, Num a,
 Infinitesimal Stream eps) =&gt;
(eps -&gt; Integer) -&gt; Stream a -&gt; Stream a -&gt; Stream [a]
</span><a href="Math.Number.Real.html#cseqEquivalence_list"><span class="hs-identifier hs-var hs-var">cseqEquivalence_list</span></a></span></span><span> </span><span id="local-6989586621681315330"><span class="annot"><span class="annottext">eps -&gt; Integer
</span><a href="#local-6989586621681315330"><span class="hs-identifier hs-var">modulus</span></a></span></span><span> </span><span id="local-6989586621681315331"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315331"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315332"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315332"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:*:) Stream Stream a -&gt; Stream [a]
forall a. (:*:) Stream Stream a -&gt; Stream [a]
</span><a href="Math.Number.Stream.html#codiagonals"><span class="hs-identifier hs-var">codiagonals</span></a></span><span> </span><span class="annot"><span class="annottext">((:*:) Stream Stream a -&gt; Stream [a])
-&gt; (:*:) Stream Stream a -&gt; Stream [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(eps -&gt; Integer) -&gt; Stream a -&gt; Stream a -&gt; (:*:) Stream Stream a
forall a eps.
(Num a, ConjugateSymmetric a, Closed a,
 Infinitesimal Stream eps) =&gt;
(eps -&gt; Integer) -&gt; Stream a -&gt; Stream a -&gt; (:*:) Stream Stream a
</span><a href="Math.Number.Real.html#cseqEquivalenceMatrix"><span class="hs-identifier hs-var">cseqEquivalenceMatrix</span></a></span><span> </span><span class="annot"><span class="annottext">eps -&gt; Integer
</span><a href="#local-6989586621681315330"><span class="hs-identifier hs-var">modulus</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315331"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315332"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span> </span><span id="local-6989586621681314397"><span class="annot"><a href="Math.Number.Real.html#converges"><span class="hs-identifier hs-type">converges</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314397"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314397"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314397"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Matrix.Interface.html#Distance"><span class="hs-identifier hs-type">Distance</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314397"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-203"></span><span> </span><span id="converges"><span class="annot"><span class="annottext">converges :: forall a. MetricSpace a =&gt; Stream a -&gt; a -&gt; Stream [Distance a]
</span><a href="Math.Number.Real.html#converges"><span class="hs-identifier hs-var hs-var">converges</span></a></span></span><span> </span><span id="local-6989586621681315337"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315337"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681315338"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315338"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:*:) Stream Stream (Distance a) -&gt; Stream [Distance a]
forall a. (:*:) Stream Stream a -&gt; Stream [a]
</span><a href="Math.Number.Stream.html#codiagonals"><span class="hs-identifier hs-var">codiagonals</span></a></span><span> </span><span class="annot"><span class="annottext">((:*:) Stream Stream (Distance a) -&gt; Stream [Distance a])
-&gt; (:*:) Stream Stream (Distance a) -&gt; Stream [Distance a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; Distance a)
-&gt; Stream a -&gt; Stream a -&gt; (:*:) Stream Stream (Distance a)
forall (m :: * -&gt; *) (n :: * -&gt; *) a b c.
(Functor m, Functor n) =&gt;
(a -&gt; b -&gt; c) -&gt; m a -&gt; n b -&gt; (:*:) m n c
</span><a href="Math.Matrix.Interface.html#matrix"><span class="hs-identifier hs-var">matrix</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Distance a
forall s. MetricSpace s =&gt; s -&gt; s -&gt; Distance s
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var">distance</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315337"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Stream a
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315338"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span> </span><span>
</span><span id="line-205"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681315346"><span class="annot"><a href="Math.Matrix.Interface.html#NormedSpace"><span class="hs-identifier hs-type">NormedSpace</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-206"></span><span>   </span><span id="local-6989586621681315351"><span class="annot"><span class="annottext">norm :: R -&gt; Scalar R
</span><a href="#local-6989586621681315351"><span class="hs-identifier hs-var hs-var hs-var hs-var">norm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Scalar R
R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681315357"><span id="local-6989586621681315364"><span class="annot"><a href="Math.Matrix.Interface.html#InnerProductSpace"><span class="hs-identifier hs-type">InnerProductSpace</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-209"></span><span>    </span><span id="local-6989586621681315370"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315370"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315371"><span class="annot"><span class="annottext">%. :: R -&gt; R -&gt; Scalar R
</span><a href="#local-6989586621681315371"><span class="hs-operator hs-var hs-var hs-var hs-var">%.</span></a></span></span><span> </span><span id="local-6989586621681315373"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315373"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315370"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315373"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681315380"><span id="local-6989586621681315384"><span id="local-6989586621681315387"><span id="local-6989586621681315390"><span id="local-6989586621681315394"><span id="local-6989586621681315397"><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-212"></span><span>    </span><span id="local-6989586621681315404"><span class="annot"><span class="annottext">epsilonStream :: Stream Rational
</span><a href="Math.Number.StreamInterface.html#epsilonStream"><span class="hs-identifier hs-var hs-var hs-var hs-var">epsilonStream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational
forall a. Fractional a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power"><span class="hs-identifier hs-var">Stream.power</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-215"></span><span>   </span><span class="hs-keyword">type</span><span> </span><span id="Distance"><span class="annot"><a href="Math.Matrix.Interface.html#Distance"><span class="hs-identifier hs-var">Distance</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-216"></span><span>   </span><span id="local-6989586621681315411"><span class="annot"><span class="annottext">distance :: R -&gt; R -&gt; Distance R
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var hs-var hs-var hs-var">distance</span></a></span></span><span> </span><span id="local-6989586621681315412"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315412"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315413"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315413"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315412"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315413"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-219"></span><span>   </span><span class="hs-keyword">type</span><span> </span><span id="Distance"><span class="annot"><a href="Math.Matrix.Interface.html#Distance"><span class="hs-identifier hs-var">Distance</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-220"></span><span>   </span><span id="local-6989586621681315438"><span class="annot"><span class="annottext">distance :: Stream R -&gt; Stream R -&gt; Distance (Stream R)
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var hs-var hs-var hs-var">distance</span></a></span></span><span> </span><span id="local-6989586621681315439"><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681315439"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315440"><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681315440"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream (Distance (Stream R)) -&gt; Distance (Stream R)
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulationPoint"><span class="hs-identifier hs-var">accumulationPoint</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream (Distance (Stream R)) -&gt; Distance (Stream R))
-&gt; Closure Stream (Distance (Stream R)) -&gt; Distance (Stream R)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream (Distance (Stream R))
-&gt; Closure Stream (Distance (Stream R))
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream (Distance (Stream R))
 -&gt; Closure Stream (Distance (Stream R)))
-&gt; Stream (Distance (Stream R))
-&gt; Closure Stream (Distance (Stream R))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span>
</span><span id="line-221"></span><span>                     </span><span class="hs-special">(</span><span id="local-6989586621681315441"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315441"><span class="hs-identifier hs-var">xn</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681315442"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315442"><span class="hs-identifier hs-var">yn</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681315443"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315443"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R -&gt; Stream Integer -&gt; Stream (R, R, Integer)
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
f a -&gt; f b -&gt; f c -&gt; f (a, b, c)
</span><a href="Math.Tools.Functor.html#fzip3"><span class="hs-identifier hs-var">fzip3</span></a></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681315439"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681315440"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">naturals</span></a></span><span>
</span><span id="line-222"></span><span>                     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681315446"><span class="annot"><span class="annottext">d :: R
</span><a href="#local-6989586621681315446"><span class="hs-identifier hs-var hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315441"><span class="hs-identifier hs-var">xn</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315442"><span class="hs-identifier hs-var">yn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>                     </span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream R) -&gt; R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315443"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315446"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315446"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span> </span><span id="local-6989586621681314412"><span class="annot"><a href="Math.Number.Real.html#increaseAccuracyBy"><span class="hs-identifier hs-type">increaseAccuracyBy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314412"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314412"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314412"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-226"></span><span> </span><span id="increaseAccuracyBy"><span class="annot"><span class="annottext">increaseAccuracyBy :: forall a.
Limiting Stream a =&gt;
Integer -&gt; Closure Stream a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#increaseAccuracyBy"><span class="hs-identifier hs-var hs-var">increaseAccuracyBy</span></a></span></span><span> </span><span id="local-6989586621681315454"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315454"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a)
-&gt; (Closure Stream a -&gt; Stream a)
-&gt; Closure Stream a
-&gt; Closure Stream a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream a -&gt; Stream a
forall a. Integer -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#drop"><span class="hs-identifier hs-var">Stream.drop</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315454"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Stream a)
-&gt; (Closure Stream a -&gt; Stream a) -&gt; Closure Stream a -&gt; Stream a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span> </span><span id="local-6989586621681314414"><span id="local-6989586621681314415"><span id="local-6989586621681314416"><span class="annot"><a href="Math.Number.Real.html#partialDerivateClosure"><span class="hs-identifier hs-type">partialDerivateClosure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314414"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314415"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681314415"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314415"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314416"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314416"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314416"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314415"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314416"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314414"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314415"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-231"></span><span> </span><span id="partialDerivateClosure"><span class="annot"><span class="annottext">partialDerivateClosure :: forall (str :: * -&gt; *) a b.
(Limiting str a, Fractional a) =&gt;
(a -&gt; b -&gt; b) -&gt; (b -&gt; a) -&gt; b -&gt; Endo (Closure str a)
</span><a href="Math.Number.Real.html#partialDerivateClosure"><span class="hs-identifier hs-var hs-var">partialDerivateClosure</span></a></span></span><span> </span><span id="local-6989586621681315466"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681315466"><span class="hs-identifier hs-var">delta</span></a></span></span><span> </span><span id="local-6989586621681315467"><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681315467"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681315468"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681315468"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Closure str a -&gt; Closure str a) -&gt; Endo (Closure str a)
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((Closure str a -&gt; Closure str a) -&gt; Endo (Closure str a))
-&gt; (Closure str a -&gt; Closure str a) -&gt; Endo (Closure str a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681315470"><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681315470"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">str a -&gt; Closure str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str a -&gt; Closure str a) -&gt; str a -&gt; Closure str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-232"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681315471"><span class="annot"><span class="annottext">fv :: a
</span><a href="#local-6989586621681315471"><span class="hs-identifier hs-var hs-var">fv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681315467"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681315468"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-233"></span><span>    </span><span id="local-6989586621681315472"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315472"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681315470"><span class="hs-identifier hs-var">dx</span></a></span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><span class="annottext">a -&gt; str a
forall a. a -&gt; str a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; str a) -&gt; a -&gt; str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681315467"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621681315466"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315472"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681315468"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315471"><span class="hs-identifier hs-var">fv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315472"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span> </span><span id="local-6989586621681314422"><span id="local-6989586621681314423"><span class="annot"><a href="Math.Number.Real.html#partialDerivateLinear"><span class="hs-identifier hs-type">partialDerivateLinear</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#LinearTransform"><span class="hs-identifier hs-type">LinearTransform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-238"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Linearizable"><span class="hs-identifier hs-type">Linearizable</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#LinearMap"><span class="hs-identifier hs-type">LinearMap</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">(:*:)</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Diagonalizable"><span class="hs-identifier hs-type">Diagonalizable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#%3A-%3E"><span class="hs-operator hs-type">:-&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#%3A-%3E"><span class="hs-operator hs-type">:-&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#%3A-%3E"><span class="hs-operator hs-type">:-&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314422"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314423"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-240"></span><span> </span><span id="partialDerivateLinear"><span class="annot"><span class="annottext">partialDerivateLinear :: forall (f :: * -&gt; *) a.
(LinearTransform f f a, VectorSpace (f a), Closed a, Closed (f a),
 Fractional a, Scalar (f a) ~ a, Linearizable LinearMap (:*:) f f a,
 Diagonalizable f a) =&gt;
(a -&gt; f a :-&gt; f a) -&gt; (f a :-&gt; f a) -&gt; f a :-&gt; f a
</span><a href="Math.Number.Real.html#partialDerivateLinear"><span class="hs-identifier hs-var hs-var">partialDerivateLinear</span></a></span></span><span> </span><span id="local-6989586621681315507"><span class="annot"><span class="annottext">a -&gt; f a :-&gt; f a
</span><a href="#local-6989586621681315507"><span class="hs-identifier hs-var">delta</span></a></span></span><span> </span><span id="local-6989586621681315508"><span class="annot"><span class="annottext">f a :-&gt; f a
</span><a href="#local-6989586621681315508"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f a -&gt; f a) -&gt; f a :-&gt; f a
forall (arr :: * -&gt; * -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *) a.
(Linearizable arr (:*:) f g a, Diagonalizable f a, Num a) =&gt;
(f a -&gt; g a) -&gt; arr (f a) (g a)
</span><a href="Math.Matrix.Linear.html#arrLinear"><span class="hs-identifier hs-var">arrLinear</span></a></span><span> </span><span class="annot"><span class="annottext">((f a -&gt; f a) -&gt; f a :-&gt; f a) -&gt; (f a -&gt; f a) -&gt; f a :-&gt; f a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681315510"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621681315510"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Closure Stream (f a) -&gt; f a
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulationPoint"><span class="hs-identifier hs-var">accumulationPoint</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream (f a) -&gt; f a) -&gt; Closure Stream (f a) -&gt; f a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream (f a) -&gt; Closure Stream (f a)
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream (f a) -&gt; Closure Stream (f a))
-&gt; Stream (f a) -&gt; Closure Stream (f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-241"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681315511"><span class="annot"><span class="annottext">fv :: f a
</span><a href="#local-6989586621681315511"><span class="hs-identifier hs-var hs-var">fv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a :-&gt; f a
</span><a href="#local-6989586621681315508"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(f a :-&gt; f a) -&gt; f a -&gt; f a
forall (f :: * -&gt; *) (g :: * -&gt; *) a.
LinearTransform f g a =&gt;
(f a :-&gt; g a) -&gt; f a -&gt; g a
</span><a href="Math.Matrix.Linear.html#-%21%3C"><span class="hs-operator hs-var">-!&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621681315510"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-242"></span><span>    </span><span id="local-6989586621681315513"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315513"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream a
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; str a
</span><a href="Math.Number.StreamInterface.html#epsilonStream"><span class="hs-identifier hs-var">epsilonStream</span></a></span><span>
</span><span id="line-243"></span><span>    </span><span class="annot"><span class="annottext">f a -&gt; Stream (f a)
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(f a -&gt; Stream (f a)) -&gt; f a -&gt; Stream (f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315513"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Scalar (f a) -&gt; f a -&gt; f a
forall v. VectorSpace v =&gt; Scalar v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var">%*</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f a :-&gt; f a
</span><a href="#local-6989586621681315508"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(f a :-&gt; f a) -&gt; f a -&gt; f a
forall (f :: * -&gt; *) (g :: * -&gt; *) a.
LinearTransform f g a =&gt;
(f a :-&gt; g a) -&gt; f a -&gt; g a
</span><a href="Math.Matrix.Linear.html#-%21%3C"><span class="hs-operator hs-var">-!&lt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; f a :-&gt; f a
</span><a href="#local-6989586621681315507"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315513"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">(f a :-&gt; f a) -&gt; f a -&gt; f a
forall (f :: * -&gt; *) (g :: * -&gt; *) a.
LinearTransform f g a =&gt;
(f a :-&gt; g a) -&gt; f a -&gt; g a
</span><a href="Math.Matrix.Linear.html#-%21%3C"><span class="hs-operator hs-var">-!&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621681315510"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a -&gt; f a -&gt; f a
forall v. VectorSpace v =&gt; v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25-"><span class="hs-operator hs-var">%-</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621681315511"><span class="hs-identifier hs-var">fv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span> </span><span id="local-6989586621681314439"><span id="local-6989586621681314440"><span id="local-6989586621681314441"><span class="annot"><a href="Math.Number.Real.html#partialDerivateEndo"><span class="hs-identifier hs-type">partialDerivateEndo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314439"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314440"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681314440"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>   </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314440"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621681314441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314440"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314439"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314440"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-247"></span><span> </span><span id="partialDerivateEndo"><span class="annot"><span class="annottext">partialDerivateEndo :: forall (str :: * -&gt; *) a b.
(Limiting str a, Fractional a) =&gt;
(a -&gt; Endo b) -&gt; (b -&gt; a) -&gt; b -&gt; Endo (Closure str a)
</span><a href="Math.Number.Real.html#partialDerivateEndo"><span class="hs-identifier hs-var hs-var">partialDerivateEndo</span></a></span></span><span> </span><span id="local-6989586621681315526"><span class="annot"><span class="annottext">a -&gt; Endo b
</span><a href="#local-6989586621681315526"><span class="hs-identifier hs-var">delta</span></a></span></span><span> </span><span id="local-6989586621681315527"><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681315527"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681315528"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681315528"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Closure str a -&gt; Closure str a) -&gt; Endo (Closure str a)
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((Closure str a -&gt; Closure str a) -&gt; Endo (Closure str a))
-&gt; (Closure str a -&gt; Closure str a) -&gt; Endo (Closure str a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681315529"><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681315529"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">str a -&gt; Closure str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str a -&gt; Closure str a) -&gt; str a -&gt; Closure str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-248"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681315530"><span class="annot"><span class="annottext">fv :: a
</span><a href="#local-6989586621681315530"><span class="hs-identifier hs-var hs-var">fv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681315527"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681315528"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-249"></span><span>    </span><span id="local-6989586621681315531"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315531"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681315529"><span class="hs-identifier hs-var">dx</span></a></span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><span class="annottext">a -&gt; str a
forall a. a -&gt; str a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; str a) -&gt; a -&gt; str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681315527"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Endo b
</span><a href="#local-6989586621681315526"><span class="hs-identifier hs-var">delta</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315531"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Endo b -&gt; b -&gt; b
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681315528"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315530"><span class="hs-identifier hs-var">fv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315531"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-comment">-- already defined in Math.Number.Stream:</span><span>
</span><span id="line-253"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-comment">-- instance (RealFloat a, Infinitesimal str a) =&gt; Infinitesimal str (Complex a) where</span><span>
</span><span id="line-255"></span><span>  </span><span class="hs-comment">--   epsilonClosure = limit $ liftA2 (:+) (epsilonStream) (epsilonStream)</span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#average"><span class="hs-identifier hs-type">average</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-258"></span><span> </span><span id="average"><span class="annot"><span class="annottext">average :: R -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#average"><span class="hs-identifier hs-var hs-var">average</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681315533"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315533"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681315534"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315534"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681315536"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315536"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315537"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315537"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315536"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315537"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315533"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315534"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-comment">-- would require Ord constraint</span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-comment">-- instance MedianAlgebra R where</span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-comment">--    med (Limit x) (Limit y) (Limit z) = Limit $ med x y z</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681315542"><span class="annot"><span class="annottext">conj :: R -&gt; R
</span><a href="#local-6989586621681315542"><span class="hs-identifier hs-var hs-var hs-var hs-var">conj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. a -&gt; a
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k). Category cat =&gt; cat a a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-266"></span><span>  </span><span>
</span><span id="line-267"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-268"></span><span>   </span><span class="hs-keyword">type</span><span> </span><span id="Scalar"><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-var">Scalar</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-269"></span><span>   </span><span id="local-6989586621681315553"><span class="annot"><span class="annottext">vzero :: R
</span><a href="#local-6989586621681315553"><span class="hs-identifier hs-var hs-var hs-var hs-var">vzero</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0</span></span><span>
</span><span id="line-270"></span><span>   </span><span id="local-6989586621681315556"><span class="annot"><span class="annottext">vnegate :: R -&gt; R
</span><a href="#local-6989586621681315556"><span class="hs-identifier hs-var hs-var hs-var hs-var">vnegate</span></a></span></span><span> </span><span id="local-6989586621681315558"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315558"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315558"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-271"></span><span>   </span><span id="local-6989586621681315560"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315560"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681315561"><span class="annot"><span class="annottext">%+ :: R -&gt; R -&gt; R
</span><a href="#local-6989586621681315561"><span class="hs-operator hs-var hs-var hs-var hs-var">%+</span></a></span></span><span> </span><span id="local-6989586621681315563"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315563"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315560"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315563"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-272"></span><span>   </span><span id="local-6989586621681315565"><span class="annot"><span class="annottext">Scalar R
</span><a href="#local-6989586621681315565"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681315566"><span class="annot"><span class="annottext">%* :: Scalar R -&gt; R -&gt; R
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">%*</span></a></span></span><span> </span><span id="local-6989586621681315567"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315567"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scalar R
R
</span><a href="#local-6989586621681315565"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315567"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span> </span><span class="hs-comment">-- | The following instance declaration represents the completeness of the</span><span>
</span><span id="line-275"></span><span> </span><span class="hs-comment">-- real number system. </span><span>
</span><span id="line-276"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-277"></span><span>   </span><span class="hs-keyword">data</span><span> </span><span id="Closure"><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-var">Closure</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RClosure"><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runRClosure"><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var hs-var">runRClosure</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-278"></span><span>   </span><span id="local-6989586621681315580"><span class="annot"><span class="annottext">limit :: Stream R -&gt; Closure Stream R
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var hs-var hs-var hs-var">limit</span></a></span></span><span> </span><span id="local-6989586621681315581"><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681315581"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
</span><a href="Math.Number.Real.html#limitReal"><span class="hs-identifier hs-var">limitReal</span></a></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681315581"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-279"></span><span>   </span><span id="local-6989586621681315587"><span class="annot"><span class="annottext">approximations :: Closure Stream R -&gt; Stream R
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var hs-var hs-var hs-var">approximations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; R) -&gt; Stream Rational -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R)
-&gt; (Rational -&gt; Stream Rational) -&gt; Rational -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream R)
-&gt; (Closure Stream R -&gt; Stream Rational)
-&gt; Closure Stream R
-&gt; Stream R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational)
-&gt; (Closure Stream R -&gt; R) -&gt; Closure Stream R -&gt; Stream Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Infinitary"><span class="hs-identifier hs-type">Infinitary</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-282"></span><span>    </span><span id="local-6989586621681315593"><span class="annot"><span class="annottext">infinite :: Closure Stream R
</span><a href="#local-6989586621681315593"><span class="hs-identifier hs-var hs-var hs-var hs-var">infinite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R
forall a. Infinitary a =&gt; a
</span><a href="Math.Number.Interface.html#infinite"><span class="hs-identifier hs-var">infinite</span></a></span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span> </span><span class="annot"><span class="hs-comment">-- | An isomorphism \(Cl(R) \cong R\).</span></span><span>
</span><span id="line-285"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#completenessOfReals"><span class="hs-identifier hs-type">completenessOfReals</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="annot"><a href="Math.Tools.Isomorphism.html#%3A%3D%3D%3A"><span class="hs-operator hs-type">:==:</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-286"></span><span> </span><span id="completenessOfReals"><span class="annot"><span class="annottext">completenessOfReals :: Closure Stream R :==: R
</span><a href="Math.Number.Real.html#completenessOfReals"><span class="hs-identifier hs-var hs-var">completenessOfReals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R)
-&gt; (R -&gt; Closure Stream R) -&gt; Closure Stream R :==: R
forall a b. (a -&gt; b) -&gt; (b -&gt; a) -&gt; a :==: b
forall (arr :: * -&gt; * -&gt; *) a b.
BiArrow arr =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; arr a b
</span><a href="Math.Tools.Arrow.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681315604"><span id="local-6989586621681315607"><span id="local-6989586621681315622"><span id="local-6989586621681315625"><span id="local-6989586621681315628"><span id="local-6989586621681315631"><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-289"></span><span>    </span><span id="local-6989586621681315635"><span class="annot"><span class="annottext">pi :: Closure Stream R
</span><a href="#local-6989586621681315635"><span class="hs-identifier hs-var hs-var hs-var hs-var">pi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R
forall a. Floating a =&gt; a
</span><span class="hs-identifier hs-var">pi</span></span><span>
</span><span id="line-290"></span><span>    </span><span id="local-6989586621681315638"><span class="annot"><span class="annottext">exp :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315638"><span class="hs-identifier hs-var hs-var hs-var hs-var">exp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span>
</span><span id="line-291"></span><span>    </span><span id="local-6989586621681315641"><span class="annot"><span class="annottext">log :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315641"><span class="hs-identifier hs-var hs-var hs-var hs-var">log</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span>
</span><span id="line-292"></span><span>    </span><span id="local-6989586621681315644"><span class="annot"><span class="annottext">sqrt :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315644"><span class="hs-identifier hs-var hs-var hs-var hs-var">sqrt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span>
</span><span id="line-293"></span><span>    </span><span id="local-6989586621681315647"><span class="annot"><span class="annottext">sin :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315647"><span class="hs-identifier hs-var hs-var hs-var hs-var">sin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span>
</span><span id="line-294"></span><span>    </span><span id="local-6989586621681315650"><span class="annot"><span class="annottext">cos :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315650"><span class="hs-identifier hs-var hs-var hs-var hs-var">cos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span>
</span><span id="line-295"></span><span>    </span><span id="local-6989586621681315653"><span class="annot"><span class="annottext">tan :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315653"><span class="hs-identifier hs-var hs-var hs-var hs-var">tan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tan</span></span><span>
</span><span id="line-296"></span><span>    </span><span id="local-6989586621681315656"><span class="annot"><span class="annottext">asin :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315656"><span class="hs-identifier hs-var hs-var hs-var hs-var">asin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asin</span></span><span>
</span><span id="line-297"></span><span>    </span><span id="local-6989586621681315659"><span class="annot"><span class="annottext">acos :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315659"><span class="hs-identifier hs-var hs-var hs-var hs-var">acos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acos</span></span><span>
</span><span id="line-298"></span><span>    </span><span id="local-6989586621681315662"><span class="annot"><span class="annottext">atan :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315662"><span class="hs-identifier hs-var hs-var hs-var hs-var">atan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atan</span></span><span>
</span><span id="line-299"></span><span>    </span><span id="local-6989586621681315665"><span class="annot"><span class="annottext">sinh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315665"><span class="hs-identifier hs-var hs-var hs-var hs-var">sinh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span>
</span><span id="line-300"></span><span>    </span><span id="local-6989586621681315668"><span class="annot"><span class="annottext">cosh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315668"><span class="hs-identifier hs-var hs-var hs-var hs-var">cosh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span>
</span><span id="line-301"></span><span>    </span><span id="local-6989586621681315671"><span class="annot"><span class="annottext">tanh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315671"><span class="hs-identifier hs-var hs-var hs-var hs-var">tanh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tanh</span></span><span>
</span><span id="line-302"></span><span>    </span><span id="local-6989586621681315674"><span class="annot"><span class="annottext">asinh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315674"><span class="hs-identifier hs-var hs-var hs-var hs-var">asinh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asinh</span></span><span>
</span><span id="line-303"></span><span>    </span><span id="local-6989586621681315677"><span class="annot"><span class="annottext">acosh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315677"><span class="hs-identifier hs-var hs-var hs-var hs-var">acosh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acosh</span></span><span>
</span><span id="line-304"></span><span>    </span><span id="local-6989586621681315680"><span class="annot"><span class="annottext">atanh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315680"><span class="hs-identifier hs-var hs-var hs-var hs-var">atanh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atanh</span></span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-type">liftRClosure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-307"></span><span> </span><span id="liftRClosure"><span class="annot"><span class="annottext">liftRClosure :: (R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#liftRClosure"><span class="hs-identifier hs-var hs-var">liftRClosure</span></a></span></span><span> </span><span id="local-6989586621681315682"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681315682"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315683"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315683"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681315682"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315683"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315693"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315693"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681315694"><span class="annot"><span class="annottext">+ :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">+</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315695"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315695"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315693"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315695"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-311"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315697"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315697"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681315698"><span class="annot"><span class="annottext">- :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-glyph hs-var hs-var hs-var hs-var">-</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315699"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315699"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315697"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315699"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-312"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315701"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315701"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681315702"><span class="annot"><span class="annottext">* :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">*</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315703"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315703"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315701"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315703"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-313"></span><span>    </span><span id="local-6989586621681315705"><span class="annot"><span class="annottext">negate :: Closure Stream R -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">negate</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315706"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315706"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315706"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-314"></span><span>    </span><span id="local-6989586621681315708"><span class="annot"><span class="annottext">abs :: Closure Stream R -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">abs</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315709"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315709"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315709"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-315"></span><span>    </span><span id="local-6989586621681315711"><span class="annot"><span class="annottext">signum :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315711"><span class="hs-identifier hs-var hs-var hs-var hs-var">signum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315713"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315713"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315713"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-316"></span><span>    </span><span id="local-6989586621681315715"><span class="annot"><span class="annottext">fromInteger :: Integer -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromInteger</span></span></span><span> </span><span id="local-6989586621681315716"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315716"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; R
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315716"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#limitReal"><span class="hs-identifier hs-type">limitReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-319"></span><span> </span><span id="limitReal"><span class="annot"><span class="annottext">limitReal :: Stream R -&gt; R
</span><a href="Math.Number.Real.html#limitReal"><span class="hs-identifier hs-var hs-var">limitReal</span></a></span></span><span> </span><span id="local-6989586621681315717"><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681315717"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681315717"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; (R -&gt; Stream Rational) -&gt; Stream Rational
forall a b. Stream a -&gt; (a -&gt; Stream b) -&gt; Stream b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier hs-type">liftReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-322"></span><span> </span><span id="liftReal"><span class="annot"><span class="annottext">liftReal :: (Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier hs-var hs-var">liftReal</span></a></span></span><span> </span><span id="local-6989586621681315718"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681315718"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; (R -&gt; Stream Rational) -&gt; R -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681315718"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; (R -&gt; Stream Rational) -&gt; R -&gt; Stream Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681315720"><span id="local-6989586621681315725"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-325"></span><span>    </span><span id="local-6989586621681315736"><span class="annot"><span class="annottext">show :: Closure Stream R -&gt; String
</span><a href="#local-6989586621681315736"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681315738"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315738"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Double] -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Stream Double -&gt; [Double]
forall a. Integer -&gt; Stream a -&gt; [a]
</span><a href="Math.Number.Stream.html#take"><span class="hs-identifier hs-var">take</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; [Double]) -&gt; Stream Double -&gt; [Double]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Double) -&gt; Stream Rational -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315738"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-328"></span><span>   </span><span class="hs-keyword">type</span><span> </span><span id="Scalar"><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-var">Scalar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-329"></span><span>   </span><span id="local-6989586621681315748"><span class="annot"><span class="annottext">vzero :: Closure Stream R
</span><a href="Math.Matrix.Interface.html#vzero"><span class="hs-identifier hs-var hs-var hs-var hs-var">vzero</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R
forall v. VectorSpace v =&gt; v
</span><a href="Math.Matrix.Interface.html#vzero"><span class="hs-identifier hs-var">vzero</span></a></span><span>
</span><span id="line-330"></span><span>   </span><span id="local-6989586621681315750"><span class="annot"><span class="annottext">vnegate :: Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Matrix.Interface.html#vnegate"><span class="hs-identifier hs-var hs-var hs-var hs-var">vnegate</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315751"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315751"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall v. VectorSpace v =&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#vnegate"><span class="hs-identifier hs-var">vnegate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315751"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315753"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315753"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681315754"><span class="annot"><span class="annottext">%+ :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Matrix.Interface.html#%25%2B"><span class="hs-operator hs-var hs-var hs-var hs-var">%+</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315755"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315755"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315753"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall v. VectorSpace v =&gt; v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2B"><span class="hs-operator hs-var">%+</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315755"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-332"></span><span>   </span><span id="local-6989586621681315757"><span class="annot"><span class="annottext">Scalar (Closure Stream R)
</span><a href="#local-6989586621681315757"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681315758"><span class="annot"><span class="annottext">%* :: Scalar (Closure Stream R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var hs-var hs-var hs-var">%*</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315759"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315759"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scalar (Closure Stream R)
Scalar R
</span><a href="#local-6989586621681315757"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Scalar R -&gt; R -&gt; R
forall v. VectorSpace v =&gt; Scalar v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var">%*</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315759"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#MetricSpace"><span class="hs-identifier hs-type">MetricSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-336"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Distance"><span class="annot"><a href="Math.Matrix.Interface.html#Distance"><span class="hs-identifier hs-var">Distance</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-337"></span><span>    </span><span id="local-6989586621681315763"><span class="annot"><span class="annottext">distance :: Closure Stream R -&gt; Closure Stream R -&gt; Distance (Closure Stream R)
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var hs-var hs-var hs-var">distance</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315764"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315764"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315765"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315765"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; Distance R
forall s. MetricSpace s =&gt; s -&gt; s -&gt; Distance s
</span><a href="Math.Matrix.Interface.html#distance"><span class="hs-identifier hs-var">distance</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315764"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315765"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-340"></span><span>    </span><span id="local-6989586621681315770"><span class="annot"><span class="annottext">accumulationPoint :: Closure Stream R -&gt; R
</span><a href="Math.Number.StreamInterface.html#accumulationPoint"><span class="hs-identifier hs-var hs-var hs-var hs-var">accumulationPoint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span>
</span><span id="line-341"></span><span>
</span><span id="line-342"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#series"><span class="hs-identifier hs-type">series</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-343"></span><span> </span><span id="series"><span class="annot"><span class="annottext">series :: (Integer -&gt; R) -&gt; R
</span><a href="Math.Number.Real.html#series"><span class="hs-identifier hs-var hs-var">series</span></a></span></span><span> </span><span id="local-6989586621681315771"><span class="annot"><span class="annottext">Integer -&gt; R
</span><a href="#local-6989586621681315771"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
forall a. (Closed a, Num a) =&gt; Stream a -&gt; a
</span><a href="Math.Number.Stream.html#ssum"><span class="hs-identifier hs-var">ssum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Integer -&gt; R) -&gt; Stream R
forall a. (Integer -&gt; a) -&gt; Stream a
</span><a href="Math.Number.Stream.html#fromIntegerSeq"><span class="hs-identifier hs-var">fromIntegerSeq</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; R
</span><a href="#local-6989586621681315771"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-comment">-- upperbound :: [R] -&gt; Prop R</span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-comment">-- upperbound set = Characteristic $ \x -&gt; and $ map (x &gt;=) set</span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-comment">-- lowerbound :: [R] -&gt; Prop R</span><span>
</span><span id="line-349"></span><span>  </span><span class="hs-comment">-- lowerbound set = Characteristic $ \x -&gt; and $ map (x &lt;=) set</span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span> </span><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Least-upper-bound_property Least upper bound property&gt;</span><span>
</span><span id="line-352"></span><span> </span><span class="hs-comment">-- | note this is really undecidable.</span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span>  </span><span class="hs-comment">-- supremum :: [R] -&gt; R</span><span>
</span><span id="line-355"></span><span>  </span><span class="hs-comment">-- supremum [x] = x</span><span>
</span><span id="line-356"></span><span>  </span><span class="hs-comment">-- supremum (Limit ~(Pre c cr):lst) = Limit $ Pre c $ rest</span><span>
</span><span id="line-357"></span><span>  </span><span class="hs-comment">--    where rest = liftA2 max cr $ approximate $ supremum lst</span><span>
</span><span id="line-358"></span><span>  </span><span class="hs-comment">-- supremum [] = negative_infinity</span><span>
</span><span id="line-359"></span><span>
</span><span id="line-360"></span><span> </span><span id="local-6989586621681314467"><span class="annot"><a href="Math.Number.Real.html#supremumGen"><span class="hs-identifier hs-type">supremumGen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681314467"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621681314467"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314467"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314467"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314467"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-362"></span><span> </span><span id="supremumGen"><span class="annot"><span class="annottext">supremumGen :: forall a.
(Fractional a, Ord a, Limiting Stream a) =&gt;
[Closure Stream a] -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#supremumGen"><span class="hs-identifier hs-var hs-var">supremumGen</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream a
forall a. (Fractional a, Limiting Stream a) =&gt; Closure Stream a
</span><a href="Math.Number.Real.html#negative_infinityGen"><span class="hs-identifier hs-var">negative_infinityGen</span></a></span><span>
</span><span id="line-363"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#supremumGen"><span class="hs-identifier hs-var">supremumGen</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681315789"><span class="annot"><span class="annottext">Closure Stream a
</span><a href="#local-6989586621681315789"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream a
</span><a href="#local-6989586621681315789"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-364"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#supremumGen"><span class="hs-identifier hs-var">supremumGen</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681315790"><span class="annot"><span class="annottext">Closure Stream a
</span><a href="#local-6989586621681315790"><span class="hs-identifier hs-var">a</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681315791"><span class="annot"><span class="annottext">[Closure Stream a]
</span><a href="#local-6989586621681315791"><span class="hs-identifier hs-var">lst</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a) -&gt; Stream a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Stream a -&gt; Stream a
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315792"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Stream a) -&gt; Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315793"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-365"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681315793"><span class="annot"><span class="annottext">rest :: Stream a
</span><a href="#local-6989586621681315793"><span class="hs-identifier hs-var hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; Stream a -&gt; Stream a -&gt; Stream a
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315795"><span class="hs-identifier hs-var">cr</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Stream a) -&gt; Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream a -&gt; Stream a) -&gt; Closure Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Closure Stream a] -&gt; Closure Stream a
forall a.
(Fractional a, Ord a, Limiting Stream a) =&gt;
[Closure Stream a] -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#supremumGen"><span class="hs-identifier hs-var">supremumGen</span></a></span><span> </span><span class="annot"><span class="annottext">[Closure Stream a]
</span><a href="#local-6989586621681315791"><span class="hs-identifier hs-var">lst</span></a></span><span>
</span><span id="line-366"></span><span>          </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681315792"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315792"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681315795"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315795"><span class="hs-identifier hs-var">cr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream a
</span><a href="#local-6989586621681315790"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span> </span><span id="local-6989586621681314471"><span id="local-6989586621681314472"><span class="annot"><a href="Math.Number.Real.html#negate_limit"><span class="hs-identifier hs-type">negate_limit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314471"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314472"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681314472"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314471"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314472"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314471"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314472"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-369"></span><span> </span><span id="negate_limit"><span class="annot"><span class="annottext">negate_limit :: forall (str :: * -&gt; *) a.
(Limiting str a, Num a) =&gt;
Closure str a -&gt; Closure str a
</span><a href="Math.Number.Real.html#negate_limit"><span class="hs-identifier hs-var hs-var">negate_limit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Closure str a -&gt; Closure str a
forall (s :: * -&gt; *) a b.
(Limiting s a, Limiting s b) =&gt;
(a -&gt; b) -&gt; Closure s a -&gt; Closure s b
</span><a href="Math.Number.Stream.html#cmap"><span class="hs-identifier hs-var">cmap</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span>  </span><span class="hs-comment">-- infimum :: [Closure R] -&gt; Closure R</span><span>
</span><span id="line-372"></span><span>  </span><span class="hs-comment">-- infimum = negate_limit . supremumGen . map negate_limit</span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span> </span><span id="local-6989586621681315802"><span class="annot"><a href="Math.Number.Real.html#infimumGen"><span class="hs-identifier hs-type">infimumGen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681315802"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621681315802"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681315802"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681315802"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681315802"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-375"></span><span> </span><span id="infimumGen"><span class="annot"><span class="annottext">infimumGen :: forall a.
(Fractional a, Ord a, Limiting Stream a) =&gt;
[Closure Stream a] -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#infimumGen"><span class="hs-identifier hs-var hs-var">infimumGen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a.
(Limiting str a, Num a) =&gt;
Closure str a -&gt; Closure str a
</span><a href="Math.Number.Real.html#negate_limit"><span class="hs-identifier hs-var">negate_limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream a -&gt; Closure Stream a)
-&gt; ([Closure Stream a] -&gt; Closure Stream a)
-&gt; [Closure Stream a]
-&gt; Closure Stream a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Closure Stream a] -&gt; Closure Stream a
forall a.
(Fractional a, Ord a, Limiting Stream a) =&gt;
[Closure Stream a] -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#supremumGen"><span class="hs-identifier hs-var">supremumGen</span></a></span><span> </span><span class="annot"><span class="annottext">([Closure Stream a] -&gt; Closure Stream a)
-&gt; ([Closure Stream a] -&gt; [Closure Stream a])
-&gt; [Closure Stream a]
-&gt; Closure Stream a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Closure Stream a -&gt; Closure Stream a)
-&gt; [Closure Stream a] -&gt; [Closure Stream a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a.
(Limiting str a, Num a) =&gt;
Closure str a -&gt; Closure str a
</span><a href="Math.Number.Real.html#negate_limit"><span class="hs-identifier hs-var">negate_limit</span></a></span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Infinitary"><span class="hs-identifier hs-type">Infinitary</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-378"></span><span>    </span><span id="local-6989586621681315817"><span class="annot"><span class="annottext">infinite :: R
</span><a href="Math.Number.Interface.html#infinite"><span class="hs-identifier hs-var hs-var hs-var hs-var">infinite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-var">infinity</span></a></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-type">infinity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-381"></span><span> </span><span id="infinity"><span class="annot"><span class="annottext">infinity :: R
</span><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-var hs-var">infinity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational
forall a. Fractional a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power"><span class="hs-identifier hs-var">Stream.power</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bounded</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-384"></span><span>    </span><span id="local-6989586621681315823"><span class="annot"><span class="annottext">minBound :: R
</span><a href="#local-6989586621681315823"><span class="hs-identifier hs-var hs-var hs-var hs-var">minBound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-var">infinity</span></a></span><span>
</span><span id="line-385"></span><span>    </span><span id="local-6989586621681315825"><span class="annot"><span class="annottext">maxBound :: R
</span><a href="#local-6989586621681315825"><span class="hs-identifier hs-var hs-var hs-var hs-var">maxBound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-var">infinity</span></a></span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span> </span><span id="local-6989586621681315827"><span class="annot"><a href="Math.Number.Real.html#infinityGen"><span class="hs-identifier hs-type">infinityGen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681315827"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681315827"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681315827"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-388"></span><span> </span><span id="infinityGen"><span class="annot"><span class="annottext">infinityGen :: forall a. (Fractional a, Limiting Stream a) =&gt; Closure Stream a
</span><a href="Math.Number.Real.html#infinityGen"><span class="hs-identifier hs-var hs-var">infinityGen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a) -&gt; Stream a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream a
forall a. Fractional a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power"><span class="hs-identifier hs-var">Stream.power</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span> </span><span id="local-6989586621681314469"><span class="annot"><a href="Math.Number.Real.html#negative_infinityGen"><span class="hs-identifier hs-type">negative_infinityGen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681314469"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314469"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314469"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-391"></span><span> </span><span id="negative_infinityGen"><span class="annot"><span class="annottext">negative_infinityGen :: forall a. (Fractional a, Limiting Stream a) =&gt; Closure Stream a
</span><a href="Math.Number.Real.html#negative_infinityGen"><span class="hs-identifier hs-var hs-var">negative_infinityGen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a) -&gt; Stream a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Stream a) -&gt; Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream a
forall a. Fractional a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power"><span class="hs-identifier hs-var">Stream.power</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span> </span><span class="annot"><span class="hs-comment">-- | epsilon is a real that converges to zero.</span></span><span>
</span><span id="line-394"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681315848"><span id="local-6989586621681315851"><span id="local-6989586621681315854"><span id="local-6989586621681315857"><span id="local-6989586621681315860"><span id="local-6989586621681315863"><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-395"></span><span>   </span><span id="local-6989586621681315868"><span class="annot"><span class="annottext">epsilonClosure :: Closure Stream R
</span><a href="Math.Number.StreamInterface.html#epsilonClosure"><span class="hs-identifier hs-var hs-var hs-var hs-var">epsilonClosure</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
forall a. Limiting Stream a =&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Stream.html#close"><span class="hs-identifier hs-var">close</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-var">infinity</span></a></span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Squeeze_theorem Squeeze theorem&gt;</span></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#limitBelow"><span class="hs-identifier hs-type">limitBelow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-400"></span><span> </span><span id="limitBelow"><span class="annot"><span class="annottext">limitBelow :: R -&gt; (R -&gt; R) -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#limitBelow"><span class="hs-identifier hs-var hs-var">limitBelow</span></a></span></span><span> </span><span id="local-6989586621681315869"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315869"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681315870"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681315870"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Closure Stream R) -&gt; Stream R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
forall a. Limiting Stream a =&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Stream.html#close"><span class="hs-identifier hs-var">close</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315869"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulationPoint"><span class="hs-identifier hs-var">accumulationPoint</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#epsilonClosure"><span class="hs-identifier hs-var">epsilonClosure</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; (R -&gt; Stream R) -&gt; Stream R
forall a b. Stream a -&gt; (a -&gt; Stream b) -&gt; Stream b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream R) -&gt; (R -&gt; R) -&gt; R -&gt; Stream R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681315870"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Squeeze_theorem Squeeze_theorem&gt;</span></span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#limitAbove"><span class="hs-identifier hs-type">limitAbove</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-405"></span><span> </span><span id="limitAbove"><span class="annot"><span class="annottext">limitAbove :: R -&gt; (R -&gt; R) -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#limitAbove"><span class="hs-identifier hs-var hs-var">limitAbove</span></a></span></span><span> </span><span id="local-6989586621681315871"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315871"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681315872"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681315872"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Closure Stream R) -&gt; Stream R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
forall a. Limiting Stream a =&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Stream.html#close"><span class="hs-identifier hs-var">close</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315871"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulationPoint"><span class="hs-identifier hs-var">accumulationPoint</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#epsilonClosure"><span class="hs-identifier hs-var">epsilonClosure</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; (R -&gt; Stream R) -&gt; Stream R
forall a b. Stream a -&gt; (a -&gt; Stream b) -&gt; Stream b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream R) -&gt; (R -&gt; R) -&gt; R -&gt; Stream R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681315872"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Squeeze_theorem Squeeze_theorem&gt;</span></span><span>
</span><span id="line-408"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#limitBoth"><span class="hs-identifier hs-type">limitBoth</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-409"></span><span> </span><span id="limitBoth"><span class="annot"><span class="annottext">limitBoth :: R -&gt; (R -&gt; R) -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#limitBoth"><span class="hs-identifier hs-var hs-var">limitBoth</span></a></span></span><span> </span><span id="local-6989586621681315873"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315873"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681315874"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681315874"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Closure Stream R) -&gt; Stream R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; (R -&gt; R) -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#limitBelow"><span class="hs-identifier hs-var">limitBelow</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315873"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681315874"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>             </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R -&gt; Stream R
forall a. Stream a -&gt; Stream a -&gt; Stream a
forall (f :: * -&gt; *) a. InterleaveFunctor f =&gt; f a -&gt; f a -&gt; f a
</span><a href="Math.Tools.Functor.html#interleave"><span class="hs-operator hs-var">`interleave`</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; (R -&gt; R) -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#limitAbove"><span class="hs-identifier hs-var">limitAbove</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315873"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681315874"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span>
</span><span id="line-413"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#negative_infinity"><span class="hs-identifier hs-type">negative_infinity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-414"></span><span> </span><span id="negative_infinity"><span class="annot"><span class="annottext">negative_infinity :: R
</span><a href="Math.Number.Real.html#negative_infinity"><span class="hs-identifier hs-var hs-var">negative_infinity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.Real.html#infinity"><span class="hs-identifier hs-var">infinity</span></a></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#epsilonLinear"><span class="hs-identifier hs-type">epsilonLinear</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-417"></span><span> </span><span id="epsilonLinear"><span class="annot"><span class="annottext">epsilonLinear :: R
</span><a href="Math.Number.Real.html#epsilonLinear"><span class="hs-identifier hs-var hs-var">epsilonLinear</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Rational) -&gt; Stream Integer -&gt; Stream Rational
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#nonzeroNaturals"><span class="hs-identifier hs-var">nonzeroNaturals</span></a></span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#increaseAccuracy"><span class="hs-identifier hs-type">increaseAccuracy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-420"></span><span> </span><span id="increaseAccuracy"><span class="annot"><span class="annottext">increaseAccuracy :: R -&gt; R
</span><a href="Math.Number.Real.html#increaseAccuracy"><span class="hs-identifier hs-var hs-var">increaseAccuracy</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681315878"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315878"><span class="hs-identifier hs-var">xr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315878"><span class="hs-identifier hs-var">xr</span></a></span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#lessthanPrecision"><span class="hs-identifier hs-type">lessthanPrecision</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-423"></span><span> </span><span id="lessthanPrecision"><span class="annot"><span class="annottext">lessthanPrecision :: R -&gt; R -&gt; Integer -&gt; Bool
</span><a href="Math.Number.Real.html#lessthanPrecision"><span class="hs-identifier hs-var hs-var">lessthanPrecision</span></a></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span>
</span><span id="line-424"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#lessthanPrecision"><span class="hs-identifier hs-var">lessthanPrecision</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681315879"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315879"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315880"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315880"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681315881"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315881"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621681315882"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315882"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681315883"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315883"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-425"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315879"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315881"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-426"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315879"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315881"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-427"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; Integer -&gt; Bool
</span><a href="Math.Number.Real.html#lessthanPrecision"><span class="hs-identifier hs-var">lessthanPrecision</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315880"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315882"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315883"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span> </span><span id="local-6989586621681314488"><span id="local-6989586621681314489"><span class="annot"><a href="Math.Number.Real.html#limitingDistance"><span class="hs-identifier hs-type">limitingDistance</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681314488"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314489"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314488"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314489"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314488"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314489"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314488"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314489"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314488"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-430"></span><span> </span><span id="limitingDistance"><span class="annot"><span class="annottext">limitingDistance :: forall a (str :: * -&gt; *).
(Num a, Limiting str a) =&gt;
Closure str a -&gt; Closure str a -&gt; Closure str a
</span><a href="Math.Number.Real.html#limitingDistance"><span class="hs-identifier hs-var hs-var">limitingDistance</span></a></span></span><span> </span><span id="local-6989586621681315897"><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681315897"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315898"><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681315898"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">str a -&gt; Closure str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str a -&gt; Closure str a) -&gt; str a -&gt; Closure str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span>
</span><span id="line-431"></span><span>                       </span><span class="hs-special">(</span><span id="local-6989586621681315899"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315899"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681315900"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315900"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681315897"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">str a -&gt; str a -&gt; str (a, a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f (a, b)
</span><a href="Math.Tools.Functor.html#%3C%26%3E"><span class="hs-operator hs-var">&lt;&amp;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681315898"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-432"></span><span>                       </span><span class="annot"><span class="annottext">a -&gt; str a
forall a. a -&gt; str a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; str a) -&gt; a -&gt; str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315899"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315900"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span>
</span><span id="line-434"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#distanceMatrix"><span class="hs-identifier hs-type">distanceMatrix</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">:*:</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-435"></span><span> </span><span id="distanceMatrix"><span class="annot"><span class="annottext">distanceMatrix :: R -&gt; R -&gt; (:*:) Stream Stream Rational
</span><a href="Math.Number.Real.html#distanceMatrix"><span class="hs-identifier hs-var hs-var">distanceMatrix</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681315902"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315902"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681315903"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315903"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational
-&gt; Stream Rational
-&gt; (:*:) Stream Stream Rational
forall (m :: * -&gt; *) (n :: * -&gt; *) a b c.
(Functor m, Functor n) =&gt;
(a -&gt; b -&gt; c) -&gt; m a -&gt; n b -&gt; (:*:) m n c
</span><a href="Math.Matrix.Interface.html#matrix"><span class="hs-identifier hs-var">matrix</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681315904"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315904"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681315905"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315905"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315904"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315905"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315902"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315903"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span> </span><span class="hs-comment">-- | compute rational approximation more precise than the given rational</span><span>
</span><span id="line-438"></span><span> </span><span class="hs-comment">-- the precision is expressed as rational number close to zero,</span><span>
</span><span id="line-439"></span><span> </span><span class="hs-comment">-- the result will be within range \([r-p,r+p]\), in the sense</span><span>
</span><span id="line-440"></span><span> </span><span class="hs-comment">-- that in the sequence of rational approximations \(r = (r_i | i \in {\mathbf N})\)</span><span>
</span><span id="line-441"></span><span> </span><span class="hs-comment">-- we have \(\lvert r_{i+1} - r_i \rvert \leq p\). Note that we do _not_ attempt to prove</span><span>
</span><span id="line-442"></span><span> </span><span class="hs-comment">-- that all successive approximations have this same property,</span><span>
</span><span id="line-443"></span><span> </span><span class="hs-comment">-- we need the differences to be monotonically decreasing for this</span><span>
</span><span id="line-444"></span><span> </span><span class="hs-comment">-- to represent correct precision.</span><span>
</span><span id="line-445"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#atPrecisionRational"><span class="hs-identifier hs-type">atPrecisionRational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-446"></span><span> </span><span id="atPrecisionRational"><span class="annot"><span class="annottext">atPrecisionRational :: R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.Real.html#atPrecisionRational"><span class="hs-identifier hs-var hs-var">atPrecisionRational</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681315906"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315906"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681315907"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315907"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
</span><a href="#local-6989586621681315908"><span class="hs-identifier hs-var">checkPrecision</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315906"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-447"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681315908"><span class="annot"><span class="annottext">checkPrecision :: Stream Rational -&gt; Rational
</span><a href="#local-6989586621681315908"><span class="hs-identifier hs-var hs-var">checkPrecision</span></a></span></span><span> </span><span class="hs-glyph">~</span><span id="local-6989586621681315909"><span class="annot"><span class="annottext">z :: Stream Rational
</span><a href="#local-6989586621681315909"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681315910"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315910"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">~</span><span id="local-6989586621681315911"><span class="annot"><span class="annottext">z' :: Stream Rational
</span><a href="#local-6989586621681315911"><span class="hs-identifier hs-var">z'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681315912"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315912"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-448"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315912"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315910"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315907"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315910"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-449"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
</span><a href="#local-6989586621681315908"><span class="hs-identifier hs-var">checkPrecision</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315911"><span class="hs-identifier hs-var">z'</span></a></span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span> </span><span class="hs-comment">-- | here precision is expresses as integer power of 10, e.g.</span><span>
</span><span id="line-452"></span><span> </span><span class="hs-comment">--   \(1 == 10^{-1}\), \(2 == 10^{-2}\), \(3 == 10^{-3}\) and so on.</span><span>
</span><span id="line-453"></span><span> </span><span class="hs-comment">--   so how many digits after the decimal point are required.</span><span>
</span><span id="line-454"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#atPrecision"><span class="hs-identifier hs-type">atPrecision</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-455"></span><span> </span><span id="atPrecision"><span class="annot"><span class="annottext">atPrecision :: R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#atPrecision"><span class="hs-identifier hs-var hs-var">atPrecision</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681315914"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315914"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681315915"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315915"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
</span><a href="#local-6989586621681315916"><span class="hs-identifier hs-var">checkPrecision</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315914"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-456"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681315917"><span class="annot"><span class="annottext">lm :: Rational
</span><a href="#local-6989586621681315917"><span class="hs-identifier hs-var hs-var">lm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">10</span></span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315915"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-457"></span><span>         </span><span id="local-6989586621681315916"><span class="annot"><span class="annottext">checkPrecision :: Stream Rational -&gt; Stream Rational
</span><a href="#local-6989586621681315916"><span class="hs-identifier hs-var hs-var">checkPrecision</span></a></span></span><span>   </span><span class="hs-glyph">~</span><span id="local-6989586621681315919"><span class="annot"><span class="annottext">z :: Stream Rational
</span><a href="#local-6989586621681315919"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681315920"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315920"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">~</span><span id="local-6989586621681315921"><span class="annot"><span class="annottext">z' :: Stream Rational
</span><a href="#local-6989586621681315921"><span class="hs-identifier hs-var">z'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681315922"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315922"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-458"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315922"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315920"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315917"><span class="hs-identifier hs-var">lm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315919"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-459"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
</span><a href="#local-6989586621681315916"><span class="hs-identifier hs-var">checkPrecision</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315921"><span class="hs-identifier hs-var">z'</span></a></span><span>
</span><span id="line-460"></span><span>
</span><span id="line-461"></span><span> </span><span class="annot"><span class="hs-comment">-- | rational precision expressed as integer power of 10</span></span><span>
</span><span id="line-462"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#precisionRational"><span class="hs-identifier hs-type">precisionRational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-463"></span><span> </span><span id="precisionRational"><span class="annot"><span class="annottext">precisionRational :: R -&gt; Integer -&gt; Rational
</span><a href="Math.Number.Real.html#precisionRational"><span class="hs-identifier hs-var hs-var">precisionRational</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681315923"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315923"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681315924"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315924"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
</span><a href="#local-6989586621681315925"><span class="hs-identifier hs-var">checkPrecision</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315923"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-464"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681315925"><span class="annot"><span class="annottext">checkPrecision :: Stream Rational -&gt; Rational
</span><a href="#local-6989586621681315925"><span class="hs-identifier hs-var hs-var">checkPrecision</span></a></span></span><span> </span><span class="hs-glyph">~</span><span id="local-6989586621681315926"><span class="annot"><span class="annottext">z :: Stream Rational
</span><a href="#local-6989586621681315926"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681315927"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315927"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">~</span><span id="local-6989586621681315928"><span class="annot"><span class="annottext">z' :: Stream Rational
</span><a href="#local-6989586621681315928"><span class="hs-identifier hs-var">z'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681315929"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315929"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621681315930"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315930"><span class="hs-identifier hs-var">yr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-465"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315929"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315927"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">10</span></span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315924"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315927"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-466"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
</span><a href="#local-6989586621681315925"><span class="hs-identifier hs-var">checkPrecision</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681315928"><span class="hs-identifier hs-var">z'</span></a></span><span>
</span><span id="line-467"></span><span>
</span><span id="line-468"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#realDerivate"><span class="hs-identifier hs-type">realDerivate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-469"></span><span> </span><span id="realDerivate"><span class="annot"><span class="annottext">realDerivate :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#realDerivate"><span class="hs-identifier hs-var hs-var">realDerivate</span></a></span></span><span> </span><span id="local-6989586621681315931"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681315931"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681315932"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315932"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulationPoint"><span class="hs-identifier hs-var">accumulationPoint</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R) -&gt; Closure Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; Closure Stream R
forall (str :: * -&gt; *) a.
Infinitesimal str a =&gt;
(a -&gt; a) -&gt; a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#derivateClosed"><span class="hs-identifier hs-var">derivateClosed</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681315931"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315932"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-470"></span><span>
</span><span id="line-471"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#DifferentiallyClosed"><span class="hs-identifier hs-type">DifferentiallyClosed</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-472"></span><span>   </span><span id="local-6989586621681315938"><span class="annot"><span class="annottext">derivate :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="#local-6989586621681315938"><span class="hs-identifier hs-var hs-var hs-var hs-var">derivate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#realDerivate"><span class="hs-identifier hs-var">realDerivate</span></a></span><span>
</span><span id="line-473"></span><span>   </span><span id="local-6989586621681315940"><span class="annot"><span class="annottext">integral :: (R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="#local-6989586621681315940"><span class="hs-identifier hs-var hs-var hs-var hs-var">integral</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.Real.html#integralReal"><span class="hs-identifier hs-var">integralReal</span></a></span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#DifferentiallyClosed"><span class="hs-identifier hs-type">DifferentiallyClosed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-476"></span><span>   </span><span id="local-6989586621681315949"><span class="annot"><span class="annottext">derivate :: (Closure Stream R -&gt; Closure Stream R)
-&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.Interface.html#derivate"><span class="hs-identifier hs-var hs-var hs-var hs-var">derivate</span></a></span></span><span> </span><span id="local-6989586621681315950"><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315950"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681315951"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315951"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall r. DifferentiallyClosed r =&gt; (r -&gt; r) -&gt; r -&gt; r
</span><a href="Math.Number.Interface.html#derivate"><span class="hs-identifier hs-var">derivate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R) -&gt; (R -&gt; Closure Stream R) -&gt; R -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315950"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; Closure Stream R)
-&gt; (R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315951"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-477"></span><span>   </span><span id="local-6989586621681315955"><span class="annot"><span class="annottext">integral :: (Closure Stream R, Closure Stream R)
-&gt; (Closure Stream R -&gt; Closure Stream R) -&gt; Closure Stream R
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var hs-var hs-var hs-var">integral</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681315956"><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681315956"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681315957"><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681315957"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681315958"><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315958"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681315956"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681315957"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R) -&gt; (R -&gt; Closure Stream R) -&gt; R -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681315958"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; Closure Stream R)
-&gt; (R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-478"></span><span>
</span><span id="line-479"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#realExp"><span class="hs-identifier hs-type">realExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-480"></span><span> </span><span id="realExp"><span class="annot"><span class="annottext">realExp :: R -&gt; R
</span><a href="Math.Number.Real.html#realExp"><span class="hs-identifier hs-var hs-var">realExp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R -&gt; R) -&gt; R -&gt; R
forall a. (a -&gt; a) -&gt; a
</span><span class="hs-identifier hs-var">fix</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#realDerivate"><span class="hs-identifier hs-var">realDerivate</span></a></span><span>
</span><span id="line-481"></span><span>
</span><span id="line-482"></span><span> </span><span class="annot"><span class="hs-comment">-- | i'th element of derivatesAt(f,s) is \(D^i[f](s_i)\)</span></span><span>
</span><span id="line-483"></span><span> </span><span id="local-6989586621681314499"><span class="annot"><a href="Math.Number.Real.html#derivatesAt"><span class="hs-identifier hs-type">derivatesAt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Interface.html#DifferentiallyClosed"><span class="hs-identifier hs-type">DifferentiallyClosed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314499"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314499"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314499"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314499"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314499"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-484"></span><span> </span><span id="derivatesAt"><span class="annot"><span class="annottext">derivatesAt :: forall a.
DifferentiallyClosed a =&gt;
(a -&gt; a) -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Real.html#derivatesAt"><span class="hs-identifier hs-var hs-var">derivatesAt</span></a></span></span><span> </span><span id="local-6989586621681315963"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681315963"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681315964"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315964"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Stream (a -&gt; a)
forall (str :: * -&gt; *) r.
(StreamBuilder str, DifferentiallyClosed r) =&gt;
(r -&gt; r) -&gt; str (r -&gt; r)
</span><a href="Math.Number.Interface.html#derivates"><span class="hs-identifier hs-var">derivates</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681315963"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Stream (a -&gt; a) -&gt; Stream a -&gt; Stream a
forall a b. Stream (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681315964"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Arithmetic%E2%80%93geometric_mean Arithmetic-geometric mean&gt;</span></span><span>
</span><span id="line-487"></span><span>
</span><span id="line-488"></span><span> </span><span id="local-6989586621681314505"><span id="local-6989586621681314506"><span class="annot"><a href="Math.Number.Real.html#agm"><span class="hs-identifier hs-type">agm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681314505"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314506"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314505"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314505"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314505"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314506"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314505"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-489"></span><span> </span><span id="agm"><span class="annot"><span class="annottext">agm :: forall a (str :: * -&gt; *).
(Floating a, Limiting str a) =&gt;
a -&gt; a -&gt; Closure str a
</span><a href="Math.Number.Real.html#agm"><span class="hs-identifier hs-var hs-var">agm</span></a></span></span><span> </span><span id="local-6989586621681315984"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315984"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681315985"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315985"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">str a -&gt; Closure str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str a -&gt; Closure str a) -&gt; str a -&gt; Closure str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((a, a) -&gt; a) -&gt; str (a, a) -&gt; str a
forall a b. (a -&gt; b) -&gt; str a -&gt; str b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(a, a) -&gt; a
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">(str (a, a) -&gt; str a) -&gt; str (a, a) -&gt; str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((a, a) -&gt; (a, a)) -&gt; (a, a) -&gt; str (a, a)
forall (str :: * -&gt; *) a.
StreamBuilder str =&gt;
(a -&gt; a) -&gt; a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#iterateStream"><span class="hs-identifier hs-var">iterateStream</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621681315988"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315988"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681315989"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315989"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315988"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315989"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">a
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315988"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315989"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315984"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681315985"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span> </span><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Exponential_function Exponential function&gt;</span><span>
</span><span id="line-492"></span><span> </span><span class="hs-comment">-- using limit definition \(\exp(x) = \lim_{n\rightarrow\infty}(1+{{x}\over{n}})^n\).</span><span>
</span><span id="line-493"></span><span>
</span><span id="line-494"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#expo"><span class="hs-identifier hs-type">expo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-495"></span><span> </span><span id="expo"><span class="annot"><span class="annottext">expo :: R -&gt; R
</span><a href="Math.Number.Real.html#expo"><span class="hs-identifier hs-var hs-var">expo</span></a></span></span><span> </span><span id="local-6989586621681315990"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315990"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-496"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621681315991"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315991"><span class="hs-identifier hs-var">xr</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681315992"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315992"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681315990"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Integer -&gt; Stream (Rational, Integer)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f (a, b)
</span><a href="Math.Tools.Functor.html#%3C%26%3E"><span class="hs-operator hs-var">&lt;&amp;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer
forall a. Integral a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#powerIntegral"><span class="hs-identifier hs-var">powerIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-497"></span><span>            </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Stream Rational) -&gt; Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681315991"><span class="hs-identifier hs-var">xr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315992"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681315992"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Numerics"><span class="hs-identifier hs-type">Numerics</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-500"></span><span>    </span><span id="local-6989586621681315999"><span class="annot"><span class="annottext">newtonsMethod :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.Interface.html#newtonsMethod"><span class="hs-identifier hs-var hs-var hs-var hs-var">newtonsMethod</span></a></span></span><span> </span><span id="local-6989586621681316000"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681316000"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681316001"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316001"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulationPoint"><span class="hs-identifier hs-var">accumulationPoint</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R) -&gt; Closure Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; Closure Stream R
forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtonsMethodRealClosure"><span class="hs-identifier hs-var">newtonsMethodRealClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681316000"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316001"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-501"></span><span>
</span><span id="line-502"></span><span> </span><span id="local-6989586621681314516"><span class="annot"><a href="Math.Number.Real.html#newtonsMethodRealClosure"><span class="hs-identifier hs-type">newtonsMethodRealClosure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314516"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314516"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314516"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314516"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314516"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-503"></span><span> </span><span id="newtonsMethodRealClosure"><span class="annot"><span class="annottext">newtonsMethodRealClosure :: forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtonsMethodRealClosure"><span class="hs-identifier hs-var hs-var">newtonsMethodRealClosure</span></a></span></span><span> </span><span id="local-6989586621681316015"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681316015"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681316016"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316016"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a) -&gt; Stream a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Stream a
forall (str :: * -&gt; *) a.
StreamBuilder str =&gt;
(a -&gt; a) -&gt; a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#iterateStream"><span class="hs-identifier hs-var">iterateStream</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681316017"><span class="hs-identifier hs-var">iteration</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316016"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-504"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681316017"><span class="annot"><span class="annottext">iteration :: a -&gt; a
</span><a href="#local-6989586621681316017"><span class="hs-identifier hs-var hs-var">iteration</span></a></span></span><span> </span><span id="local-6989586621681316018"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316018"><span class="hs-identifier hs-var">z'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316018"><span class="hs-identifier hs-var">z'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681316015"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316018"><span class="hs-identifier hs-var">z'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; a
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulationPoint"><span class="hs-identifier hs-var">accumulationPoint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall (str :: * -&gt; *) a.
Infinitesimal str a =&gt;
(a -&gt; a) -&gt; a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#derivateClosed"><span class="hs-identifier hs-var">derivateClosed</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681316015"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316018"><span class="hs-identifier hs-var">z'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-505"></span><span>
</span><span id="line-506"></span><span> </span><span id="local-6989586621681314518"><span id="local-6989586621681314519"><span class="annot"><a href="Math.Number.Real.html#eigenvalue"><span class="hs-identifier hs-type">eigenvalue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314518"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-507"></span><span>   </span><span class="annot"><a href="Math.Matrix.Interface.html#LinearTraceable"><span class="hs-identifier hs-type">LinearTraceable</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#LinearMap"><span class="hs-identifier hs-type">LinearMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314519"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314518"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-508"></span><span>   </span><span class="annot"><a href="Math.Matrix.Interface.html#Linearizable"><span class="hs-identifier hs-type">Linearizable</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#LinearMap"><span class="hs-identifier hs-type">LinearMap</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">(:*:)</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314519"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314519"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314518"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span>
</span><span id="line-509"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621681314519"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681314518"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314519"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314518"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-510"></span><span>                </span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314519"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314518"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#LinearTransform"><span class="hs-identifier hs-type">LinearTransform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314519"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314519"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314518"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-511"></span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-512"></span><span>            </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314519"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314518"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Linear.html#%3A-%3E"><span class="hs-operator hs-type">:-&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314519"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314518"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314518"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-513"></span><span> </span><span id="eigenvalue"><span class="annot"><span class="annottext">eigenvalue :: forall a (m :: * -&gt; *).
(Closed a, LinearTraceable LinearMap m a,
 Linearizable LinearMap (:*:) m m a, Applicative m,
 a ~ Scalar (m a), VectorSpace (m a), LinearTransform m m a) =&gt;
(m a :-&gt; m a) -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#eigenvalue"><span class="hs-identifier hs-var hs-var">eigenvalue</span></a></span></span><span> </span><span id="local-6989586621681316038"><span class="annot"><span class="annottext">m a :-&gt; m a
</span><a href="#local-6989586621681316038"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtonsMethodRealClosure"><span class="hs-identifier hs-var">newtonsMethodRealClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(m a :-&gt; m a) -&gt; a -&gt; a
forall (m :: * -&gt; *) a.
(LinearTraceable LinearMap m a, VectorSpace (m a),
 Linearizable LinearMap (:*:) m m a, LinearTransform m m a,
 Scalar (m a) ~ a) =&gt;
(m a :-&gt; m a) -&gt; a -&gt; a
</span><a href="Math.Matrix.Instances.html#characteristicPolynomial"><span class="hs-identifier hs-var">characteristicPolynomial</span></a></span><span> </span><span class="annot"><span class="annottext">m a :-&gt; m a
</span><a href="#local-6989586621681316038"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span> </span><span id="local-6989586621681314525"><span id="local-6989586621681314526"><span class="annot"><a href="Math.Number.Real.html#integrate_vector"><span class="hs-identifier hs-type">integrate_vector</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314525"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314525"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314526"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314525"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-516"></span><span>                      </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314526"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314525"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-517"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314525"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314525"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314526"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314525"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314525"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314525"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314526"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314525"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-518"></span><span> </span><span id="integrate_vector"><span class="annot"><span class="annottext">integrate_vector :: forall a (str :: * -&gt; *).
(Enum (Scalar a), VectorSpace a, Limiting str a,
 Limiting str (Scalar a)) =&gt;
(Scalar a -&gt; a)
-&gt; Closure str (Scalar a) -&gt; (Scalar a, Scalar a) -&gt; Closure str a
</span><a href="Math.Number.Real.html#integrate_vector"><span class="hs-identifier hs-var hs-var">integrate_vector</span></a></span></span><span> </span><span id="local-6989586621681316055"><span class="annot"><span class="annottext">Scalar a -&gt; a
</span><a href="#local-6989586621681316055"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681316056"><span class="annot"><span class="annottext">Closure str (Scalar a)
</span><a href="#local-6989586621681316056"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681316057"><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681316057"><span class="hs-identifier hs-var">xa</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316058"><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681316058"><span class="hs-identifier hs-var">ya</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">str a -&gt; Closure str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str a -&gt; Closure str a) -&gt; str a -&gt; Closure str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-519"></span><span>    </span><span id="local-6989586621681316059"><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681316059"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure str (Scalar a) -&gt; str (Scalar a)
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str (Scalar a)
</span><a href="#local-6989586621681316056"><span class="hs-identifier hs-var">dx</span></a></span><span>
</span><span id="line-520"></span><span>    </span><span class="annot"><span class="annottext">a -&gt; str a
forall a. a -&gt; str a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; str a) -&gt; a -&gt; str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, VectorSpace a) =&gt; t a -&gt; a
</span><a href="Math.Matrix.Interface.html#vsum"><span class="hs-identifier hs-var">vsum</span></a></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; a) -&gt; [a] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Scalar a -&gt; a) -&gt; [Scalar a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681316059"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Scalar a -&gt; a -&gt; a
forall v. VectorSpace v =&gt; Scalar v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var">%*</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; (Scalar a -&gt; a) -&gt; Scalar a -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Scalar a -&gt; a
</span><a href="#local-6989586621681316055"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681316057"><span class="hs-identifier hs-var">xa</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681316057"><span class="hs-identifier hs-var">xa</span></a></span><span> </span><span class="annot"><span class="annottext">Scalar a -&gt; Scalar a -&gt; Scalar a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681316059"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Scalar a
</span><a href="#local-6989586621681316058"><span class="hs-identifier hs-var">ya</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-521"></span><span>
</span><span id="line-522"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Methods_of_contour_integration&gt;</span></span><span>
</span><span id="line-523"></span><span> </span><span id="local-6989586621681314531"><span id="local-6989586621681314532"><span class="annot"><a href="Math.Number.Real.html#integrate"><span class="hs-identifier hs-type">integrate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="#local-6989586621681314531"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681314531"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314532"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314531"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-524"></span><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314531"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314531"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314532"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314531"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314531"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621681314531"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314532"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314531"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-525"></span><span> </span><span id="integrate"><span class="annot"><span class="annottext">integrate :: forall a (str :: * -&gt; *).
(Enum a, Num a, Limiting str a) =&gt;
(a -&gt; a) -&gt; Closure str a -&gt; (a, a) -&gt; Closure str a
</span><a href="Math.Number.Real.html#integrate"><span class="hs-identifier hs-var hs-var">integrate</span></a></span></span><span> </span><span id="local-6989586621681316074"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681316074"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681316075"><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681316075"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681316076"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316076"><span class="hs-identifier hs-var">xa</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316077"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316077"><span class="hs-identifier hs-var">ya</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">str a -&gt; Closure str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str a -&gt; Closure str a) -&gt; str a -&gt; Closure str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-526"></span><span>    </span><span id="local-6989586621681316078"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316078"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681316075"><span class="hs-identifier hs-var">dx</span></a></span><span>
</span><span id="line-527"></span><span>    </span><span class="annot"><span class="annottext">a -&gt; str a
forall a. a -&gt; str a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; str a) -&gt; a -&gt; str a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316078"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">Prelude.sum</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; a) -&gt; [a] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; [a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681316074"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316076"><span class="hs-identifier hs-var">xa</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316076"><span class="hs-identifier hs-var">xa</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316078"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316077"><span class="hs-identifier hs-var">ya</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-528"></span><span>
</span><span id="line-529"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#integralReal"><span class="hs-identifier hs-type">integralReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-530"></span><span> </span><span id="integralReal"><span class="annot"><span class="annottext">integralReal :: (R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.Real.html#integralReal"><span class="hs-identifier hs-var hs-var">integralReal</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681316079"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316079"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316080"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316080"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681316081"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681316081"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R) -&gt; Closure Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Closure Stream R) -&gt; Stream R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-531"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681316082"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316082"><span class="hs-identifier hs-var">eps</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681316083"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316083"><span class="hs-identifier hs-var">xa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681316084"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316084"><span class="hs-identifier hs-var">ya</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Rational
-&gt; Stream Rational
-&gt; Stream Rational
-&gt; Stream (Rational, Rational, Rational)
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
f a -&gt; f b -&gt; f c -&gt; f (a, b, c)
</span><a href="Math.Tools.Functor.html#fzip3"><span class="hs-identifier hs-var">fzip3</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational) -&gt; R -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#epsilonClosure"><span class="hs-identifier hs-var">epsilonClosure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-532"></span><span>                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316079"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-533"></span><span>                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316080"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-534"></span><span>    </span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream R) -&gt; R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316082"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Scalar R -&gt; R -&gt; R
forall v. VectorSpace v =&gt; Scalar v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var">%*</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">[R] -&gt; R
forall (t :: * -&gt; *) a. (Foldable t, VectorSpace a) =&gt; t a -&gt; a
</span><a href="Math.Matrix.Interface.html#vsum"><span class="hs-identifier hs-var">vsum</span></a></span><span> </span><span class="annot"><span class="annottext">([R] -&gt; R) -&gt; [R] -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span>
</span><span id="line-535"></span><span>       </span><span class="annot"><span class="annottext">(Rational -&gt; R) -&gt; [Rational] -&gt; [R]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681316081"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Rational -&gt; R) -&gt; Rational -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316083"><span class="hs-identifier hs-var">xa</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316083"><span class="hs-identifier hs-var">xa</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316082"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316084"><span class="hs-identifier hs-var">ya</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-536"></span><span>
</span><span id="line-537"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#integralRational"><span class="hs-identifier hs-type">integralRational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-538"></span><span> </span><span id="integralRational"><span class="annot"><span class="annottext">integralRational :: (R, R) -&gt; (Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.Real.html#integralRational"><span class="hs-identifier hs-var hs-var">integralRational</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681316085"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316085"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316086"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316086"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681316087"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681316087"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-539"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681316088"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316088"><span class="hs-identifier hs-var">eps</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316089"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316089"><span class="hs-identifier hs-var">xa</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316090"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316090"><span class="hs-identifier hs-var">ya</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Rational
-&gt; Stream Rational
-&gt; Stream Rational
-&gt; Stream (Rational, Rational, Rational)
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
f a -&gt; f b -&gt; f c -&gt; f (a, b, c)
</span><a href="Math.Tools.Functor.html#fzip3"><span class="hs-identifier hs-var">fzip3</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational) -&gt; R -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.Real.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#epsilonClosure"><span class="hs-identifier hs-var">epsilonClosure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-540"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316085"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-541"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316086"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-542"></span><span>        </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Stream Rational) -&gt; Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316088"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">[Rational] -&gt; Rational
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">Prelude.sum</span></span><span> </span><span class="annot"><span class="annottext">([Rational] -&gt; Rational) -&gt; [Rational] -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; [Rational] -&gt; [Rational]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681316087"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316089"><span class="hs-identifier hs-var">xa</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316089"><span class="hs-identifier hs-var">xa</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316088"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316090"><span class="hs-identifier hs-var">ya</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-543"></span><span>
</span><span id="line-544"></span><span>
</span><span id="line-545"></span><span> </span><span class="annot"><span class="hs-comment">-- | for integrateCurve (xa,ya) curve f dx, Requires: \(\lim_{x \rightarrow 0}curve(x) = 0 \land \lim_{i\rightarrow \infty} dx_i = 0\)</span></span><span>
</span><span id="line-546"></span><span> </span><span id="local-6989586621681314535"><span id="local-6989586621681314536"><span id="local-6989586621681314537"><span class="annot"><a href="Math.Number.Real.html#integrateCurve"><span class="hs-identifier hs-type">integrateCurve</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="#local-6989586621681314535"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681314535"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681314536"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314537"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314535"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314537"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314536"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-547"></span><span>                 </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314535"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621681314535"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314535"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314536"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314536"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314536"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314537"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314535"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314537"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314536"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-548"></span><span> </span><span id="integrateCurve"><span class="annot"><span class="annottext">integrateCurve :: forall a r (str :: * -&gt; *).
(Enum a, Num a, Num r, Limiting str a, Limiting str r) =&gt;
(a, a) -&gt; (a -&gt; r) -&gt; (r -&gt; r) -&gt; Closure str a -&gt; Closure str r
</span><a href="Math.Number.Real.html#integrateCurve"><span class="hs-identifier hs-var hs-var">integrateCurve</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681316107"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316107"><span class="hs-identifier hs-var">xa</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316108"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316108"><span class="hs-identifier hs-var">ya</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681316109"><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621681316109"><span class="hs-identifier hs-var">curve</span></a></span></span><span> </span><span id="local-6989586621681316110"><span class="annot"><span class="annottext">r -&gt; r
</span><a href="#local-6989586621681316110"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681316111"><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681316111"><span class="hs-identifier hs-var">dx</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">str r -&gt; Closure str r
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(str r -&gt; Closure str r) -&gt; str r -&gt; Closure str r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-549"></span><span>    </span><span id="local-6989586621681316112"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316112"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; str a
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure str a
</span><a href="#local-6989586621681316111"><span class="hs-identifier hs-var">dx</span></a></span><span>
</span><span id="line-550"></span><span>    </span><span class="annot"><span class="annottext">r -&gt; str r
forall a. a -&gt; str a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; str r) -&gt; r -&gt; str r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621681316109"><span class="hs-identifier hs-var">curve</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316112"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; r -&gt; r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">[r] -&gt; r
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">Prelude.sum</span></span><span> </span><span class="annot"><span class="annottext">([r] -&gt; r) -&gt; [r] -&gt; r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; r) -&gt; [a] -&gt; [r]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; r
</span><a href="#local-6989586621681316110"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; (a -&gt; r) -&gt; a -&gt; r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621681316109"><span class="hs-identifier hs-var">curve</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316107"><span class="hs-identifier hs-var">xa</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316107"><span class="hs-identifier hs-var">xa</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316112"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316108"><span class="hs-identifier hs-var">ya</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span> </span><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Integral Integral&gt;</span><span>
</span><span id="line-553"></span><span> </span><span class="hs-comment">-- This doesn't converge well.</span><span>
</span><span id="line-554"></span><span>
</span><span id="line-555"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#gamma_via_integral"><span class="hs-identifier hs-type">gamma_via_integral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>  </span><span>
</span><span id="line-556"></span><span> </span><span id="gamma_via_integral"><span class="annot"><span class="annottext">gamma_via_integral :: R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#gamma_via_integral"><span class="hs-identifier hs-var hs-var">gamma_via_integral</span></a></span></span><span> </span><span id="local-6989586621681316113"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316113"><span class="hs-identifier hs-var">zz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Closure Stream R, Closure Stream R)
-&gt; (Closure Stream R -&gt; Closure Stream R) -&gt; Closure Stream R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
forall a. Limiting Stream a =&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Stream.html#close"><span class="hs-identifier hs-var">close</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Closure Stream R
forall a. (Fractional a, Limiting Stream a) =&gt; Closure Stream a
</span><a href="Math.Number.Real.html#infinityGen"><span class="hs-identifier hs-var">infinityGen</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Closure Stream R -&gt; Closure Stream R) -&gt; Closure Stream R)
-&gt; (Closure Stream R -&gt; Closure Stream R) -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681316114"><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681316114"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681316114"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681316114"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316113"><span class="hs-identifier hs-var">zz</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-557"></span><span>    </span><span>
</span><span id="line-558"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681316119"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Equality of constructive reals is undecidable.&quot;</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:$$:</span></span><span>
</span><span id="line-559"></span><span>                      </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Please use (&lt;%) and (%&lt;) from Math.Number.Interface.DedekindCut class&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-560"></span><span>   </span><span id="local-6989586621681316126"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316126"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621681316127"><span class="annot"><span class="annottext">== :: R -&gt; R -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span id="local-6989586621681316128"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316128"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;equality of constructive reals is undecidable&quot;</span></span><span>
</span><span id="line-561"></span><span>
</span><span id="line-562"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#approximatelyEqual"><span class="hs-identifier hs-type">approximatelyEqual</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-563"></span><span> </span><span id="approximatelyEqual"><span class="annot"><span class="annottext">approximatelyEqual :: R -&gt; R -&gt; Bool
</span><a href="Math.Number.Real.html#approximatelyEqual"><span class="hs-identifier hs-var hs-var">approximatelyEqual</span></a></span></span><span> </span><span id="local-6989586621681316130"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316130"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681316131"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316131"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
forall r. ShowPrecision r =&gt; r -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#showAtPrecision"><span class="hs-identifier hs-var">showAtPrecision</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316130"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">30</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
forall r. ShowPrecision r =&gt; r -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#showAtPrecision"><span class="hs-identifier hs-var">showAtPrecision</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316131"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">30</span></span><span>
</span><span id="line-564"></span><span>
</span><span id="line-565"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#approximatelyEq"><span class="hs-identifier hs-type">approximatelyEq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-566"></span><span> </span><span id="approximatelyEq"><span class="annot"><span class="annottext">approximatelyEq :: R -&gt; R -&gt; Bool
</span><a href="Math.Number.Real.html#approximatelyEq"><span class="hs-identifier hs-var hs-var">approximatelyEq</span></a></span></span><span> </span><span id="local-6989586621681316133"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316133"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681316134"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316134"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681316135"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681316136"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-567"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681316135"><span class="annot"><span class="annottext">a :: String
</span><a href="#local-6989586621681316135"><span class="hs-identifier hs-var hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
forall r. ShowPrecision r =&gt; r -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#showAtPrecision"><span class="hs-identifier hs-var">showAtPrecision</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316133"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">7</span></span><span>
</span><span id="line-568"></span><span>          </span><span id="local-6989586621681316136"><span class="annot"><span class="annottext">b :: String
</span><a href="#local-6989586621681316136"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
forall r. ShowPrecision r =&gt; r -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#showAtPrecision"><span class="hs-identifier hs-var">showAtPrecision</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316134"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">7</span></span><span>
</span><span id="line-569"></span><span>
</span><span id="line-570"></span><span>
</span><span id="line-571"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#constructively_less"><span class="hs-identifier hs-type">constructively_less</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-572"></span><span> </span><span id="constructively_less"><span class="annot"><span class="annottext">constructively_less :: Rational -&gt; R -&gt; R -&gt; Closure Stream Bool
</span><a href="Math.Number.Real.html#constructively_less"><span class="hs-identifier hs-var hs-var">constructively_less</span></a></span></span><span> </span><span id="local-6989586621681316137"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316137"><span class="hs-identifier hs-var">between</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681316138"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316138"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681316139"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316139"><span class="hs-identifier hs-var">ar</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681316140"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316140"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681316141"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316141"><span class="hs-identifier hs-var">br</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Bool -&gt; Closure Stream Bool
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Bool -&gt; Closure Stream Bool)
-&gt; Stream Bool -&gt; Closure Stream Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-573"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316138"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316137"><span class="hs-identifier hs-var">between</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316137"><span class="hs-identifier hs-var">between</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316140"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-574"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Stream Bool -&gt; Stream Bool
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-operator hs-var">`Pre`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Closure Stream Bool -&gt; Stream Bool
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream Bool -&gt; Stream Bool)
-&gt; Closure Stream Bool -&gt; Stream Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; R -&gt; Closure Stream Bool
</span><a href="Math.Number.Real.html#constructively_less"><span class="hs-identifier hs-var">constructively_less</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316137"><span class="hs-identifier hs-var">between</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316139"><span class="hs-identifier hs-var">ar</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316141"><span class="hs-identifier hs-var">br</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-575"></span><span>
</span><span id="line-576"></span><span>
</span><span id="line-577"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#equality"><span class="hs-identifier hs-type">equality</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-578"></span><span> </span><span id="equality"><span class="annot"><span class="annottext">equality :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream Bool
</span><a href="Math.Number.Real.html#equality"><span class="hs-identifier hs-var hs-var">equality</span></a></span></span><span> </span><span id="local-6989586621681316143"><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681316143"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621681316144"><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681316144"><span class="hs-identifier hs-var">str'</span></a></span></span><span>
</span><span id="line-579"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Bool -&gt; Closure Stream Bool
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Bool -&gt; Closure Stream Bool)
-&gt; Stream Bool -&gt; Closure Stream Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational -&gt; Stream Rational -&gt; Bool)
-&gt; Stream (Stream Rational)
-&gt; Stream (Stream Rational)
-&gt; Stream (Stream Rational)
-&gt; Stream Bool
forall (f :: * -&gt; *) a b c d.
Applicative f =&gt;
(a -&gt; b -&gt; c -&gt; d) -&gt; f a -&gt; f b -&gt; f c -&gt; f d
</span><span class="hs-identifier hs-var">liftA3</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681316146"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316146"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681316147"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316147"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681316148"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316148"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316147"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316146"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316148"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream (Stream Rational)
</span><a href="#local-6989586621681316149"><span class="hs-identifier hs-var">astr</span></a></span><span> </span><span class="annot"><span class="annottext">Stream (Stream Rational)
</span><a href="#local-6989586621681316150"><span class="hs-identifier hs-var">astr'</span></a></span><span> </span><span class="annot"><span class="annottext">Stream (Stream Rational)
</span><a href="#local-6989586621681316151"><span class="hs-identifier hs-var">aeps</span></a></span><span>
</span><span id="line-580"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681316149"><span class="annot"><span class="annottext">astr :: Stream (Stream Rational)
</span><a href="#local-6989586621681316149"><span class="hs-identifier hs-var hs-var">astr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational) -&gt; Stream R -&gt; Stream (Stream Rational)
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream (Stream Rational))
-&gt; Stream R -&gt; Stream (Stream Rational)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681316143"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-581"></span><span>         </span><span id="local-6989586621681316150"><span class="annot"><span class="annottext">astr' :: Stream (Stream Rational)
</span><a href="#local-6989586621681316150"><span class="hs-identifier hs-var hs-var">astr'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational) -&gt; Stream R -&gt; Stream (Stream Rational)
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream (Stream Rational))
-&gt; Stream R -&gt; Stream (Stream Rational)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">Closure Stream R
</span><a href="#local-6989586621681316144"><span class="hs-identifier hs-var">str'</span></a></span><span>
</span><span id="line-582"></span><span>         </span><span id="local-6989586621681316151"><span class="annot"><span class="annottext">aeps :: Stream (Stream Rational)
</span><a href="#local-6989586621681316151"><span class="hs-identifier hs-var hs-var">aeps</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational) -&gt; Stream R -&gt; Stream (Stream Rational)
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream (Stream Rational))
-&gt; Stream R -&gt; Stream (Stream Rational)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; str a
</span><a href="Math.Number.StreamInterface.html#epsilonStream"><span class="hs-identifier hs-var">epsilonStream</span></a></span><span>
</span><span id="line-583"></span><span>
</span><span id="line-584"></span><span>
</span><span id="line-585"></span><span>  </span><span class="hs-comment">-- instance Show (Complex R) where</span><span>
</span><span id="line-586"></span><span>  </span><span class="hs-comment">--   showsPrec x (a :+ b) = showAtPrecisionReal a p</span><span>
</span><span id="line-587"></span><span>  </span><span class="hs-comment">--     . showString &quot;:+&quot; . showAtPrecisionReal b p</span><span>
</span><span id="line-588"></span><span>  </span><span class="hs-comment">--    where p = fromIntegral x</span><span>
</span><span id="line-589"></span><span>
</span><span id="line-590"></span><span>
</span><span id="line-591"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#signumReal"><span class="hs-identifier hs-type">signumReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-592"></span><span> </span><span id="signumReal"><span class="annot"><span class="annottext">signumReal :: R -&gt; Int -&gt; Int
</span><a href="Math.Number.Real.html#signumReal"><span class="hs-identifier hs-var hs-var">signumReal</span></a></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-593"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#signumReal"><span class="hs-identifier hs-var">signumReal</span></a></span><span> </span><span id="local-6989586621681316165"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316165"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681316166"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681316166"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-594"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681316167"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681316167"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316168"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316168"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; (Int, Rational)
forall b. Integral b =&gt; Rational -&gt; (b, Rational)
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; (b, a)
</span><span class="hs-identifier hs-var">properFraction</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
forall a. Stream a -&gt; a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; a
</span><a href="Math.Number.StreamInterface.html#shead"><span class="hs-identifier hs-var">shead</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Rational) -&gt; Stream Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316165"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-595"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681316167"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-596"></span><span>         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">R -&gt; Int -&gt; Int
</span><a href="Math.Number.Real.html#signumReal"><span class="hs-identifier hs-var">signumReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316165"><span class="hs-identifier hs-var">r</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681316166"><span class="hs-identifier hs-var">i</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-597"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681316167"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-598"></span><span>
</span><span id="line-599"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#showAtPrecisionReal"><span class="hs-identifier hs-type">showAtPrecisionReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-600"></span><span> </span><span id="showAtPrecisionReal"><span class="annot"><span class="annottext">showAtPrecisionReal :: R -&gt; Integer -&gt; String
</span><a href="Math.Number.Real.html#showAtPrecisionReal"><span class="hs-identifier hs-var hs-var">showAtPrecisionReal</span></a></span></span><span> </span><span id="local-6989586621681316171"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316171"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681316172"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316172"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; ShowS
</span><a href="#local-6989586621681316173"><span class="hs-identifier hs-var">signcorr</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316171"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; ShowS
forall a. Show a =&gt; a -&gt; ShowS
</span><span class="hs-identifier hs-var">shows</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316175"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><span class="hs-identifier hs-var">showString</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="#local-6989586621681316177"><span class="hs-identifier hs-var">decs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-601"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681316173"><span class="annot"><span class="annottext">signcorr :: R -&gt; ShowS
</span><a href="#local-6989586621681316173"><span class="hs-identifier hs-var hs-var">signcorr</span></a></span></span><span> </span><span id="local-6989586621681316178"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316178"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316175"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Int -&gt; Int
</span><a href="Math.Number.Real.html#signumReal"><span class="hs-identifier hs-var">signumReal</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316180"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">30</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. a -&gt; a
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k). Category cat =&gt; cat a a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-602"></span><span>          </span><span id="local-6989586621681316177"><span class="annot"><span class="annottext">decs :: ShowS
</span><a href="#local-6989586621681316177"><span class="hs-identifier hs-var hs-var">decs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316175"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; ShowS
</span><a href="#local-6989586621681316181"><span class="hs-identifier hs-var">decimalsStr2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316180"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316172"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-603"></span><span>                           </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; ShowS
forall {t}. (Eq t, Num t, Enum t) =&gt; R -&gt; t -&gt; ShowS
</span><a href="#local-6989586621681316182"><span class="hs-identifier hs-var">decimals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316180"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#atPrecision"><span class="hs-operator hs-var">`atPrecision`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316172"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316172"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-604"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621681316175"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316175"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316180"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316180"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Integer, R)
forall a. Num a =&gt; R -&gt; (a, R)
</span><a href="Math.Number.Real.html#properFractionReal"><span class="hs-identifier hs-var">properFractionReal</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316171"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-605"></span><span>          </span><span id="local-6989586621681316182"><span class="annot"><span class="annottext">decimals :: R -&gt; t -&gt; ShowS
</span><a href="#local-6989586621681316182"><span class="hs-identifier hs-var hs-var">decimals</span></a></span></span><span> </span><span id="local-6989586621681316195"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316195"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. a -&gt; a
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k). Category cat =&gt; cat a a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-606"></span><span>          </span><span class="annot"><a href="#local-6989586621681316182"><span class="hs-identifier hs-var">decimals</span></a></span><span> </span><span id="local-6989586621681316196"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316196"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681316197"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681316197"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-607"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681316198"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316198"><span class="hs-identifier hs-var">a'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316199"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316199"><span class="hs-identifier hs-var">b'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Integer, R)
forall a. Num a =&gt; R -&gt; (a, R)
</span><a href="Math.Number.Real.html#properFractionReal"><span class="hs-identifier hs-var">properFractionReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316196"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681316200"><span class="annot"><span class="annottext">ShowS
</span><a href="#local-6989586621681316200"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">R -&gt; t -&gt; ShowS
</span><a href="#local-6989586621681316182"><span class="hs-identifier hs-var">decimals</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316199"><span class="hs-identifier hs-var">b'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; t
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681316197"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; ShowS
forall a. Show a =&gt; a -&gt; ShowS
</span><span class="hs-identifier hs-var">shows</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316198"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="#local-6989586621681316200"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-608"></span><span>          </span><span id="local-6989586621681316181"><span class="annot"><span class="annottext">decimalsStr2 :: R -&gt; Integer -&gt; ShowS
</span><a href="#local-6989586621681316181"><span class="hs-identifier hs-var hs-var">decimalsStr2</span></a></span></span><span> </span><span id="local-6989586621681316217"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316217"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681316218"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316218"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; (Integer, R)
forall {t} {a}.
(Num t, Num a, Eq t, Enum t, Enum a) =&gt;
R -&gt; t -&gt; (a, R)
</span><a href="#local-6989586621681316219"><span class="hs-identifier hs-var">decimals2</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316217"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316218"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-609"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span id="local-6989586621681316220"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316220"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; ShowS
forall {t}. (Eq t, Num t, Enum t) =&gt; R -&gt; t -&gt; ShowS
</span><a href="#local-6989586621681316182"><span class="hs-identifier hs-var">decimals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316220"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#atPrecision"><span class="hs-operator hs-var">`atPrecision`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316218"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316218"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span>
</span><span id="line-610"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621681316221"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316221"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316222"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316222"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; ShowS
forall {t}. (Eq t, Num t, Enum t) =&gt; R -&gt; t -&gt; ShowS
</span><a href="#local-6989586621681316182"><span class="hs-identifier hs-var">decimals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316222"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#atPrecision"><span class="hs-operator hs-var">`atPrecision`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316218"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316218"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span>
</span><span id="line-611"></span><span>                         </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><span class="hs-identifier hs-var">showString</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;e&quot;</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; ShowS
forall a. Show a =&gt; a -&gt; ShowS
</span><span class="hs-identifier hs-var">shows</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316221"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-612"></span><span>          </span><span id="local-6989586621681316219"><span class="annot"><span class="annottext">decimals2 :: R -&gt; t -&gt; (a, R)
</span><a href="#local-6989586621681316219"><span class="hs-identifier hs-var hs-var">decimals2</span></a></span></span><span> </span><span id="local-6989586621681316239"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316239"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316239"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-613"></span><span>          </span><span class="annot"><a href="#local-6989586621681316219"><span class="hs-identifier hs-var">decimals2</span></a></span><span> </span><span id="local-6989586621681316240"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316240"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681316241"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681316241"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621681316242"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316242"><span class="hs-identifier hs-var">a'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316243"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316243"><span class="hs-identifier hs-var">b'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Integer, R)
forall a. Num a =&gt; R -&gt; (a, R)
</span><a href="Math.Number.Real.html#properFractionReal"><span class="hs-identifier hs-var">properFractionReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316240"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span> </span><span>
</span><span id="line-614"></span><span>                            </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316242"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-615"></span><span>                              </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681316244"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316244"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316245"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316245"><span class="hs-identifier hs-var">res2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; t -&gt; (a, R)
</span><a href="#local-6989586621681316219"><span class="hs-identifier hs-var">decimals2</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316243"><span class="hs-identifier hs-var">b'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; t
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681316241"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316244"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316245"><span class="hs-identifier hs-var">res2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-616"></span><span>                              </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316240"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-617"></span><span>
</span><span id="line-618"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681316247"><span id="local-6989586621681316252"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-619"></span><span>     </span><span id="local-6989586621681316255"><span class="annot"><span class="annottext">show :: R -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span id="local-6989586621681316256"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316256"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
forall r. ShowPrecision r =&gt; r -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#showAtPrecision"><span class="hs-identifier hs-var">showAtPrecision</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316256"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">20</span></span><span>
</span><span id="line-620"></span><span>
</span><span id="line-621"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#ShowPrecision"><span class="hs-identifier hs-type">ShowPrecision</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-622"></span><span>     </span><span id="local-6989586621681316261"><span class="annot"><span class="annottext">showAtPrecision :: R -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#showAtPrecision"><span class="hs-identifier hs-var hs-var hs-var hs-var">showAtPrecision</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
</span><a href="Math.Number.Real.html#showAtPrecisionReal"><span class="hs-identifier hs-var">showAtPrecisionReal</span></a></span><span>
</span><span id="line-623"></span><span>
</span><span id="line-624"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Tools.PrettyP.html#PpShow"><span class="hs-identifier hs-type">PpShow</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-625"></span><span>     </span><span id="local-6989586621681316268"><span class="annot"><span class="annottext">pp :: R -&gt; Doc
</span><a href="#local-6989586621681316268"><span class="hs-identifier hs-var hs-var hs-var hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621681316270"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316270"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc
forall a. PpShow a =&gt; a -&gt; Doc
</span><a href="Math.Tools.PrettyP.html#pp"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; String
forall r. ShowPrecision r =&gt; r -&gt; Integer -&gt; String
</span><a href="Math.Number.Interface.html#showAtPrecision"><span class="hs-identifier hs-var">showAtPrecision</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316270"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span>
</span><span id="line-626"></span><span>
</span><span id="line-627"></span><span>
</span><span id="line-628"></span><span>  </span><span class="hs-comment">-- instance Real R where -- needs Ord instance</span><span>
</span><span id="line-629"></span><span>  </span><span class="hs-comment">--     toRational = shead . approximate . (`atPrecision` 5)</span><span>
</span><span id="line-630"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-631"></span><span>  </span><span class="hs-comment">-- instance RealFrac R where</span><span>
</span><span id="line-632"></span><span>  </span><span class="hs-comment">--     -- ^ not really computable for reals, since 'floor' is undecidable</span><span>
</span><span id="line-633"></span><span>  </span><span class="hs-comment">--     -- according to &lt;http://www.win.tue.nl/~hzantema/hg2.pdf Geuvers: Stream representations of real numbers&gt;</span><span>
</span><span id="line-634"></span><span>  </span><span class="hs-comment">--     -- we implement this using approximations nonetheless because</span><span>
</span><span id="line-635"></span><span>  </span><span class="hs-comment">--     -- this is used for printing the real number.</span><span>
</span><span id="line-636"></span><span>  </span><span class="hs-comment">--     -- Note that two distinct representations of the _same_ real number</span><span>
</span><span id="line-637"></span><span>  </span><span class="hs-comment">--     -- may produce different result, e.g.</span><span>
</span><span id="line-638"></span><span>  </span><span class="hs-comment">--     -- 0.9999999.. == 1.0000000.. , but:</span><span>
</span><span id="line-639"></span><span>  </span><span class="hs-comment">--     -- fst (properFraction 0.9999...) == 0 != 1 == fst (properFraction 1.00..)</span><span>
</span><span id="line-640"></span><span>  </span><span class="hs-comment">--     -- however, since comparing constructive reals is noncomputable,</span><span>
</span><span id="line-641"></span><span>  </span><span class="hs-comment">--     -- we couldn't possibly declare that 0.9999.. == 1.000000..</span><span>
</span><span id="line-642"></span><span>  </span><span class="hs-comment">--     floor = fst . properFraction</span><span>
</span><span id="line-643"></span><span>  </span><span class="hs-comment">--     round = floor . (+ 0.5)</span><span>
</span><span id="line-644"></span><span>
</span><span id="line-645"></span><span> </span><span id="local-6989586621681314557"><span class="annot"><a href="Math.Number.Real.html#properFractionReal"><span class="hs-identifier hs-type">properFractionReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681314557"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314557"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-646"></span><span> </span><span id="properFractionReal"><span class="annot"><span class="annottext">properFractionReal :: forall a. Num a =&gt; R -&gt; (a, R)
</span><a href="Math.Number.Real.html#properFractionReal"><span class="hs-identifier hs-var hs-var">properFractionReal</span></a></span></span><span> </span><span id="local-6989586621681316290"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316290"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316291"><span class="hs-identifier hs-var">wholepart</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier hs-var">liftReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Integer, Rational) -&gt; Rational
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((Integer, Rational) -&gt; Rational)
-&gt; (Rational -&gt; (Integer, Rational)) -&gt; Rational -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; (Integer, Rational)
forall b. Integral b =&gt; Rational -&gt; (b, Rational)
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; (b, a)
</span><span class="hs-identifier hs-var">properFraction</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316290"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-647"></span><span>       </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681316293"><span class="annot"><span class="annottext">rat :: Rational
</span><a href="#local-6989586621681316293"><span class="hs-identifier hs-var hs-var">rat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
forall a. Stream a -&gt; a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; a
</span><a href="Math.Number.StreamInterface.html#shead"><span class="hs-identifier hs-var">shead</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Rational) -&gt; Stream Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream Rational) -&gt; R -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316290"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#atPrecision"><span class="hs-operator hs-var">`atPrecision`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span>
</span><span id="line-648"></span><span>             </span><span id="local-6989586621681316291"><span class="annot"><span class="annottext">wholepart :: Integer
</span><a href="#local-6989586621681316291"><span class="hs-identifier hs-var hs-var">wholepart</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316294"><span class="hs-identifier hs-var">sign</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Integer) -&gt; Integer -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">numerator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316293"><span class="hs-identifier hs-var">rat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-649"></span><span>                                 </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Integer) -&gt; Integer -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316293"><span class="hs-identifier hs-var">rat</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-650"></span><span>             </span><span id="local-6989586621681316294"><span class="annot"><span class="annottext">sign :: Integer
</span><a href="#local-6989586621681316294"><span class="hs-identifier hs-var hs-var">sign</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">numerator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316293"><span class="hs-identifier hs-var">rat</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316293"><span class="hs-identifier hs-var">rat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-651"></span><span>
</span><span id="line-652"></span><span> </span><span class="hs-comment">-- | Enum instance for reals is undecidable with respect to end of</span><span>
</span><span id="line-653"></span><span> </span><span class="hs-comment">-- real intervals, since comparison of two real numbers is undecidable.</span><span>
</span><span id="line-654"></span><span> </span><span class="hs-comment">-- Thus enumFromTo and enumFromThenTo produce errors indicating</span><span>
</span><span id="line-655"></span><span> </span><span class="hs-comment">-- density problem.</span><span>
</span><span id="line-656"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-657"></span><span>     </span><span id="local-6989586621681316308"><span class="annot"><span class="annottext">succ :: R -&gt; R
</span><a href="#local-6989586621681316308"><span class="hs-identifier hs-var hs-var hs-var hs-var">succ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier hs-var">liftReal</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">succ</span></span><span>
</span><span id="line-658"></span><span>     </span><span id="local-6989586621681316311"><span class="annot"><span class="annottext">pred :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pred</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier hs-var">liftReal</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">pred</span></span><span>
</span><span id="line-659"></span><span>     </span><span id="local-6989586621681316313"><span class="annot"><span class="annottext">toEnum :: Int -&gt; R
</span><a href="#local-6989586621681316313"><span class="hs-identifier hs-var hs-var hs-var hs-var">toEnum</span></a></span></span><span> </span><span id="local-6989586621681316315"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681316315"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Rational
forall a. Enum a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681316315"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-660"></span><span>     </span><span id="local-6989586621681316318"><span class="annot"><span class="annottext">fromEnum :: R -&gt; Int
</span><a href="#local-6989586621681316318"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromEnum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316320"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316320"><span class="hs-identifier hs-var">xr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; Rational
forall a. Stream a -&gt; a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; a
</span><a href="Math.Number.StreamInterface.html#shead"><span class="hs-identifier hs-var">shead</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Rational) -&gt; Stream Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational -&gt; Stream Rational
forall a. Integer -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#drop"><span class="hs-identifier hs-var">Stream.drop</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316320"><span class="hs-identifier hs-var">xr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-661"></span><span>     </span><span id="local-6989586621681316323"><span class="annot"><span class="annottext">enumFrom :: R -&gt; [R]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">enumFrom</span></span></span><span> </span><span id="local-6989586621681316324"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316324"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316324"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; [R] -&gt; [R]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; [R] -&gt; [R]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Enum a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">succ</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; [R]
forall a. Enum a =&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">enumFrom</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316324"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-662"></span><span>     </span><span id="local-6989586621681316329"><span class="annot"><span class="annottext">enumFromThen :: R -&gt; R -&gt; [R]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">enumFromThen</span></span></span><span> </span><span id="local-6989586621681316330"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316330"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681316331"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316331"><span class="hs-identifier hs-var">x2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316330"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; [R] -&gt; [R]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; [R]
forall a. Enum a =&gt; a -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">enumFromThen</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316331"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316331"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316330"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-663"></span><span>     </span><span id="local-6989586621681316334"><span class="annot"><span class="annottext">enumFromTo :: R -&gt; R -&gt; [R]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">enumFromTo</span></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [R]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;density problem: cannot compute end of real interval&quot;</span></span><span>
</span><span id="line-664"></span><span>     </span><span id="local-6989586621681316337"><span class="annot"><span class="annottext">enumFromThenTo :: R -&gt; R -&gt; R -&gt; [R]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">enumFromThenTo</span></span></span><span> </span><span id="local-6989586621681316338"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316338"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681316339"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316339"><span class="hs-identifier hs-var">x2</span></a></span></span><span> </span><span id="local-6989586621681316340"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316340"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [R]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;density problem: cannot compute end of real interval&quot;</span></span><span>
</span><span id="line-665"></span><span>
</span><span id="line-666"></span><span>  </span><span class="hs-comment">--     enumFromTo x y | x &lt;= y = x : enumFromTo (succ x) y</span><span>
</span><span id="line-667"></span><span>  </span><span class="hs-comment">--                    | otherwise = []</span><span>
</span><span id="line-668"></span><span>  </span><span class="hs-comment">--     enumFromThenTo x x2 y | x &lt;= y = x : enumFromThenTo x2 (2*x2-x) y</span><span>
</span><span id="line-669"></span><span>  </span><span class="hs-comment">--                           | otherwise = []</span><span>
</span><span id="line-670"></span><span>
</span><span id="line-671"></span><span> </span><span class="hs-comment">-- | This attempts to work around the density problem by computing range</span><span>
</span><span id="line-672"></span><span> </span><span class="hs-comment">-- | in some type which does have enum instance,</span><span>
</span><span id="line-673"></span><span> </span><span class="hs-comment">-- | then using the given function to map to reals.</span><span>
</span><span id="line-674"></span><span> </span><span id="local-6989586621681314567"><span class="annot"><a href="Math.Number.Real.html#enumFromThenToReal"><span class="hs-identifier hs-type">enumFromThenToReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="#local-6989586621681314567"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314567"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314567"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314567"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314567"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-675"></span><span> </span><span id="enumFromThenToReal"><span class="annot"><span class="annottext">enumFromThenToReal :: forall e. Enum e =&gt; (e -&gt; R) -&gt; e -&gt; e -&gt; e -&gt; [R]
</span><a href="Math.Number.Real.html#enumFromThenToReal"><span class="hs-identifier hs-var hs-var">enumFromThenToReal</span></a></span></span><span> </span><span id="local-6989586621681316343"><span class="annot"><span class="annottext">e -&gt; R
</span><a href="#local-6989586621681316343"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681316344"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316344"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681316345"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316345"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681316346"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316346"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">e -&gt; R
</span><a href="#local-6989586621681316343"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316347"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681316347"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316347"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316344"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316345"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316346"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-676"></span><span>
</span><span id="line-677"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#fromThenTo"><span class="hs-identifier hs-type">fromThenTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-678"></span><span> </span><span id="fromThenTo"><span class="annot"><span class="annottext">fromThenTo :: Rational -&gt; Rational -&gt; Rational -&gt; [R]
</span><a href="Math.Number.Real.html#fromThenTo"><span class="hs-identifier hs-var hs-var">fromThenTo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; R) -&gt; Rational -&gt; Rational -&gt; Rational -&gt; [R]
forall e. Enum e =&gt; (e -&gt; R) -&gt; e -&gt; e -&gt; e -&gt; [R]
</span><a href="Math.Number.Real.html#enumFromThenToReal"><span class="hs-identifier hs-var">enumFromThenToReal</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span>
</span><span id="line-679"></span><span>
</span><span id="line-680"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#fromTo"><span class="hs-identifier hs-type">fromTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-681"></span><span> </span><span id="fromTo"><span class="annot"><span class="annottext">fromTo :: Rational -&gt; Rational -&gt; [R]
</span><a href="Math.Number.Real.html#fromTo"><span class="hs-identifier hs-var hs-var">fromTo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; R) -&gt; Rational -&gt; Rational -&gt; [R]
forall e. Enum e =&gt; (e -&gt; R) -&gt; e -&gt; e -&gt; [R]
</span><a href="Math.Number.Real.html#enumFromToReal"><span class="hs-identifier hs-var">enumFromToReal</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span>
</span><span id="line-682"></span><span>
</span><span id="line-683"></span><span> </span><span class="hs-comment">-- | This attempts to work around the density problem by computing range</span><span>
</span><span id="line-684"></span><span> </span><span class="hs-comment">-- | in some type which does have enum instance,</span><span>
</span><span id="line-685"></span><span> </span><span class="hs-comment">-- | then using the given function to map to reals.</span><span>
</span><span id="line-686"></span><span> </span><span id="local-6989586621681314569"><span class="annot"><a href="Math.Number.Real.html#enumFromToReal"><span class="hs-identifier hs-type">enumFromToReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="#local-6989586621681314569"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314569"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314569"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314569"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-687"></span><span> </span><span id="enumFromToReal"><span class="annot"><span class="annottext">enumFromToReal :: forall e. Enum e =&gt; (e -&gt; R) -&gt; e -&gt; e -&gt; [R]
</span><a href="Math.Number.Real.html#enumFromToReal"><span class="hs-identifier hs-var hs-var">enumFromToReal</span></a></span></span><span> </span><span id="local-6989586621681316350"><span class="annot"><span class="annottext">e -&gt; R
</span><a href="#local-6989586621681316350"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681316351"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316351"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681316352"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316352"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">e -&gt; R
</span><a href="#local-6989586621681316350"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316353"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681316353"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316353"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316351"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681316352"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-688"></span><span>
</span><span id="line-689"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#realEnumFromThenTo"><span class="hs-identifier hs-type">realEnumFromThenTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">]</span><span>
</span><span id="line-690"></span><span> </span><span id="realEnumFromThenTo"><span class="annot"><span class="annottext">realEnumFromThenTo :: R -&gt; R -&gt; R -&gt; Stream [Rational]
</span><a href="Math.Number.Real.html#realEnumFromThenTo"><span class="hs-identifier hs-var hs-var">realEnumFromThenTo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316354"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316354"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316355"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316355"><span class="hs-identifier hs-var">str2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316356"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316356"><span class="hs-identifier hs-var">str3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream [Rational]
</span><a href="Math.Number.Real.html#strEnumFromThenTo"><span class="hs-identifier hs-var">strEnumFromThenTo</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316354"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316355"><span class="hs-identifier hs-var">str2</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316356"><span class="hs-identifier hs-var">str3</span></a></span><span>
</span><span id="line-691"></span><span>  </span><span>
</span><span id="line-692"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#strEnumFromThenTo"><span class="hs-identifier hs-type">strEnumFromThenTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">]</span><span>
</span><span id="line-693"></span><span> </span><span id="strEnumFromThenTo"><span class="annot"><span class="annottext">strEnumFromThenTo :: Stream Rational
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream [Rational]
</span><a href="Math.Number.Real.html#strEnumFromThenTo"><span class="hs-identifier hs-var hs-var">strEnumFromThenTo</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681316357"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316357"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681316358"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316358"><span class="hs-identifier hs-var">xr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681316359"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316359"><span class="hs-identifier hs-var">x2</span></a></span></span><span> </span><span id="local-6989586621681316360"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316360"><span class="hs-identifier hs-var">x2r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681316361"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316361"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621681316362"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316362"><span class="hs-identifier hs-var">yr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Rational] -&gt; Stream [Rational] -&gt; Stream [Rational]
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational -&gt; [Rational]
forall a. Enum a =&gt; a -&gt; a -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">enumFromThenTo</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316357"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316359"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316361"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream [Rational]
</span><a href="Math.Number.Real.html#strEnumFromThenTo"><span class="hs-identifier hs-var">strEnumFromThenTo</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316358"><span class="hs-identifier hs-var">xr</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316360"><span class="hs-identifier hs-var">x2r</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316362"><span class="hs-identifier hs-var">yr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-694"></span><span>
</span><span id="line-695"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-696"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316372"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316372"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681316373"><span class="annot"><span class="annottext">+ :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">+</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316374"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316374"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316372"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316374"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-697"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316377"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316377"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681316378"><span class="annot"><span class="annottext">- :: R -&gt; R -&gt; R
</span><span class="hs-glyph hs-var hs-var hs-var hs-var">-</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316379"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316379"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316377"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316379"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-698"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316382"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316382"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681316383"><span class="annot"><span class="annottext">* :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">*</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316384"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316384"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316382"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316384"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-699"></span><span>     </span><span id="local-6989586621681316386"><span class="annot"><span class="annottext">negate :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">negate</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier hs-var">liftReal</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span>
</span><span id="line-700"></span><span>     </span><span id="local-6989586621681316388"><span class="annot"><span class="annottext">abs :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">abs</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier hs-var">liftReal</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span>
</span><span id="line-701"></span><span>     </span><span id="local-6989586621681316390"><span class="annot"><span class="annottext">signum :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">signum</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier hs-var">liftReal</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span>
</span><span id="line-702"></span><span>     </span><span id="local-6989586621681316392"><span class="annot"><span class="annottext">fromInteger :: Integer -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromInteger</span></span></span><span> </span><span id="local-6989586621681316393"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316393"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Stream Rational) -&gt; Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Rational) -&gt; Integer -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316393"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-703"></span><span>
</span><span id="line-704"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-705"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316402"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316402"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681316403"><span class="annot"><span class="annottext">/ :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">/</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316404"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316404"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316402"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316404"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-706"></span><span>     </span><span id="local-6989586621681316406"><span class="annot"><span class="annottext">recip :: R -&gt; R
</span><a href="#local-6989586621681316406"><span class="hs-identifier hs-var hs-var hs-var hs-var">recip</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#liftReal"><span class="hs-identifier hs-var">liftReal</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span>
</span><span id="line-707"></span><span>     </span><span id="local-6989586621681316408"><span class="annot"><span class="annottext">fromRational :: Rational -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromRational</span></span></span><span> </span><span id="local-6989586621681316409"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316409"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Stream Rational) -&gt; Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316409"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-708"></span><span>
</span><span id="line-709"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#toReal"><span class="hs-identifier hs-type">toReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-710"></span><span> </span><span id="toReal"><span class="annot"><span class="annottext">toReal :: Rational -&gt; R
</span><a href="Math.Number.Real.html#toReal"><span class="hs-identifier hs-var hs-var">toReal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span>
</span><span id="line-711"></span><span>
</span><span id="line-712"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-713"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681316416"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316416"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681316417"><span class="annot"><span class="annottext">/ :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">/</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681316418"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316418"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316416"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316418"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-714"></span><span>    </span><span id="local-6989586621681316420"><span class="annot"><span class="annottext">recip :: Closure Stream R -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">recip</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681316421"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316421"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316421"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-715"></span><span>    </span><span id="local-6989586621681316423"><span class="annot"><span class="annottext">fromRational :: Rational -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromRational</span></span></span><span> </span><span id="local-6989586621681316424"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316424"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316424"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-716"></span><span>
</span><span id="line-717"></span><span> </span><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Natural_logarithm Natural logarithm&gt;</span><span>
</span><span id="line-718"></span><span> </span><span class="hs-comment">-- @ log(1+z) = z - z^2/2 + z^3/3 - ... @</span><span>
</span><span id="line-719"></span><span>
</span><span id="line-720"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#logarithm"><span class="hs-identifier hs-type">logarithm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-721"></span><span> </span><span id="logarithm"><span class="annot"><span class="annottext">logarithm :: R -&gt; R
</span><a href="Math.Number.Real.html#logarithm"><span class="hs-identifier hs-var hs-var">logarithm</span></a></span></span><span> </span><span id="local-6989586621681316425"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316425"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316425"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681316426"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316426"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316426"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-722"></span><span>
</span><span id="line-723"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#eulerConstant"><span class="hs-identifier hs-type">eulerConstant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-724"></span><span> </span><span id="eulerConstant"><span class="annot"><span class="annottext">eulerConstant :: R
</span><a href="Math.Number.Real.html#eulerConstant"><span class="hs-identifier hs-var hs-var">eulerConstant</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span>
</span><span id="line-725"></span><span>
</span><span id="line-726"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#napiersConstant"><span class="hs-identifier hs-type">napiersConstant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-727"></span><span> </span><span id="napiersConstant"><span class="annot"><span class="annottext">napiersConstant :: R
</span><a href="Math.Number.Real.html#napiersConstant"><span class="hs-identifier hs-var hs-var">napiersConstant</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1.0</span></span><span>
</span><span id="line-728"></span><span>
</span><span id="line-729"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#logarithmByNewton"><span class="hs-identifier hs-type">logarithmByNewton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-730"></span><span> </span><span id="logarithmByNewton"><span class="annot"><span class="annottext">logarithmByNewton :: R -&gt; Closure Stream R
</span><a href="Math.Number.Real.html#logarithmByNewton"><span class="hs-identifier hs-var hs-var">logarithmByNewton</span></a></span></span><span> </span><span id="local-6989586621681316427"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316427"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; Closure Stream R
forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtonsMethodRealClosure"><span class="hs-identifier hs-var">newtonsMethodRealClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681316428"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316428"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316428"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316427"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span>
</span><span id="line-731"></span><span>
</span><span id="line-732"></span><span> </span><span id="local-6989586621681316429"><span class="annot"><a href="Math.Number.Real.html#invertByNewton"><span class="hs-identifier hs-type">invertByNewton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681316429"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681316429"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681316429"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681316429"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681316429"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-733"></span><span> </span><span id="invertByNewton"><span class="annot"><span class="annottext">invertByNewton :: forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#invertByNewton"><span class="hs-identifier hs-var hs-var">invertByNewton</span></a></span></span><span> </span><span id="local-6989586621681316437"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681316437"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681316438"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316438"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtonsMethodRealClosure"><span class="hs-identifier hs-var">newtonsMethodRealClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681316439"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316439"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681316437"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316439"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316438"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span>
</span><span id="line-734"></span><span>
</span><span id="line-735"></span><span> </span><span class="hs-comment">-- computes x from equation @(Df)(x) = y@ by newton's method</span><span>
</span><span id="line-736"></span><span> </span><span id="local-6989586621681316440"><span class="annot"><a href="Math.Number.Real.html#differentialEquation1"><span class="hs-identifier hs-type">differentialEquation1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681316440"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681316440"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681316440"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681316440"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681316440"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-737"></span><span> </span><span id="differentialEquation1"><span class="annot"><span class="annottext">differentialEquation1 :: forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#differentialEquation1"><span class="hs-identifier hs-var hs-var">differentialEquation1</span></a></span></span><span> </span><span id="local-6989586621681316451"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681316451"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681316452"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316452"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtonsMethodRealClosure"><span class="hs-identifier hs-var">newtonsMethodRealClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681316453"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316453"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; a
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulationPoint"><span class="hs-identifier hs-var">accumulationPoint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall (str :: * -&gt; *) a.
Infinitesimal str a =&gt;
(a -&gt; a) -&gt; a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#derivateClosed"><span class="hs-identifier hs-var">derivateClosed</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681316451"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316453"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316452"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span>
</span><span id="line-738"></span><span>
</span><span id="line-739"></span><span>
</span><span id="line-740"></span><span> </span><span id="local-6989586621681314573"><span class="annot"><a href="Math.Number.Real.html#expByPowers"><span class="hs-identifier hs-type">expByPowers</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681314573"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314573"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314573"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314573"><span class="hs-identifier hs-type">r</span></a></span></span><span>
</span><span id="line-741"></span><span> </span><span id="expByPowers"><span class="annot"><span class="annottext">expByPowers :: forall r.
(Fractional r, Limiting Stream r) =&gt;
r -&gt; Closure Stream r
</span><a href="Math.Number.Real.html#expByPowers"><span class="hs-identifier hs-var hs-var">expByPowers</span></a></span></span><span> </span><span id="local-6989586621681316482"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621681316482"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream r -&gt; Closure Stream r
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream r -&gt; Closure Stream r) -&gt; Stream r -&gt; Closure Stream r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-742"></span><span>      </span><span id="local-6989586621681316483"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316483"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">naturals</span></a></span><span>
</span><span id="line-743"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681316484"><span class="annot"><span class="annottext">n2 :: Integer
</span><a href="#local-6989586621681316484"><span class="hs-identifier hs-var hs-var">n2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316483"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-744"></span><span>      </span><span class="annot"><span class="annottext">r -&gt; Stream r
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Stream r) -&gt; r -&gt; Stream r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621681316482"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Integer -&gt; r
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316484"><span class="hs-identifier hs-var">n2</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">r -&gt; Integer -&gt; r
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316484"><span class="hs-identifier hs-var">n2</span></a></span><span>
</span><span id="line-745"></span><span>
</span><span id="line-746"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#expByPowersReal"><span class="hs-identifier hs-type">expByPowersReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-747"></span><span> </span><span id="expByPowersReal"><span class="annot"><span class="annottext">expByPowersReal :: R -&gt; R
</span><a href="Math.Number.Real.html#expByPowersReal"><span class="hs-identifier hs-var hs-var">expByPowersReal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316485"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316485"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Rational -&gt; Rational)
-&gt; Stream Integer -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681316486"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316486"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681316487"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316487"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316487"><span class="hs-identifier hs-var">x'</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316486"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316486"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Integer -&gt; Stream Integer
forall a. Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#stail"><span class="hs-identifier hs-var">stail</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer -&gt; Stream Integer
forall a. Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#stail"><span class="hs-identifier hs-var">stail</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer
forall a. Integral a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#powerIntegral"><span class="hs-identifier hs-var">powerIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316485"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-748"></span><span>
</span><span id="line-749"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#sumGeneratingFunction"><span class="hs-identifier hs-type">sumGeneratingFunction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-750"></span><span> </span><span id="sumGeneratingFunction"><span class="annot"><span class="annottext">sumGeneratingFunction :: Stream Rational -&gt; R -&gt; R
</span><a href="Math.Number.Real.html#sumGeneratingFunction"><span class="hs-identifier hs-var hs-var">sumGeneratingFunction</span></a></span></span><span> </span><span id="local-6989586621681316489"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316489"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316490"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316490"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational -&gt; Stream Rational
forall a. Integer -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#uninterleaveIndex"><span class="hs-identifier hs-var">uninterleaveIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span>
</span><span id="line-751"></span><span>                                             </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. Fractional a =&gt; Stream a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#approximateSums"><span class="hs-identifier hs-var">approximateSums</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316489"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316490"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-752"></span><span>
</span><span id="line-753"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Riemann_zeta_function&gt;</span></span><span>
</span><span id="line-754"></span><span> </span><span id="local-6989586621681314577"><span class="annot"><a href="Math.Number.Real.html#riemann_zeta"><span class="hs-identifier hs-type">riemann_zeta</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681314577"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314577"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314577"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-755"></span><span> </span><span id="riemann_zeta"><span class="annot"><span class="annottext">riemann_zeta :: forall a. Floating a =&gt; a -&gt; Stream a
</span><a href="Math.Number.Real.html#riemann_zeta"><span class="hs-identifier hs-var hs-var">riemann_zeta</span></a></span></span><span> </span><span id="local-6989586621681316502"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316502"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Stream a
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">sumStream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Stream a) -&gt; Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Stream a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681316504"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="annot"><span class="annottext">Stream a
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#nonzeroNaturals"><span class="hs-identifier hs-var">nonzeroNaturals</span></a></span><span>
</span><span id="line-756"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681316504"><span class="annot"><span class="annottext">term :: a -&gt; a
</span><a href="#local-6989586621681316504"><span class="hs-identifier hs-var hs-var">term</span></a></span></span><span> </span><span id="local-6989586621681316505"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316505"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316505"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316502"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-757"></span><span>
</span><span id="line-758"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Riemann_zeta_function&gt;</span></span><span>
</span><span id="line-759"></span><span> </span><span id="local-6989586621681314580"><span class="annot"><a href="Math.Number.Real.html#riemann_zetaReal"><span class="hs-identifier hs-type">riemann_zetaReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681314580"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314580"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span><span>
</span><span id="line-760"></span><span> </span><span id="riemann_zetaReal"><span class="annot"><span class="annottext">riemann_zetaReal :: forall a. Integral a =&gt; a -&gt; R
</span><a href="Math.Number.Real.html#riemann_zetaReal"><span class="hs-identifier hs-var hs-var">riemann_zetaReal</span></a></span></span><span> </span><span id="local-6989586621681316514"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316514"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">sumStream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681316515"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#nonzeroNaturals"><span class="hs-identifier hs-var">nonzeroNaturals</span></a></span><span>
</span><span id="line-761"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681316515"><span class="annot"><span class="annottext">term :: Rational -&gt; Rational
</span><a href="#local-6989586621681316515"><span class="hs-identifier hs-var hs-var">term</span></a></span></span><span> </span><span id="local-6989586621681316516"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316516"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316516"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; a -&gt; Rational
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316514"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-762"></span><span>
</span><span id="line-763"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Riemann_zeta_function&gt;</span></span><span>
</span><span id="line-764"></span><span> </span><span id="local-6989586621681314582"><span class="annot"><a href="Math.Number.Real.html#riemann_zetaComplex"><span class="hs-identifier hs-type">riemann_zetaComplex</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RealFloat</span></span><span> </span><span class="annot"><a href="#local-6989586621681314582"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Complex</span></span><span> </span><span class="annot"><a href="#local-6989586621681314582"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Complex</span></span><span> </span><span class="annot"><a href="#local-6989586621681314582"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-765"></span><span> </span><span id="riemann_zetaComplex"><span class="annot"><span class="annottext">riemann_zetaComplex :: forall a. RealFloat a =&gt; Complex a -&gt; Stream (Complex a)
</span><a href="Math.Number.Real.html#riemann_zetaComplex"><span class="hs-identifier hs-var hs-var">riemann_zetaComplex</span></a></span></span><span> </span><span id="local-6989586621681316527"><span class="annot"><span class="annottext">Complex a
</span><a href="#local-6989586621681316527"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream (Complex a) -&gt; Stream (Complex a)
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">sumStream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream (Complex a) -&gt; Stream (Complex a))
-&gt; Stream (Complex a) -&gt; Stream (Complex a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Complex a -&gt; Complex a)
-&gt; Stream (Complex a) -&gt; Stream (Complex a)
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Complex a -&gt; Complex a
</span><a href="#local-6989586621681316528"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="annot"><span class="annottext">Stream (Complex a)
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#nonzeroNaturals"><span class="hs-identifier hs-var">nonzeroNaturals</span></a></span><span>
</span><span id="line-766"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681316528"><span class="annot"><span class="annottext">term :: Complex a -&gt; Complex a
</span><a href="#local-6989586621681316528"><span class="hs-identifier hs-var hs-var">term</span></a></span></span><span> </span><span id="local-6989586621681316529"><span class="annot"><span class="annottext">Complex a
</span><a href="#local-6989586621681316529"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Complex a
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Complex a -&gt; Complex a -&gt; Complex a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Complex a
</span><a href="#local-6989586621681316529"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Complex a -&gt; Complex a -&gt; Complex a
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span> </span><span class="annot"><span class="annottext">Complex a
</span><a href="#local-6989586621681316527"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-767"></span><span>
</span><span id="line-768"></span><span>  </span><span class="hs-comment">-- instance (Fractional a, Limiting a, Closed a) =&gt; Infinitesimal Stream (Stream a) where</span><span>
</span><span id="line-769"></span><span>  </span><span class="hs-comment">--   epsilonStream = cellsLinear streamEpsilon</span><span>
</span><span id="line-770"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-771"></span><span>  </span><span class="hs-comment">-- instance RealFloat R where</span><span>
</span><span id="line-772"></span><span>  </span><span class="hs-comment">--    floatRadix  x = 10</span><span>
</span><span id="line-773"></span><span>  </span><span class="hs-comment">--    -- WARNING: floatDigits would want to use real comparison.</span><span>
</span><span id="line-774"></span><span>  </span><span class="hs-comment">--    floatDigits x = if shead (approximate x) &lt; 0 then 30 else negate 30</span><span>
</span><span id="line-775"></span><span>  </span><span class="hs-comment">--    floatRange  x = (-30000,30000)</span><span>
</span><span id="line-776"></span><span>  </span><span class="hs-comment">--    decodeFloat x = decodeInBase 10 30 x  </span><span>
</span><span id="line-777"></span><span>  </span><span class="hs-comment">--    encodeFloat m n = (fromInteger m :: R) * 10^^n</span><span>
</span><span id="line-778"></span><span>  </span><span class="hs-comment">--    isNegativeZero _ = False</span><span>
</span><span id="line-779"></span><span>  </span><span class="hs-comment">--    isInfinite _ = False</span><span>
</span><span id="line-780"></span><span>  </span><span class="hs-comment">--    isNaN x = False</span><span>
</span><span id="line-781"></span><span>  </span><span class="hs-comment">--    isDenormalized _ = False</span><span>
</span><span id="line-782"></span><span>  </span><span class="hs-comment">--    isIEEE _ = False</span><span>
</span><span id="line-783"></span><span>  </span><span class="hs-comment">--    atan2 y x = 2 * atan ((sqrt (x*x+y*y) - x) / y)</span><span>
</span><span id="line-784"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-785"></span><span>  </span><span class="hs-comment">-- decodeInBase :: Integer -&gt; Int -&gt; R -&gt; (Integer,Int)</span><span>
</span><span id="line-786"></span><span>  </span><span class="hs-comment">-- decodeInBase base p x = iter start</span><span>
</span><span id="line-787"></span><span>  </span><span class="hs-comment">--      where start = floor ((x*fromIntegral base^p) `atPrecision` 1)</span><span>
</span><span id="line-788"></span><span>  </span><span class="hs-comment">--            iter x | abs x &gt;= base^(p-1) &amp;&amp; abs x &lt; base^p = (x,negate p)</span><span>
</span><span id="line-789"></span><span>  </span><span class="hs-comment">--                   | x &gt;= base^p,</span><span>
</span><span id="line-790"></span><span>  </span><span class="hs-comment">--                        (a,b) &lt;- iter (x `div` base) = (a,b+1)</span><span>
</span><span id="line-791"></span><span>  </span><span class="hs-comment">--                   | x &lt;= negate (base^p),</span><span>
</span><span id="line-792"></span><span>  </span><span class="hs-comment">--                       (a,b) &lt;- iter (x `div` base) = (a,b+1)</span><span>
</span><span id="line-793"></span><span>  </span><span class="hs-comment">--                   | x &lt; base^(p-1)  &amp;&amp; x &gt; 0,</span><span>
</span><span id="line-794"></span><span>  </span><span class="hs-comment">--                       (a,b) &lt;- iter (x*base) = (a,b-1)</span><span>
</span><span id="line-795"></span><span>  </span><span class="hs-comment">--                   | x &gt; negate (base^(p-1)) &amp;&amp; x &lt; 0</span><span>
</span><span id="line-796"></span><span>  </span><span class="hs-comment">--                        , (a,b) &lt;- iter (x*base) = (a,b-1)</span><span>
</span><span id="line-797"></span><span>  </span><span class="hs-comment">--                   | x == 0 = (0,0)</span><span>
</span><span id="line-798"></span><span>  </span><span class="hs-comment">--                   | otherwise = error $ &quot;iter base for:&quot; ++ show x</span><span>
</span><span id="line-799"></span><span>
</span><span id="line-800"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#encodeInBase"><span class="hs-identifier hs-type">encodeInBase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-801"></span><span> </span><span id="encodeInBase"><span class="annot"><span class="annottext">encodeInBase :: Integer -&gt; Integer -&gt; Int -&gt; R
</span><a href="Math.Number.Real.html#encodeInBase"><span class="hs-identifier hs-var hs-var">encodeInBase</span></a></span></span><span> </span><span id="local-6989586621681316530"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316530"><span class="hs-identifier hs-var">base</span></a></span></span><span> </span><span id="local-6989586621681316531"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316531"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681316532"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681316532"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; R
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316531"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; R
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316530"><span class="hs-identifier hs-var">base</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; Int -&gt; R
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681316532"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-802"></span><span>
</span><span id="line-803"></span><span> </span><span id="local-6989586621681314588"><span class="annot"><a href="Math.Number.Real.html#fromFloat"><span class="hs-identifier hs-type">fromFloat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RealFloat</span></span><span> </span><span class="annot"><a href="#local-6989586621681314588"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314588"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span><span>
</span><span id="line-804"></span><span> </span><span id="fromFloat"><span class="annot"><span class="annottext">fromFloat :: forall a. RealFloat a =&gt; a -&gt; R
</span><a href="Math.Number.Real.html#fromFloat"><span class="hs-identifier hs-var hs-var">fromFloat</span></a></span></span><span> </span><span id="local-6989586621681316536"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316536"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681316537"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316537"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316538"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681316538"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; (Integer, Int)
forall a. RealFloat a =&gt; a -&gt; (Integer, Int)
</span><span class="hs-identifier hs-var">decodeFloat</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316536"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Int -&gt; R
</span><a href="Math.Number.Real.html#encodeInBase"><span class="hs-identifier hs-var">encodeInBase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Integer
forall a. RealFloat a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">floatRadix</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316536"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316537"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681316538"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-805"></span><span>
</span><span id="line-806"></span><span> </span><span class="annot"><span class="hs-comment">-- | https://en.wikipedia.org/wiki/Golden_ratio</span></span><span>
</span><span id="line-807"></span><span>
</span><span id="line-808"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#goldenRatio"><span class="hs-identifier hs-type">goldenRatio</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-809"></span><span> </span><span id="goldenRatio"><span class="annot"><span class="annottext">goldenRatio :: R
</span><a href="Math.Number.Real.html#goldenRatio"><span class="hs-identifier hs-var hs-var">goldenRatio</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational -&gt; Stream Rational
forall a. Integer -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#drop"><span class="hs-identifier hs-var">Stream.drop</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">4</span></span><span> </span><span>
</span><span id="line-810"></span><span>                      </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Fractional a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#streamQuotients"><span class="hs-identifier hs-var">streamQuotients</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Integer -&gt; Rational) -&gt; Stream Integer -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Integer
forall a. (Integral a, RealClosure Stream a) =&gt; Stream a
</span><a href="Math.Number.Stream.html#fib"><span class="hs-identifier hs-var">fib</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-811"></span><span>
</span><span id="line-812"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#slowGoldenRatio"><span class="hs-identifier hs-type">slowGoldenRatio</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-813"></span><span> </span><span id="slowGoldenRatio"><span class="annot"><span class="annottext">slowGoldenRatio :: R
</span><a href="Math.Number.Real.html#slowGoldenRatio"><span class="hs-identifier hs-var hs-var">slowGoldenRatio</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">5</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-814"></span><span>
</span><span id="line-815"></span><span>  </span><span class="hs-comment">-- Doesn't work since triggers problems with equality comparison:</span><span>
</span><span id="line-816"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-817"></span><span>  </span><span class="hs-comment">-- primitiveRoot_of_unity :: Integer -&gt; Closure (Complex R)</span><span>
</span><span id="line-818"></span><span>  </span><span class="hs-comment">-- primitiveRoot_of_unity i = newtonsMethod (\x -&gt; x ^^ i - (1 :+ 0)) (0 :+ 1)</span><span>
</span><span id="line-819"></span><span>
</span><span id="line-820"></span><span> </span><span class="annot"><span class="hs-comment">-- | https://en.wikipedia.org/wiki/Logistic_function</span></span><span>
</span><span id="line-821"></span><span>
</span><span id="line-822"></span><span> </span><span id="local-6989586621681316542"><span class="annot"><a href="Math.Number.Real.html#logistic"><span class="hs-identifier hs-type">logistic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681316542"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681316542"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681316542"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-823"></span><span> </span><span id="logistic"><span class="annot"><span class="annottext">logistic :: forall a. Floating a =&gt; a -&gt; a
</span><a href="Math.Number.Real.html#logistic"><span class="hs-identifier hs-var hs-var">logistic</span></a></span></span><span> </span><span id="local-6989586621681316551"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316551"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316551"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316551"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-824"></span><span>
</span><span id="line-825"></span><span> </span><span class="hs-comment">-- | this converts a real to a sequence of doubles, each item</span><span>
</span><span id="line-826"></span><span> </span><span class="hs-comment">-- attempting to approximate the real to higher accuracy.</span><span>
</span><span id="line-827"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#floatingApproximationsReal"><span class="hs-identifier hs-type">floatingApproximationsReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-828"></span><span> </span><span id="floatingApproximationsReal"><span class="annot"><span class="annottext">floatingApproximationsReal :: R -&gt; Stream Double
</span><a href="Math.Number.Real.html#floatingApproximationsReal"><span class="hs-identifier hs-var hs-var">floatingApproximationsReal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Double) -&gt; Stream Rational -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Double)
-&gt; (R -&gt; Stream Rational) -&gt; R -&gt; Stream Double
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span>
</span><span id="line-829"></span><span>
</span><span id="line-830"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Approximations"><span class="hs-identifier hs-type">Approximations</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-831"></span><span>    </span><span id="local-6989586621681316557"><span class="annot"><span class="annottext">floatingApproximations :: R -&gt; Stream Double
</span><a href="Math.Number.Interface.html#floatingApproximations"><span class="hs-identifier hs-var hs-var hs-var hs-var">floatingApproximations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Double
</span><a href="Math.Number.Real.html#floatingApproximationsReal"><span class="hs-identifier hs-var">floatingApproximationsReal</span></a></span><span>
</span><span id="line-832"></span><span>    </span><span id="local-6989586621681316558"><span class="annot"><span class="annottext">rationalApproximations :: R -&gt; Stream Rational
</span><a href="#local-6989586621681316558"><span class="hs-identifier hs-var hs-var hs-var hs-var">rationalApproximations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span>
</span><span id="line-833"></span><span>
</span><span id="line-834"></span><span>
</span><span id="line-835"></span><span> </span><span id="local-6989586621681314597"><span class="annot"><a href="Math.Number.Real.html#logarithmByPower"><span class="hs-identifier hs-type">logarithmByPower</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681314597"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314597"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314597"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314597"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-836"></span><span> </span><span id="logarithmByPower"><span class="annot"><span class="annottext">logarithmByPower :: forall a. (Floating a, Limiting Stream a) =&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#logarithmByPower"><span class="hs-identifier hs-var hs-var">logarithmByPower</span></a></span></span><span> </span><span id="local-6989586621681316575"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316575"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream a -&gt; Closure Stream a
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream a -&gt; Closure Stream a) -&gt; Stream a -&gt; Closure Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-837"></span><span>                 </span><span id="local-6989586621681316576"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316576"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream a
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">naturals</span></a></span><span>
</span><span id="line-838"></span><span>                 </span><span class="annot"><span class="annottext">a -&gt; Stream a
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Stream a) -&gt; a -&gt; Stream a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316576"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316575"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316576"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-839"></span><span>
</span><span id="line-840"></span><span>
</span><span id="line-841"></span><span>  </span><span class="hs-comment">-- tetrate2 x == x^x</span><span>
</span><span id="line-842"></span><span>
</span><span id="line-843"></span><span> </span><span id="local-6989586621681316577"><span class="annot"><a href="Math.Number.Real.html#tetrate2_"><span class="hs-identifier hs-type">tetrate2_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681316577"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681316577"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681316577"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-844"></span><span> </span><span id="tetrate2_"><span class="annot"><span class="annottext">tetrate2_ :: forall a. Floating a =&gt; a -&gt; a
</span><a href="Math.Number.Real.html#tetrate2_"><span class="hs-identifier hs-var hs-var">tetrate2_</span></a></span></span><span> </span><span id="local-6989586621681316581"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316581"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316581"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316581"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-845"></span><span>
</span><span id="line-846"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Tetration Tetration&gt;</span></span><span>
</span><span id="line-847"></span><span>
</span><span id="line-848"></span><span> </span><span id="local-6989586621681314600"><span id="local-6989586621681314601"><span class="annot"><a href="Math.Number.Real.html#tetrate"><span class="hs-identifier hs-type">tetrate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621681314600"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681314600"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681314601"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314600"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314601"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314601"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-849"></span><span> </span><span id="tetrate"><span class="annot"><span class="annottext">tetrate :: forall b a. (Eq b, Num b, Floating a) =&gt; b -&gt; a -&gt; a
</span><a href="Math.Number.Real.html#tetrate"><span class="hs-identifier hs-var hs-var">tetrate</span></a></span></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-number">1</span></span><span> </span><span id="local-6989586621681316593"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316593"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316593"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-850"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#tetrate"><span class="hs-identifier hs-var">tetrate</span></a></span><span> </span><span id="local-6989586621681316594"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681316594"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681316595"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316595"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316595"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681316594"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; b -&gt; b
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">b -&gt; a -&gt; a
forall b a. (Eq b, Num b, Floating a) =&gt; b -&gt; a -&gt; a
</span><a href="Math.Number.Real.html#tetrate"><span class="hs-operator hs-var">`tetrate`</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316595"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-851"></span><span>
</span><span id="line-852"></span><span>  </span><span class="hs-comment">-- ssrt is Inverse function for tetration. Don't have implementation.</span><span>
</span><span id="line-853"></span><span>
</span><span id="line-854"></span><span> </span><span id="local-6989586621681316596"><span class="annot"><a href="Math.Number.Real.html#tetrate2"><span class="hs-identifier hs-type">tetrate2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681316596"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681316596"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681316596"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-855"></span><span> </span><span id="tetrate2"><span class="annot"><span class="annottext">tetrate2 :: forall a. Floating a =&gt; a -&gt; a
</span><a href="Math.Number.Real.html#tetrate2"><span class="hs-identifier hs-var hs-var">tetrate2</span></a></span></span><span> </span><span id="local-6989586621681316605"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316605"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316606"><span class="hs-identifier hs-var">xln</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316606"><span class="hs-identifier hs-var">xln</span></a></span><span>
</span><span id="line-856"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681316606"><span class="annot"><span class="annottext">xln :: a
</span><a href="#local-6989586621681316606"><span class="hs-identifier hs-var hs-var">xln</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316605"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316605"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-857"></span><span>
</span><span id="line-858"></span><span> </span><span id="local-6989586621681314605"><span class="annot"><a href="Math.Number.Real.html#logNewton"><span class="hs-identifier hs-type">logNewton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="#local-6989586621681314605"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314605"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314605"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314605"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-859"></span><span> </span><span id="logNewton"><span class="annot"><span class="annottext">logNewton :: forall a. (Floating a, Closed a) =&gt; a -&gt; a
</span><a href="Math.Number.Real.html#logNewton"><span class="hs-identifier hs-var hs-var">logNewton</span></a></span></span><span> </span><span id="local-6989586621681316616"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316616"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream a -&gt; a
forall a. Closed a =&gt; Closure Stream a -&gt; a
</span><a href="Math.Number.StreamInterface.html#accumulationPoint"><span class="hs-identifier hs-var">accumulationPoint</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream a -&gt; a) -&gt; Closure Stream a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; Closure Stream a
forall a. Closed a =&gt; (a -&gt; a) -&gt; a -&gt; Closure Stream a
</span><a href="Math.Number.Real.html#newtonsMethodRealClosure"><span class="hs-identifier hs-var">newtonsMethodRealClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681316617"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316617"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316617"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681316616"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span>
</span><span id="line-860"></span><span>
</span><span id="line-861"></span><span> </span><span id="cosGeneratingFunction_"><span class="annot"><span class="annottext">cosGeneratingFunction_ :: Stream Double
</span><a href="Math.Number.Real.html#cosGeneratingFunction_"><span class="hs-identifier hs-var hs-var">cosGeneratingFunction_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Stream Double -&gt; Stream Double
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; Stream Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Stream Double -&gt; Stream Double
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; Stream Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double -&gt; Double)
-&gt; Stream Double -&gt; Stream Double -&gt; Stream Double
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream Double
</span><a href="#local-6989586621681316623"><span class="hs-identifier hs-var">signs</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Double
</span><a href="#local-6989586621681316624"><span class="hs-identifier hs-var">fact</span></a></span><span>
</span><span id="line-862"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681316623"><span class="annot"><span class="annottext">signs :: Stream Double
</span><a href="#local-6989586621681316623"><span class="hs-identifier hs-var hs-var">signs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Double -&gt; Stream Double
forall a. Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#stail"><span class="hs-identifier hs-var">stail</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; Stream Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Double -&gt; Stream Double
forall a. Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#stail"><span class="hs-identifier hs-var">stail</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; Stream Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Double
forall a. Fractional a =&gt; Stream a
</span><a href="Math.Number.Stream.html#alternatingPossiblyNegativeBits"><span class="hs-identifier hs-var">alternatingPossiblyNegativeBits</span></a></span><span>
</span><span id="line-863"></span><span>        </span><span id="local-6989586621681316624"><span class="annot"><span class="annottext">fact :: Stream Double
</span><a href="#local-6989586621681316624"><span class="hs-identifier hs-var hs-var">fact</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Double -&gt; Stream Double
forall a. Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#stail"><span class="hs-identifier hs-var">stail</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; Stream Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Double -&gt; Stream Double
forall a. Stream a -&gt; Stream a
forall (str :: * -&gt; *) a. StreamObserver str =&gt; str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#stail"><span class="hs-identifier hs-var">stail</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Double -&gt; Stream Double) -&gt; Stream Double -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Double
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-864"></span><span>
</span><span id="line-865"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#expBySeries2"><span class="hs-identifier hs-type">expBySeries2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-866"></span><span> </span><span id="expBySeries2"><span class="annot"><span class="annottext">expBySeries2 :: R -&gt; R
</span><a href="Math.Number.Real.html#expBySeries2"><span class="hs-identifier hs-var hs-var">expBySeries2</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316638"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316638"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-867"></span><span>    </span><span id="local-6989586621681316639"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316639"><span class="hs-identifier hs-var">xappr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316638"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-868"></span><span>    </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">sumStream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#indexPowers"><span class="hs-identifier hs-var">indexPowers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316639"><span class="hs-identifier hs-var">xappr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span>
</span><span id="line-869"></span><span>
</span><span id="line-870"></span><span>  </span><span class="hs-comment">-- expBySeries2 :: R -&gt; R</span><span>
</span><span id="line-871"></span><span>  </span><span class="hs-comment">-- expBySeries2 (Limit x) = Limit $ sumStream $</span><span>
</span><span id="line-872"></span><span>  </span><span class="hs-comment">--             matrix (*) (fmap (1/) factorial) (indexPowers x)</span><span>
</span><span id="line-873"></span><span>
</span><span id="line-874"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#expBySeries"><span class="hs-identifier hs-type">expBySeries</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-875"></span><span> </span><span id="expBySeries"><span class="annot"><span class="annottext">expBySeries :: R -&gt; R
</span><a href="Math.Number.Real.html#expBySeries"><span class="hs-identifier hs-var hs-var">expBySeries</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316641"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316641"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. Fractional a =&gt; Stream a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#approximateSums"><span class="hs-operator hs-var">`approximateSums`</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316641"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-876"></span><span>
</span><span id="line-877"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#sinBySeries"><span class="hs-identifier hs-type">sinBySeries</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-878"></span><span> </span><span id="sinBySeries"><span class="annot"><span class="annottext">sinBySeries :: R -&gt; R
</span><a href="Math.Number.Real.html#sinBySeries"><span class="hs-identifier hs-var hs-var">sinBySeries</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316642"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316642"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316642"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; (Rational -&gt; Stream Rational) -&gt; Stream Rational
forall a b. Stream a -&gt; (a -&gt; Stream b) -&gt; Stream b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681316643"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316643"><span class="hs-identifier hs-var">xappr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-879"></span><span>         </span><span class="annot"><span class="annottext">(Rational -&gt; Bool) -&gt; Stream Rational -&gt; Stream Rational
forall a. (a -&gt; Bool) -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#filter"><span class="hs-identifier hs-var">Stream.filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681316645"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316645"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316645"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316645"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational, Stream Rational) -&gt; Stream Rational
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((Stream Rational, Stream Rational) -&gt; Stream Rational)
-&gt; (Stream Rational, Stream Rational) -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; (Stream Rational, Stream Rational)
forall a. Stream a -&gt; (Stream a, Stream a)
</span><a href="Math.Number.Stream.html#uninterleave"><span class="hs-identifier hs-var">uninterleave</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; (Stream Rational, Stream Rational))
-&gt; Stream Rational -&gt; (Stream Rational, Stream Rational)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">sumStream</span></a></span><span> </span><span>
</span><span id="line-880"></span><span>         </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316647"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-881"></span><span>         </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#indexPowers"><span class="hs-identifier hs-var">indexPowers</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316643"><span class="hs-identifier hs-var">xappr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-882"></span><span>         </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#atPrecision"><span class="hs-operator hs-var">`atPrecision`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span>
</span><span id="line-883"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681316647"><span class="annot"><span class="annottext">filterStream :: Stream Rational
</span><a href="#local-6989586621681316647"><span class="hs-identifier hs-var hs-var">filterStream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316647"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-884"></span><span>
</span><span id="line-885"></span><span>  </span><span class="hs-comment">-- uninterleave stuff is needed to ensure atPrecision works correctly,</span><span>
</span><span id="line-886"></span><span>  </span><span class="hs-comment">-- since the sum of the generating function has zero at every second element,</span><span>
</span><span id="line-887"></span><span>  </span><span class="hs-comment">-- it means there are always two adjacent equal elements.</span><span>
</span><span id="line-888"></span><span>
</span><span id="line-889"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#cosBySeries"><span class="hs-identifier hs-type">cosBySeries</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-890"></span><span> </span><span id="cosBySeries"><span class="annot"><span class="annottext">cosBySeries :: R -&gt; R
</span><a href="Math.Number.Real.html#cosBySeries"><span class="hs-identifier hs-var hs-var">cosBySeries</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316653"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316653"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316653"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; (Rational -&gt; Stream Rational) -&gt; Stream Rational
forall a b. Stream a -&gt; (a -&gt; Stream b) -&gt; Stream b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681316654"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316654"><span class="hs-identifier hs-var">xappr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-891"></span><span>         </span><span class="annot"><span class="annottext">(Rational -&gt; Bool) -&gt; Stream Rational -&gt; Stream Rational
forall a. (a -&gt; Bool) -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#filter"><span class="hs-identifier hs-var">Stream.filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681316655"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316655"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316655"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316655"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-892"></span><span>         </span><span class="annot"><span class="annottext">(Stream Rational, Stream Rational) -&gt; Stream Rational
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((Stream Rational, Stream Rational) -&gt; Stream Rational)
-&gt; (Stream Rational, Stream Rational) -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; (Stream Rational, Stream Rational)
forall a. Stream a -&gt; (Stream a, Stream a)
</span><a href="Math.Number.Stream.html#uninterleave"><span class="hs-identifier hs-var">uninterleave</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; (Stream Rational, Stream Rational))
-&gt; Stream Rational -&gt; (Stream Rational, Stream Rational)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">sumStream</span></a></span><span>
</span><span id="line-893"></span><span>         </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316656"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-894"></span><span>         </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#indexPowers"><span class="hs-identifier hs-var">indexPowers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316654"><span class="hs-identifier hs-var">xappr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
</span><a href="Math.Number.Real.html#atPrecision"><span class="hs-operator hs-var">`atPrecision`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span>
</span><span id="line-895"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681316656"><span class="annot"><span class="annottext">filterStream :: Stream Rational
</span><a href="#local-6989586621681316656"><span class="hs-identifier hs-var hs-var">filterStream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316656"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-896"></span><span>
</span><span id="line-897"></span><span> </span><span class="hs-comment">-- | Using Simon Plouffe's BPP digit extraction algorithm for computing pi.</span><span>
</span><span id="line-898"></span><span> </span><span class="hs-comment">-- See &lt;https://secure.wikimedia.org/wikipedia/en/wiki/Pi&gt; for details.</span><span>
</span><span id="line-899"></span><span> </span><span class="hs-comment">-- exp:  &lt;http://en.wikipedia.org/wiki/Exponential_function Exponential function&gt;</span><span>
</span><span id="line-900"></span><span> </span><span class="hs-comment">-- log:  &lt;http://en.wikipedia.org/wiki/Logarithm Logarithm&gt;</span><span>
</span><span id="line-901"></span><span> </span><span class="hs-comment">-- &lt;http://en.wikipedia.org/wiki/Trigonometric_functions trigonometric functions&gt;</span><span>
</span><span id="line-902"></span><span> </span><span class="hs-comment">-- &lt;https://en.wikipedia.org/wiki/Inverse_trigonometric_functions inverse trigonometric functions&gt;</span><span>
</span><span id="line-903"></span><span> </span><span class="hs-comment">-- &lt;http://en.wikipedia.org/wiki/Hyperbolic_function hyperbolic function&gt;</span><span>
</span><span id="line-904"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681316670"><span id="local-6989586621681316685"><span id="local-6989586621681316688"><span id="local-6989586621681316691"><span id="local-6989586621681316694"><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-905"></span><span>     </span><span id="local-6989586621681316734"><span class="annot"><span class="annottext">pi :: R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pi</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">Stream.sumStream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span>
</span><span id="line-906"></span><span>             </span><span id="local-6989586621681316735"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316735"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">Stream.naturals</span></a></span><span>
</span><span id="line-907"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681316736"><span class="annot"><span class="annottext">kr :: Rational
</span><a href="#local-6989586621681316736"><span class="hs-identifier hs-var hs-var">kr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316735"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span>                </span><span>
</span><span id="line-908"></span><span>             </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Stream Rational) -&gt; Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">16</span></span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316735"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">4</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316736"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316736"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span>
</span><span id="line-909"></span><span>                                        </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316736"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">5</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316736"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">6</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-910"></span><span>     </span><span id="local-6989586621681316743"><span class="annot"><span class="annottext">exp :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">exp</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316744"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316744"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational -&gt; Stream Rational
forall a. Integer -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#drop"><span class="hs-identifier hs-var">Stream.drop</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316744"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; (Rational -&gt; Stream Rational) -&gt; Stream Rational
forall a b. Stream a -&gt; (a -&gt; Stream b) -&gt; Stream b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681316745"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316745"><span class="hs-identifier hs-var">xappr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">sumStream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-911"></span><span>          </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational)
-&gt; Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#indexPowers"><span class="hs-identifier hs-var">indexPowers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316745"><span class="hs-identifier hs-var">xappr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Rational
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span>
</span><span id="line-912"></span><span>     </span><span id="local-6989586621681316750"><span class="annot"><span class="annottext">sqrt :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sqrt</span></span></span><span> </span><span id="local-6989586621681316751"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316751"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a. Numerics a =&gt; (a -&gt; a) -&gt; a -&gt; a
</span><a href="Math.Number.Interface.html#newtonsMethod"><span class="hs-identifier hs-var">newtonsMethod</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681316752"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316752"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316752"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316752"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316751"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span>
</span><span id="line-913"></span><span>     </span><span id="local-6989586621681316785"><span class="annot"><span class="annottext">log :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">log</span></span></span><span> </span><span id="local-6989586621681316786"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316786"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">Stream.sumStream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-914"></span><span>                   </span><span class="hs-special">(</span><span id="local-6989586621681316787"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316787"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681316788"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316788"><span class="hs-identifier hs-var">aaprx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">naturals</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Integer -&gt; Stream Rational -&gt; Stream (Integer, Rational)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f (a, b)
</span><a href="Math.Tools.Functor.html#%3C%26%3E"><span class="hs-operator hs-var">&lt;&amp;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.Real.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316789"><span class="hs-identifier hs-var">a'</span></a></span><span>
</span><span id="line-915"></span><span>                   </span><span class="annot"><span class="annottext">Rational -&gt; Stream Rational
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Stream Rational) -&gt; Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316787"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316788"><span class="hs-identifier hs-var">aaprx</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316787"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-916"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681316789"><span class="annot"><span class="annottext">a' :: R
</span><a href="#local-6989586621681316789"><span class="hs-identifier hs-var hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316786"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316786"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-917"></span><span>     </span><span id="local-6989586621681316793"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316793"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681316794"><span class="annot"><span class="annottext">** :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">**</span></span></span><span> </span><span id="local-6989586621681316795"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316795"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316795"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316793"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-918"></span><span>     </span><span id="local-6989586621681316796"><span class="annot"><span class="annottext">sin :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sin</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.Real.html#sinBySeries"><span class="hs-identifier hs-var">sinBySeries</span></a></span><span>
</span><span id="line-919"></span><span>     </span><span id="local-6989586621681316797"><span class="annot"><span class="annottext">cos :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">cos</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.Real.html#cosBySeries"><span class="hs-identifier hs-var">cosBySeries</span></a></span><span>
</span><span id="line-920"></span><span>     </span><span id="local-6989586621681316801"><span class="annot"><span class="annottext">tan :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">tan</span></span></span><span> </span><span id="local-6989586621681316802"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316802"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316802"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316802"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-921"></span><span>     </span><span id="local-6989586621681316810"><span class="annot"><span class="annottext">asin :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">asin</span></span></span><span> </span><span id="local-6989586621681316811"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316811"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.Real.html#integralReal"><span class="hs-identifier hs-var">integralReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316811"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681316812"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316812"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316812"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316812"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-922"></span><span>     </span><span id="local-6989586621681316820"><span class="annot"><span class="annottext">acos :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">acos</span></span></span><span> </span><span id="local-6989586621681316821"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316821"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.Real.html#integralReal"><span class="hs-identifier hs-var">integralReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316821"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681316822"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316822"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316822"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316822"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-923"></span><span>     </span><span id="local-6989586621681316830"><span class="annot"><span class="annottext">atan :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">atan</span></span></span><span> </span><span id="local-6989586621681316831"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316831"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316831"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681316832"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316832"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316832"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316832"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-924"></span><span>     </span><span id="local-6989586621681316839"><span class="annot"><span class="annottext">sinh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sinh</span></span></span><span> </span><span id="local-6989586621681316840"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316840"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316840"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316840"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-925"></span><span>     </span><span id="local-6989586621681316847"><span class="annot"><span class="annottext">cosh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">cosh</span></span></span><span> </span><span id="local-6989586621681316848"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316848"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316848"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316848"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-926"></span><span>     </span><span id="local-6989586621681316852"><span class="annot"><span class="annottext">tanh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">tanh</span></span></span><span> </span><span id="local-6989586621681316853"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316853"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316853"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316853"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-927"></span><span>     </span><span id="local-6989586621681316860"><span class="annot"><span class="annottext">asinh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">asinh</span></span></span><span> </span><span id="local-6989586621681316861"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316861"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316861"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316861"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316861"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-928"></span><span>     </span><span id="local-6989586621681316868"><span class="annot"><span class="annottext">acosh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">acosh</span></span></span><span> </span><span id="local-6989586621681316869"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316869"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316869"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316869"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316869"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-929"></span><span>     </span><span id="local-6989586621681316878"><span class="annot"><span class="annottext">atanh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">atanh</span></span></span><span> </span><span id="local-6989586621681316879"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316879"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316879"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316879"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-930"></span><span>
</span><span id="line-931"></span><span>  </span><span class="hs-comment">-- mandelbrotPolynomial :: Complex R -&gt; Complex R -&gt; Complex R</span><span>
</span><span id="line-932"></span><span>  </span><span class="hs-comment">-- mandelbrotPolynomial c z = z*z + c</span><span>
</span><span id="line-933"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-934"></span><span>  </span><span class="hs-comment">-- mandelbrotStream :: Complex R -&gt; Stream (Complex R)</span><span>
</span><span id="line-935"></span><span>  </span><span class="hs-comment">-- mandelbrotStream c = iterateStream (mandelbrotPolynomial c) 0</span><span>
</span><span id="line-936"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-937"></span><span>  </span><span class="hs-comment">-- mandelbrot :: Complex R -&gt; Closure (Complex R)</span><span>
</span><span id="line-938"></span><span>  </span><span class="hs-comment">-- mandelbrot c = limit (mandelbrotStream c)</span><span>
</span><span id="line-939"></span><span>
</span><span id="line-940"></span><span>
</span><span id="line-941"></span><span> </span><span class="annot"><a href="Math.Number.Real.html#approximateSumsModulus"><span class="hs-identifier hs-type">approximateSumsModulus</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span>
</span><span id="line-942"></span><span> </span><span id="approximateSumsModulus"><span class="annot"><span class="annottext">approximateSumsModulus :: Modulus -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#approximateSumsModulus"><span class="hs-identifier hs-var hs-var">approximateSumsModulus</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316880"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316880"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316881"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316881"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681316882"><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316882"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316883"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316883"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-943"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Rational -&gt; R
</span><a href="Math.Number.Real.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; R) -&gt; Stream Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Rational -&gt; Stream Rational -&gt; Stream Rational
forall a. Fractional a =&gt; Stream a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#approximateSums"><span class="hs-identifier hs-var">approximateSums</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316880"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Rational
</span><a href="#local-6989586621681316882"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681316884"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316884"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316881"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316884"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316883"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316884"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-944"></span><span>
</span><span id="line-945"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681316886"><span id="local-6989586621681316891"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-946"></span><span>    </span><span id="local-6989586621681316905"><span class="annot"><span class="annottext">show :: Modulus -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span id="local-6989586621681316906"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316906"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681316907"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316907"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316906"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;[ used &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316907"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">10</span></span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">30</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; terms ]&quot;</span></span><span>
</span><span id="line-947"></span><span>
</span><span id="line-948"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-949"></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621681316918"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316918"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316919"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316919"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681316920"><span class="annot"><span class="annottext">+ :: Modulus -&gt; Modulus -&gt; Modulus
</span><span class="hs-operator hs-var hs-var hs-var hs-var">+</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681316921"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316921"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316922"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316922"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316918"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316921"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681316923"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316923"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316919"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316923"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316922"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316923"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-950"></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621681316926"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316926"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316927"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316927"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681316928"><span class="annot"><span class="annottext">- :: Modulus -&gt; Modulus -&gt; Modulus
</span><span class="hs-glyph hs-var hs-var hs-var hs-var">-</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681316929"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316929"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316930"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316930"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316926"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316929"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681316931"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316931"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316927"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316931"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316930"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316931"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-951"></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621681316934"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316934"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316935"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316935"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681316936"><span class="annot"><span class="annottext">* :: Modulus -&gt; Modulus -&gt; Modulus
</span><span class="hs-operator hs-var hs-var hs-var hs-var">*</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681316937"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316937"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316938"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316938"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316934"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316937"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681316939"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316939"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316935"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316939"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316938"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316939"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-952"></span><span>   </span><span id="local-6989586621681316941"><span class="annot"><span class="annottext">negate :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">negate</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681316942"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316942"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316943"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316943"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316942"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316943"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-953"></span><span>   </span><span id="local-6989586621681316945"><span class="annot"><span class="annottext">abs :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">abs</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681316946"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316946"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316947"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316947"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316946"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316947"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-954"></span><span>   </span><span id="local-6989586621681316949"><span class="annot"><span class="annottext">signum :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">signum</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681316950"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316950"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316951"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316951"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316950"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316951"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-955"></span><span>   </span><span id="local-6989586621681316954"><span class="annot"><span class="annottext">fromInteger :: Integer -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromInteger</span></span></span><span> </span><span id="local-6989586621681316955"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316955"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; R
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681316955"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Rational -&gt; Integer
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-956"></span><span>
</span><span id="line-957"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-958"></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621681316965"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316965"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316966"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316966"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681316967"><span class="annot"><span class="annottext">/ :: Modulus -&gt; Modulus -&gt; Modulus
</span><span class="hs-operator hs-var hs-var hs-var hs-var">/</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681316968"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316968"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316969"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316969"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316965"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316968"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681316970"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316970"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316966"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316970"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316969"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316970"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-959"></span><span>   </span><span id="local-6989586621681316973"><span class="annot"><span class="annottext">recip :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">recip</span></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681316974"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316974"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-type">`Modulus`</span></a></span><span> </span><span id="local-6989586621681316975"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316975"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316974"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681316976"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316976"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316975"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316976"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-960"></span><span>   </span><span id="local-6989586621681316979"><span class="annot"><span class="annottext">fromRational :: Rational -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromRational</span></span></span><span> </span><span id="local-6989586621681316980"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316980"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316980"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Rational -&gt; Integer
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-961"></span><span>
</span><span id="line-962"></span><span> </span><span id="local-6989586621681314613"><span id="local-6989586621681314614"><span class="annot"><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-identifier hs-type">withInverseModulus</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681314613"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Real</span></span><span> </span><span class="annot"><a href="#local-6989586621681314614"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681314613"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314614"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span></span></span><span>
</span><span id="line-963"></span><span> </span><span id="withInverseModulus"><span class="annot"><span class="annottext">withInverseModulus :: forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-identifier hs-var hs-var">withInverseModulus</span></a></span></span><span> </span><span id="local-6989586621681316985"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681316985"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681316986"><span class="annot"><span class="annottext">r -&gt; u
</span><a href="#local-6989586621681316986"><span class="hs-identifier hs-var">finv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span><span> </span><span id="local-6989586621681316987"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316987"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681316988"><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316988"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681316985"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681316987"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681316989"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316989"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
</span><a href="#local-6989586621681316988"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">u -&gt; Rational
forall a. Real a =&gt; a -&gt; Rational
</span><span class="hs-identifier hs-var">toRational</span></span><span> </span><span class="annot"><span class="annottext">(u -&gt; Rational) -&gt; u -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; u
</span><a href="#local-6989586621681316986"><span class="hs-identifier hs-var">finv</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; u) -&gt; r -&gt; u
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; r
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681316989"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-964"></span><span>
</span><span id="line-965"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681316998"><span id="local-6989586621681317014"><span id="local-6989586621681317017"><span id="local-6989586621681317020"><span id="local-6989586621681317023"><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="Math.Number.Real.html#Modulus"><span class="hs-identifier hs-type">Modulus</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-966"></span><span>   </span><span id="local-6989586621681317048"><span class="annot"><span class="annottext">pi :: Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pi</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
forall a. Floating a =&gt; a
</span><span class="hs-identifier hs-var">pi</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; (Rational -&gt; Integer) -&gt; Modulus
</span><a href="Math.Number.Real.html#Modulus"><span class="hs-operator hs-var">`Modulus`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681317049"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681317049"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Integer
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">ceiling</span></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Integer) -&gt; Double -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double) -&gt; Double -&gt; Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681317049"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">16</span></span><span>
</span><span id="line-967"></span><span>   </span><span id="local-6989586621681317061"><span class="annot"><span class="annottext">exp :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">exp</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span>
</span><span id="line-968"></span><span>   </span><span id="local-6989586621681317070"><span class="annot"><span class="annottext">sqrt :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sqrt</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681317071"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681317071"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681317071"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681317071"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-969"></span><span>   </span><span id="local-6989586621681317082"><span class="annot"><span class="annottext">sin :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sin</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asin</span></span><span>
</span><span id="line-970"></span><span>   </span><span id="local-6989586621681317093"><span class="annot"><span class="annottext">cos :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">cos</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acos</span></span><span>
</span><span id="line-971"></span><span>   </span><span id="local-6989586621681317104"><span class="annot"><span class="annottext">log :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">log</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span>
</span><span id="line-972"></span><span>   </span><span id="local-6989586621681317115"><span class="annot"><span class="annottext">asin :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">asin</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asin</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span>
</span><span id="line-973"></span><span>   </span><span id="local-6989586621681317126"><span class="annot"><span class="annottext">acos :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">acos</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acos</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span>
</span><span id="line-974"></span><span>   </span><span id="local-6989586621681317137"><span class="annot"><span class="annottext">atan :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">atan</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atan</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Double -&gt; Double) -&gt; Modulus -&gt; Modulus
forall r u.
(Fractional r, Real u) =&gt;
(R -&gt; R) -&gt; (r -&gt; u) -&gt; Modulus -&gt; Modulus
</span><a href="Math.Number.Real.html#withInverseModulus"><span class="hs-operator hs-var">`withInverseModulus`</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tan</span></span><span>
</span><span id="line-975"></span><span>   </span><span id="local-6989586621681317141"><span class="annot"><span class="annottext">tan :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">tan</span></span></span><span> </span><span id="local-6989586621681317142"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317142"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317142"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317142"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-976"></span><span>   </span><span id="local-6989586621681317146"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317146"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681317147"><span class="annot"><span class="annottext">** :: Modulus -&gt; Modulus -&gt; Modulus
</span><span class="hs-operator hs-var hs-var hs-var hs-var">**</span></span></span><span> </span><span id="local-6989586621681317148"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317148"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317148"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317146"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-977"></span><span>   </span><span id="local-6989586621681317155"><span class="annot"><span class="annottext">sinh :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sinh</span></span></span><span> </span><span id="local-6989586621681317156"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317156"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317156"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317156"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">2</span></span><span>
</span><span id="line-978"></span><span>   </span><span id="local-6989586621681317163"><span class="annot"><span class="annottext">cosh :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">cosh</span></span></span><span> </span><span id="local-6989586621681317164"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317164"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317164"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317164"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">2</span></span><span>
</span><span id="line-979"></span><span>   </span><span id="local-6989586621681317168"><span class="annot"><span class="annottext">tanh :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">tanh</span></span></span><span> </span><span id="local-6989586621681317169"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317169"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317169"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317169"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-980"></span><span>   </span><span id="local-6989586621681317176"><span class="annot"><span class="annottext">asinh :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">asinh</span></span></span><span> </span><span id="local-6989586621681317177"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317177"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(Modulus -&gt; Modulus) -&gt; Modulus -&gt; Modulus
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317177"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317177"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317177"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-981"></span><span>   </span><span id="local-6989586621681317184"><span class="annot"><span class="annottext">acosh :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">acosh</span></span></span><span> </span><span id="local-6989586621681317185"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317185"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(Modulus -&gt; Modulus) -&gt; Modulus -&gt; Modulus
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317185"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317185"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317185"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-982"></span><span>   </span><span id="local-6989586621681317194"><span class="annot"><span class="annottext">atanh :: Modulus -&gt; Modulus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">atanh</span></span></span><span> </span><span id="local-6989586621681317195"><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317195"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317195"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Modulus
</span><a href="#local-6989586621681317195"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Modulus -&gt; Modulus -&gt; Modulus
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Modulus
</span><span class="hs-number">2</span></span><span>
</span><span id="line-983"></span><span>
</span><span id="line-984"></span><span> </span><span class="hs-comment">-- | this computes partial derivates of the scalar-value 2D vector field</span><span>
</span><span id="line-985"></span><span> </span><span class="hs-comment">-- along both variables simultaneously.</span><span>
</span><span id="line-986"></span><span> </span><span id="local-6989586621681314619"><span id="local-6989586621681314620"><span class="annot"><a href="Math.Number.Real.html#del_vector2"><span class="hs-identifier hs-type">del_vector2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314619"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314620"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Vector2.html#Vector2"><span class="hs-identifier hs-type">Vector2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314620"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681314620"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Matrix.Vector2.html#Vector2"><span class="hs-identifier hs-type">Vector2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314620"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Matrix.Vector2.html#Vector2"><span class="hs-identifier hs-type">Vector2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314619"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681314620"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-987"></span><span> </span><span id="del_vector2"><span class="annot"><span class="annottext">del_vector2 :: forall (str :: * -&gt; *) a.
Infinitesimal str a =&gt;
(Vector2 a -&gt; a) -&gt; Vector2 a -&gt; Vector2 (Closure str a)
</span><a href="Math.Number.Real.html#del_vector2"><span class="hs-identifier hs-var hs-var">del_vector2</span></a></span></span><span> </span><span id="local-6989586621681317200"><span class="annot"><span class="annottext">Vector2 a -&gt; a
</span><a href="#local-6989586621681317200"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Vector2.html#Vector2"><span class="hs-identifier hs-type">Vector2</span></a></span><span> </span><span id="local-6989586621681317202"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681317202"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681317203"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681317203"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure str a -&gt; Closure str a -&gt; Vector2 (Closure str a)
forall s. s -&gt; s -&gt; Vector2 s
</span><a href="Math.Matrix.Vector2.html#Vector2"><span class="hs-identifier hs-var">Vector2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; a -&gt; a -&gt; Closure str a
forall (str :: * -&gt; *) a b.
Infinitesimal str a =&gt;
(a -&gt; b -&gt; a) -&gt; a -&gt; b -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#partialDerivate1_2"><span class="hs-identifier hs-var">partialDerivate1_2</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621681317204"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681317202"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681317203"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-988"></span><span>                                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; a -&gt; a -&gt; Closure str a
forall (str :: * -&gt; *) a b.
Infinitesimal str a =&gt;
(b -&gt; a -&gt; a) -&gt; b -&gt; a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#partialDerivate2_2"><span class="hs-identifier hs-var">partialDerivate2_2</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621681317204"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681317202"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681317203"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-989"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681317204"><span class="annot"><span class="annottext">ff :: a -&gt; a -&gt; a
</span><a href="#local-6989586621681317204"><span class="hs-identifier hs-var hs-var">ff</span></a></span></span><span> </span><span id="local-6989586621681317205"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681317205"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681317206"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681317206"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Vector2 a -&gt; a
</span><a href="#local-6989586621681317200"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; Vector2 a
forall s. s -&gt; s -&gt; Vector2 s
</span><a href="Math.Matrix.Vector2.html#Vector2"><span class="hs-identifier hs-var">Vector2</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681317205"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681317206"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-990"></span><span>
</span><span id="line-991"></span></pre></body></html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span> </span><span class="hs-pragma">{-# LANGUAGE Safe, TypeFamilies, FlexibleInstances, ScopedTypeVariables #-}</span><span>
</span><span id="line-2"></span><span> </span><span class="hs-pragma">{-# LANGUAGE TypeOperators, DataKinds, UndecidableInstances #-}</span><span>
</span><span id="line-3"></span><span> </span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses, FlexibleContexts, GADTs #-}</span><span>
</span><span id="line-4"></span><span> </span><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><span id="line-5"></span><span> </span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Math.Number.R</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-6"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier">R</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier">Limit</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#lim"><span class="hs-identifier">lim</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#real"><span class="hs-identifier">real</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#approximate"><span class="hs-identifier">approximate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#rationalApproximations"><span class="hs-identifier">rationalApproximations</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#average"><span class="hs-identifier">average</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>  </span><span class="annot"><a href="Math.Number.Interface.html#floatingApproximations"><span class="hs-identifier">floatingApproximations</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#epsilon"><span class="hs-identifier">epsilon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#infiniteR"><span class="hs-identifier">infiniteR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#liftR"><span class="hs-identifier">liftR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#derivateGenericStream"><span class="hs-identifier">derivateGenericStream</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#liftR2"><span class="hs-identifier">liftR2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#inverseImage"><span class="hs-identifier">inverseImage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#liftWithAccuracy"><span class="hs-identifier">liftWithAccuracy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#approximateAs"><span class="hs-identifier">approximateAs</span></a></span><span class="hs-special">,</span><span> </span><span>
</span><span id="line-9"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#limitCompose"><span class="hs-identifier">limitCompose</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#inverseImageEndo"><span class="hs-identifier">inverseImageEndo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#differentialLiftR"><span class="hs-identifier">differentialLiftR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#derivateRational"><span class="hs-identifier">derivateRational</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#derivateR"><span class="hs-identifier">derivateR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#newtonsMethodR"><span class="hs-identifier">newtonsMethodR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#sqrtR"><span class="hs-identifier">sqrtR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#logByNewton"><span class="hs-identifier">logByNewton</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#expR"><span class="hs-identifier">expR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#piR"><span class="hs-identifier">piR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#logR"><span class="hs-identifier">logR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#integralR"><span class="hs-identifier">integralR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#foldableIntegral"><span class="hs-identifier">foldableIntegral</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#foldableSimpleIntegral"><span class="hs-identifier">foldableSimpleIntegral</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#integralAccuracy"><span class="hs-identifier">integralAccuracy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#asinR"><span class="hs-identifier">asinR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#acosR"><span class="hs-identifier">acosR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#atanR"><span class="hs-identifier">atanR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#sinBySeries"><span class="hs-identifier">sinBySeries</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#inverseOfR"><span class="hs-identifier">inverseOfR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#cosBySeries"><span class="hs-identifier">cosBySeries</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#gammaR"><span class="hs-identifier">gammaR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#lubR"><span class="hs-identifier">lubR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#glbR"><span class="hs-identifier">glbR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#computableR"><span class="hs-identifier">computableR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#unsafeRealToRational"><span class="hs-identifier">unsafeRealToRational</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#floorR"><span class="hs-identifier">floorR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#ceilingR"><span class="hs-identifier">ceilingR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#roundR"><span class="hs-identifier">roundR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#truncateR"><span class="hs-identifier">truncateR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#properFractionR"><span class="hs-identifier">properFractionR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#approximatelyLessThanOrEqualR"><span class="hs-identifier">approximatelyLessThanOrEqualR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#approximatelyLessThanR"><span class="hs-identifier">approximatelyLessThanR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#approximatelyGreaterThanOrEqualR"><span class="hs-identifier">approximatelyGreaterThanOrEqualR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#approximatelyGreaterThanR"><span class="hs-identifier">approximatelyGreaterThanR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#approximatelyEqualToR"><span class="hs-identifier">approximatelyEqualToR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#maxR"><span class="hs-identifier">maxR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#minR"><span class="hs-identifier">minR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#realToFloat"><span class="hs-identifier">realToFloat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#realToDouble"><span class="hs-identifier">realToDouble</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier">Limited</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#supremum"><span class="hs-identifier">supremum</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#infinum"><span class="hs-identifier">infinum</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#boundedApproximations"><span class="hs-identifier">boundedApproximations</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#upperBounds"><span class="hs-identifier">upperBounds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#lowerBounds"><span class="hs-identifier">lowerBounds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#piByIntegration"><span class="hs-identifier">piByIntegration</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#integralAccuracySimple"><span class="hs-identifier">integralAccuracySimple</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#asinBySeries"><span class="hs-identifier">asinBySeries</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#acosBySeries"><span class="hs-identifier">acosBySeries</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#integrateRationalR"><span class="hs-identifier">integrateRationalR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#integrateRealR"><span class="hs-identifier">integrateRealR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#atanBySeries"><span class="hs-identifier">atanBySeries</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#errorFunctionR"><span class="hs-identifier">errorFunctionR</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-22"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>
</span><span id="line-23"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>
</span><span id="line-24"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Char</span></span><span>
</span><span id="line-25"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Ratio</span></span><span>
</span><span id="line-26"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Monoid</span></span><span>
</span><span id="line-27"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Complex</span></span><span>
</span><span id="line-28"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Type.Equality</span></span><span>
</span><span id="line-29"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.PrettyP.html"><span class="hs-identifier">Math.Tools.PrettyP</span></a></span><span>
</span><span id="line-30"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Matrix.Covector.html"><span class="hs-identifier">Math.Matrix.Covector</span></a></span><span>
</span><span id="line-31"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html"><span class="hs-identifier">Math.Matrix.Interface</span></a></span><span>
</span><span id="line-32"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html"><span class="hs-identifier">Math.Number.StreamInterface</span></a></span><span>
</span><span id="line-33"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Median.html"><span class="hs-identifier">Math.Tools.Median</span></a></span><span>
</span><span id="line-34"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Number.Interface.html"><span class="hs-identifier">Math.Number.Interface</span></a></span><span>
</span><span id="line-35"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Number.Stream.html"><span class="hs-identifier">Math.Number.Stream</span></a></span><span>
</span><span id="line-36"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Fix</span></span><span>
</span><span id="line-37"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-38"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span>
</span><span id="line-40"></span><span> </span><span>
</span><span id="line-41"></span><span> </span><span class="annot"><span class="hs-comment">-- | This real representation takes 'epsilon' as input as in epsilon-delta proof.</span></span><span>
</span><span id="line-42"></span><span> </span><span class="hs-keyword">newtype</span><span> </span><span id="R"><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-var">R</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Limit"><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="approximate_endo"><span class="annot"><span class="annottext">R -&gt; Endo Rational
</span><a href="Math.Number.R.html#approximate_endo"><span class="hs-identifier hs-var hs-var">approximate_endo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span> </span><span class="hs-comment">-- | this realToRational operation sets precision \(\epsilon\) to 0 and produces</span><span>
</span><span id="line-46"></span><span> </span><span class="hs-comment">-- corresponding rational number.</span><span>
</span><span id="line-47"></span><span> </span><span class="hs-comment">-- Many algorithms for reals will go to infinite loop, if this is used,</span><span>
</span><span id="line-48"></span><span> </span><span class="hs-comment">-- or produce divide-by-zero. In particular, this is expected for irrationals.</span><span>
</span><span id="line-49"></span><span> </span><span class="hs-comment">-- if rational number is produced, it's exact.</span><span>
</span><span id="line-50"></span><span> </span><span class="hs-comment">-- However, computations on rational numbers, where real number was created</span><span>
</span><span id="line-51"></span><span> </span><span class="hs-comment">-- using fromRational, will produce that rational. It also allows operations</span><span>
</span><span id="line-52"></span><span> </span><span class="hs-comment">-- lifted from rationals to work, producing the result you'd obtain from</span><span>
</span><span id="line-53"></span><span> </span><span class="hs-comment">-- rational numbers.</span><span>
</span><span id="line-54"></span><span> </span><span class="annot"><a href="Math.Number.R.html#unsafeRealToRational"><span class="hs-identifier hs-type">unsafeRealToRational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-55"></span><span> </span><span id="unsafeRealToRational"><span class="annot"><span class="annottext">unsafeRealToRational :: R -&gt; Rational
</span><a href="Math.Number.R.html#unsafeRealToRational"><span class="hs-identifier hs-var hs-var">unsafeRealToRational</span></a></span></span><span> </span><span id="local-6989586621681263038"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263038"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263038"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span> </span><span id="local-6989586621681262494"><span class="annot"><a href="Math.Number.R.html#floorR"><span class="hs-identifier hs-type">floorR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681262494"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262494"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-58"></span><span> </span><span id="floorR"><span class="annot"><span class="annottext">floorR :: forall b. Integral b =&gt; R -&gt; b
</span><a href="Math.Number.R.html#floorR"><span class="hs-identifier hs-var hs-var">floorR</span></a></span></span><span> </span><span id="local-6989586621681263044"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263044"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; b
forall b. Integral b =&gt; Rational -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">floor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263044"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span> </span><span id="local-6989586621681263046"><span class="annot"><a href="Math.Number.R.html#truncateR"><span class="hs-identifier hs-type">truncateR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681263046"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681263046"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-61"></span><span> </span><span id="truncateR"><span class="annot"><span class="annottext">truncateR :: forall b. Integral b =&gt; R -&gt; b
</span><a href="Math.Number.R.html#truncateR"><span class="hs-identifier hs-var hs-var">truncateR</span></a></span></span><span> </span><span id="local-6989586621681263051"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263051"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; b
forall b. Integral b =&gt; Rational -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">truncate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263051"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span> </span><span id="local-6989586621681263053"><span class="annot"><a href="Math.Number.R.html#roundR"><span class="hs-identifier hs-type">roundR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681263053"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681263053"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-64"></span><span> </span><span id="roundR"><span class="annot"><span class="annottext">roundR :: forall b. Integral b =&gt; R -&gt; b
</span><a href="Math.Number.R.html#roundR"><span class="hs-identifier hs-var hs-var">roundR</span></a></span></span><span> </span><span id="local-6989586621681263060"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263060"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; b
forall b. Integral b =&gt; Rational -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">round</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263060"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span> </span><span id="local-6989586621681263063"><span class="annot"><a href="Math.Number.R.html#ceilingR"><span class="hs-identifier hs-type">ceilingR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681263063"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681263063"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-67"></span><span> </span><span id="ceilingR"><span class="annot"><span class="annottext">ceilingR :: forall b. Integral b =&gt; R -&gt; b
</span><a href="Math.Number.R.html#ceilingR"><span class="hs-identifier hs-var hs-var">ceilingR</span></a></span></span><span> </span><span id="local-6989586621681263070"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263070"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; b
forall b. Integral b =&gt; Rational -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">ceiling</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263070"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span> </span><span id="local-6989586621681262503"><span class="annot"><a href="Math.Number.R.html#properFractionR"><span class="hs-identifier hs-type">properFractionR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681262503"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681262503"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-70"></span><span> </span><span id="properFractionR"><span class="annot"><span class="annottext">properFractionR :: forall b. Integral b =&gt; R -&gt; (b, R)
</span><a href="Math.Number.R.html#properFractionR"><span class="hs-identifier hs-var hs-var">properFractionR</span></a></span></span><span> </span><span id="local-6989586621681263077"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263077"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681263078"><span class="annot"><span class="annottext">res :: b
</span><a href="#local-6989586621681263078"><span class="hs-identifier hs-var hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; b
forall b. Integral b =&gt; R -&gt; b
</span><a href="Math.Number.R.html#floorR"><span class="hs-identifier hs-var">floorR</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263077"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681263078"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263077"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; R
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681263078"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-comment">-- Can't implement Real or RealFrac, because (Ord R) is not available.</span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-comment">-- instance Real R where</span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-comment">--    toRational = unsafeRealToRational</span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-comment">-- instance RealFrac R where</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-comment">--    properFraction = properFraction_r</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-comment">--    truncate = truncate_r</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-comment">--    round = round_r</span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-comment">--    ceiling = ceiling_r</span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-comment">--    floor = floor_r</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximatelyLessThanOrEqualR"><span class="hs-identifier hs-type">approximatelyLessThanOrEqualR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-85"></span><span> </span><span id="approximatelyLessThanOrEqualR"><span class="annot"><span class="annottext">approximatelyLessThanOrEqualR :: Rational -&gt; R -&gt; R -&gt; Bool
</span><a href="Math.Number.R.html#approximatelyLessThanOrEqualR"><span class="hs-identifier hs-var hs-var">approximatelyLessThanOrEqualR</span></a></span></span><span> </span><span id="local-6989586621681263079"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263079"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681263080"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263080"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681263081"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263081"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263081"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263080"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263079"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263079"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximatelyLessThanR"><span class="hs-identifier hs-type">approximatelyLessThanR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-88"></span><span> </span><span id="approximatelyLessThanR"><span class="annot"><span class="annottext">approximatelyLessThanR :: Rational -&gt; R -&gt; R -&gt; Bool
</span><a href="Math.Number.R.html#approximatelyLessThanR"><span class="hs-identifier hs-var hs-var">approximatelyLessThanR</span></a></span></span><span> </span><span id="local-6989586621681263084"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263084"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681263085"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263085"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681263086"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263086"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263085"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263086"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263084"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263084"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximatelyGreaterThanOrEqualR"><span class="hs-identifier hs-type">approximatelyGreaterThanOrEqualR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-91"></span><span> </span><span id="approximatelyGreaterThanOrEqualR"><span class="annot"><span class="annottext">approximatelyGreaterThanOrEqualR :: Rational -&gt; R -&gt; R -&gt; Bool
</span><a href="Math.Number.R.html#approximatelyGreaterThanOrEqualR"><span class="hs-identifier hs-var hs-var">approximatelyGreaterThanOrEqualR</span></a></span></span><span> </span><span id="local-6989586621681263088"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263088"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681263089"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263089"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681263090"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263090"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263090"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263089"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263088"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263088"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximatelyGreaterThanR"><span class="hs-identifier hs-type">approximatelyGreaterThanR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-94"></span><span> </span><span id="approximatelyGreaterThanR"><span class="annot"><span class="annottext">approximatelyGreaterThanR :: Rational -&gt; R -&gt; R -&gt; Bool
</span><a href="Math.Number.R.html#approximatelyGreaterThanR"><span class="hs-identifier hs-var hs-var">approximatelyGreaterThanR</span></a></span></span><span> </span><span id="local-6989586621681263091"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263091"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681263092"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263092"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681263093"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263093"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263092"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263093"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263091"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263091"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximatelyEqualToR"><span class="hs-identifier hs-type">approximatelyEqualToR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-97"></span><span> </span><span id="approximatelyEqualToR"><span class="annot"><span class="annottext">approximatelyEqualToR :: Rational -&gt; R -&gt; R -&gt; Bool
</span><a href="Math.Number.R.html#approximatelyEqualToR"><span class="hs-identifier hs-var hs-var">approximatelyEqualToR</span></a></span></span><span> </span><span id="local-6989586621681263094"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263094"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681263095"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263095"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681263096"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263096"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263095"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263096"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263094"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263094"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span> </span><span class="annot"><a href="Math.Number.R.html#average"><span class="hs-identifier hs-type">average</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-100"></span><span> </span><span id="average"><span class="annot"><span class="annottext">average :: R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#average"><span class="hs-identifier hs-var hs-var">average</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational) -&gt; R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-var">liftR2</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681263098"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263098"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681263099"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263099"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263098"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263099"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span> </span><span class="annot"><a href="Math.Number.R.html#maxR"><span class="hs-identifier hs-type">maxR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-103"></span><span> </span><span id="maxR"><span class="annot"><span class="annottext">maxR :: R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#maxR"><span class="hs-identifier hs-var hs-var">maxR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational) -&gt; R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-var">liftR2</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span>
</span><span id="line-104"></span><span> </span><span>
</span><span id="line-105"></span><span> </span><span class="annot"><a href="Math.Number.R.html#minR"><span class="hs-identifier hs-type">minR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-106"></span><span> </span><span id="minR"><span class="annot"><span class="annottext">minR :: R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#minR"><span class="hs-identifier hs-var hs-var">minR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational) -&gt; R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-var">liftR2</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span> </span><span class="hs-comment">-- | tricky stuff. We use the denominator from the rational to determine</span><span>
</span><span id="line-109"></span><span> </span><span class="hs-comment">-- what accuracy to use for comparison, then use rational comparison.</span><span>
</span><span id="line-110"></span><span> </span><span class="hs-comment">-- Notice that this doesn't really allow good control of precision</span><span>
</span><span id="line-111"></span><span> </span><span class="hs-comment">-- of computation, since rational numbers are normalized by default.</span><span>
</span><span id="line-112"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681263108"><span id="local-6989586621681263112"><span id="local-6989586621681263115"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-113"></span><span>   </span><span id="local-6989586621681263119"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263119"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681263120"><span class="annot"><span class="annottext">%&lt; :: Rational -&gt; R -&gt; Bool
</span><a href="#local-6989586621681263120"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681263122"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263122"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263119"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263122"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="Math.Number.R.html#epsRational"><span class="hs-identifier hs-var">epsRational</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263119"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>   </span><span id="local-6989586621681263125"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263125"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681263126"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Rational -&gt; Bool
</span><a href="#local-6989586621681263126"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681263128"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263128"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263125"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="Math.Number.R.html#epsRational"><span class="hs-identifier hs-var">epsRational</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263128"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263128"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span> </span><span class="annot"><a href="Math.Number.R.html#epsRational"><span class="hs-identifier hs-type">epsRational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-117"></span><span> </span><span id="epsRational"><span class="annot"><span class="annottext">epsRational :: Rational -&gt; Rational
</span><a href="Math.Number.R.html#epsRational"><span class="hs-identifier hs-var hs-var">epsRational</span></a></span></span><span> </span><span id="local-6989586621681263129"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263129"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263129"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681263137"><span id="local-6989586621681263141"><span id="local-6989586621681263144"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-120"></span><span>   </span><span id="local-6989586621681263148"><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681263148"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681263149"><span class="annot"><span class="annottext">%&lt; :: Float -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681263150"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263150"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681263148"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Float
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263150"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#epsFloat"><span class="hs-identifier hs-var">epsFloat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>   </span><span id="local-6989586621681263154"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263154"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681263155"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Float -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681263156"><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681263156"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Float
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263154"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#epsFloat"><span class="hs-identifier hs-var">epsFloat</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681263156"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-comment">-- closure_less_eq :: R -&gt; R -&gt; Closure Stream Bool</span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-comment">-- closure_less_eq x y = </span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span> </span><span class="annot"><a href="Math.Number.R.html#epsFloat"><span class="hs-identifier hs-type">epsFloat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-127"></span><span> </span><span id="epsFloat"><span class="annot"><span class="annottext">epsFloat :: Rational
</span><a href="Math.Number.R.html#epsFloat"><span class="hs-identifier hs-var hs-var">epsFloat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Float -&gt; Integer
forall a. RealFloat a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">floatRadix</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Float
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Int
forall a. RealFloat a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">floatDigits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Float
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span> </span><span class="annot"><a href="Math.Number.R.html#realToDouble"><span class="hs-identifier hs-type">realToDouble</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-130"></span><span> </span><span id="realToDouble"><span class="annot"><span class="annottext">realToDouble :: R -&gt; Double
</span><a href="Math.Number.R.html#realToDouble"><span class="hs-identifier hs-var hs-var">realToDouble</span></a></span></span><span> </span><span id="local-6989586621681263160"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263160"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263160"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#epsDouble"><span class="hs-identifier hs-var">epsDouble</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span> </span><span class="annot"><a href="Math.Number.R.html#realToFloat"><span class="hs-identifier hs-type">realToFloat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span>
</span><span id="line-133"></span><span> </span><span id="realToFloat"><span class="annot"><span class="annottext">realToFloat :: R -&gt; Float
</span><a href="Math.Number.R.html#realToFloat"><span class="hs-identifier hs-var hs-var">realToFloat</span></a></span></span><span> </span><span id="local-6989586621681263162"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263162"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Float
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263162"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#epsFloat"><span class="hs-identifier hs-var">epsFloat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681263169"><span id="local-6989586621681263173"><span id="local-6989586621681263176"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-136"></span><span>   </span><span id="local-6989586621681263180"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681263180"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681263181"><span class="annot"><span class="annottext">%&lt; :: Double -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681263182"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263182"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681263180"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263182"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#epsDouble"><span class="hs-identifier hs-var">epsDouble</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>   </span><span id="local-6989586621681263185"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263185"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681263186"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Double -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681263187"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681263187"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263185"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#epsDouble"><span class="hs-identifier hs-var">epsDouble</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681263187"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span> </span><span class="annot"><a href="Math.Number.R.html#epsDouble"><span class="hs-identifier hs-type">epsDouble</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-140"></span><span> </span><span id="epsDouble"><span class="annot"><span class="annottext">epsDouble :: Rational
</span><a href="Math.Number.R.html#epsDouble"><span class="hs-identifier hs-var hs-var">epsDouble</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Integer
forall a. RealFloat a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">floatRadix</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Int
forall a. RealFloat a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">floatDigits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681263194"><span id="local-6989586621681263198"><span id="local-6989586621681263201"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-143"></span><span>   </span><span id="local-6989586621681263206"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681263206"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681263207"><span class="annot"><span class="annottext">%&lt; :: Int -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681263208"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263208"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681263206"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263208"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-144"></span><span>   </span><span id="local-6989586621681263212"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263212"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681263213"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Int -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681263214"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681263214"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263212"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681263214"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681263220"><span id="local-6989586621681263224"><span id="local-6989586621681263227"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>   </span><span id="local-6989586621681263232"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263232"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681263233"><span class="annot"><span class="annottext">%&lt; :: Integer -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681263234"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263234"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263232"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263234"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-148"></span><span>   </span><span id="local-6989586621681263238"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263238"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681263239"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Integer -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681263240"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263240"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263238"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263240"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681263247"><span id="local-6989586621681263251"><span id="local-6989586621681263254"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-151"></span><span>   </span><span id="local-6989586621681263260"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681263260"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681263261"><span class="annot"><span class="annottext">%&lt; :: Word -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681263262"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263262"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681263260"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263262"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-152"></span><span>   </span><span id="local-6989586621681263266"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263266"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681263267"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Word -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681263268"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681263268"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263266"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681263268"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="Closure"><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-var">Closure</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RQClosure"><span class="annot"><a href="Math.Number.R.html#RQClosure"><span class="hs-identifier hs-var">RQClosure</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runRQClosure"><span class="annot"><span class="annottext">Closure ((-&gt;) Rational) R -&gt; R
</span><a href="Math.Number.R.html#runRQClosure"><span class="hs-identifier hs-var hs-var">runRQClosure</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-156"></span><span>    </span><span id="local-6989586621681263290"><span class="annot"><span class="annottext">limit :: (Rational -&gt; R) -&gt; Closure ((-&gt;) Rational) R
</span><a href="#local-6989586621681263290"><span class="hs-identifier hs-var hs-var hs-var hs-var">limit</span></a></span></span><span> </span><span id="local-6989586621681263292"><span class="annot"><span class="annottext">Rational -&gt; R
</span><a href="#local-6989586621681263292"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure ((-&gt;) Rational) R
</span><a href="Math.Number.R.html#RQClosure"><span class="hs-identifier hs-var">RQClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure ((-&gt;) Rational) R) -&gt; R -&gt; Closure ((-&gt;) Rational) R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263293"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263293"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-157"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263294"><span class="annot"><span class="annottext">eps' :: Rational
</span><a href="#local-6989586621681263294"><span class="hs-identifier hs-var hs-var">eps'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263293"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span>
</span><span id="line-158"></span><span>       </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; R
</span><a href="#local-6989586621681263292"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263293"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263293"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
</span><a href="#local-6989586621681263292"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263294"><span class="hs-identifier hs-var">eps'</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263294"><span class="hs-identifier hs-var">eps'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263293"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-159"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
</span><a href="#local-6989586621681263292"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263294"><span class="hs-identifier hs-var">eps'</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263294"><span class="hs-identifier hs-var">eps'</span></a></span><span>
</span><span id="line-160"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Closure ((-&gt;) Rational) R -&gt; R
</span><a href="Math.Number.R.html#runRQClosure"><span class="hs-identifier hs-var">runRQClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Rational -&gt; R) -&gt; Closure ((-&gt;) Rational) R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
</span><a href="#local-6989586621681263292"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263294"><span class="hs-identifier hs-var">eps'</span></a></span><span>
</span><span id="line-161"></span><span>    </span><span id="local-6989586621681263296"><span class="annot"><span class="annottext">approximations :: Closure ((-&gt;) Rational) R -&gt; Rational -&gt; R
</span><a href="#local-6989586621681263296"><span class="hs-identifier hs-var hs-var hs-var hs-var">approximations</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RQClosure"><span class="hs-identifier hs-type">RQClosure</span></a></span><span> </span><span id="local-6989586621681263298"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263298"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263299"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263299"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263300"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263300"><span class="hs-identifier hs-var">eps'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263298"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263299"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263300"><span class="hs-identifier hs-var">eps'</span></a></span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#StreamBuilder"><span class="hs-identifier hs-type">StreamBuilder</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-164"></span><span>    </span><span id="local-6989586621681263310"><span class="annot"><span class="annottext">pre :: forall a. a -&gt; (Rational -&gt; a) -&gt; Rational -&gt; a
</span><a href="#local-6989586621681263310"><span class="hs-identifier hs-var hs-var hs-var hs-var">pre</span></a></span></span><span> </span><span id="local-6989586621681263312"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263312"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681263313"><span class="annot"><span class="annottext">Rational -&gt; a
</span><a href="#local-6989586621681263313"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263314"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263314"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263314"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263312"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; a
</span><a href="#local-6989586621681263313"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263314"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#StreamObserver"><span class="hs-identifier hs-type">StreamObserver</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-167"></span><span>    </span><span id="local-6989586621681263324"><span class="annot"><span class="annottext">shead :: forall a. (Rational -&gt; a) -&gt; a
</span><a href="#local-6989586621681263324"><span class="hs-identifier hs-var hs-var hs-var hs-var">shead</span></a></span></span><span> </span><span id="local-6989586621681263326"><span class="annot"><span class="annottext">Rational -&gt; a
</span><a href="#local-6989586621681263326"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; a
</span><a href="#local-6989586621681263326"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>    </span><span id="local-6989586621681263329"><span class="annot"><span class="annottext">stail :: forall a. (Rational -&gt; a) -&gt; Rational -&gt; a
</span><a href="#local-6989586621681263329"><span class="hs-identifier hs-var hs-var hs-var hs-var">stail</span></a></span></span><span> </span><span id="local-6989586621681263331"><span class="annot"><span class="annottext">Rational -&gt; a
</span><a href="#local-6989586621681263331"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263332"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263332"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; a
</span><a href="#local-6989586621681263331"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263332"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="Closure"><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-var">Closure</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RClosure"><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runRClosure"><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.R.html#runRClosure"><span class="hs-identifier hs-var hs-var">runRClosure</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-172"></span><span>    </span><span id="local-6989586621681263348"><span class="annot"><span class="annottext">limit :: Stream R -&gt; Closure Stream R
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var hs-var hs-var hs-var">limit</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681263350"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263350"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">~</span><span id="local-6989586621681263351"><span class="annot"><span class="annottext">z :: Stream R
</span><a href="#local-6989586621681263351"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681263352"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263352"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263353"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263353"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-173"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263352"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263353"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263350"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263353"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263353"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-174"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263352"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263353"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-175"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.R.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681263351"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263353"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-176"></span><span>    </span><span id="local-6989586621681263360"><span class="annot"><span class="annottext">approximations :: Closure Stream R -&gt; Stream R
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var hs-var hs-var hs-var">approximations</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681263361"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263361"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; R) -&gt; Stream Rational -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
</span><a href="#local-6989586621681263362"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream R) -&gt; Stream Rational -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational
forall a. Fractional a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power"><span class="hs-identifier hs-var">power</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-177"></span><span>       </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681263362"><span class="annot"><span class="annottext">f :: Rational -&gt; R
</span><a href="#local-6989586621681263362"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681263364"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263364"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263365"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263365"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263361"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263364"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263365"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-180"></span><span>    </span><span id="local-6989586621681263371"><span class="annot"><span class="annottext">conj :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263371"><span class="hs-identifier hs-var hs-var hs-var hs-var">conj</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681263373"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263373"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall m. ConjugateSymmetric m =&gt; m -&gt; m
</span><a href="Math.Matrix.Interface.html#conj"><span class="hs-identifier hs-var">conj</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263373"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>  </span><span>
</span><span id="line-182"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681263379"><span id="local-6989586621681263383"><span id="local-6989586621681263386"><span id="local-6989586621681263389"><span id="local-6989586621681263393"><span id="local-6989586621681263396"><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-183"></span><span>   </span><span id="local-6989586621681263404"><span class="annot"><span class="annottext">epsilonStream :: Stream R
</span><a href="#local-6989586621681263404"><span class="hs-identifier hs-var hs-var hs-var hs-var">epsilonStream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream R -&gt; Stream R
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1.0</span></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0.1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream R
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; str a
</span><a href="Math.Number.StreamInterface.html#epsilonStream"><span class="hs-identifier hs-var">epsilonStream</span></a></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-186"></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681263415"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263415"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681263416"><span class="annot"><span class="annottext">/ :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">/</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681263417"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263417"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263415"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263417"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>   </span><span id="local-6989586621681263419"><span class="annot"><span class="annottext">recip :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263419"><span class="hs-identifier hs-var hs-var hs-var hs-var">recip</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681263421"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263421"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263421"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>   </span><span id="local-6989586621681263423"><span class="annot"><span class="annottext">fromRational :: Rational -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromRational</span></span></span><span> </span><span id="local-6989586621681263424"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263424"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263424"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span> </span><span>
</span><span id="line-190"></span><span> </span><span class="annot"><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-type">liftRClosure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-191"></span><span> </span><span id="liftRClosure"><span class="annot"><span class="annottext">liftRClosure :: (R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var hs-var">liftRClosure</span></a></span></span><span> </span><span id="local-6989586621681263426"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681263426"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681263427"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263427"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681263426"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263427"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>  </span><span>
</span><span id="line-193"></span><span> </span><span class="annot"><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-type">liftRClosure2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-194"></span><span> </span><span id="liftRClosure2"><span class="annot"><span class="annottext">liftRClosure2 :: (R -&gt; R -&gt; R)
-&gt; Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-var hs-var">liftRClosure2</span></a></span></span><span> </span><span id="local-6989586621681263429"><span class="annot"><span class="annottext">R -&gt; R -&gt; R
</span><a href="#local-6989586621681263429"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681263430"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263430"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681263431"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263431"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
</span><a href="#local-6989586621681263429"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263430"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263431"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span> </span><span>
</span><span id="line-196"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681263453"><span id="local-6989586621681263457"><span id="local-6989586621681263460"><span id="local-6989586621681263463"><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-197"></span><span>   </span><span id="local-6989586621681263467"><span class="annot"><span class="annottext">pi :: Closure Stream R
</span><a href="#local-6989586621681263467"><span class="hs-identifier hs-var hs-var hs-var hs-var">pi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R
forall a. Floating a =&gt; a
</span><span class="hs-identifier hs-var">pi</span></span><span>
</span><span id="line-198"></span><span>   </span><span id="local-6989586621681263470"><span class="annot"><span class="annottext">exp :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263470"><span class="hs-identifier hs-var hs-var hs-var hs-var">exp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span>
</span><span id="line-199"></span><span>   </span><span id="local-6989586621681263473"><span class="annot"><span class="annottext">log :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263473"><span class="hs-identifier hs-var hs-var hs-var hs-var">log</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span>
</span><span id="line-200"></span><span>   </span><span id="local-6989586621681263476"><span class="annot"><span class="annottext">sqrt :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263476"><span class="hs-identifier hs-var hs-var hs-var hs-var">sqrt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span>
</span><span id="line-201"></span><span>   </span><span id="local-6989586621681263479"><span class="annot"><span class="annottext">** :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263479"><span class="hs-operator hs-var hs-var hs-var hs-var">(**)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R)
-&gt; Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-var">liftRClosure2</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(**)</span></span><span>
</span><span id="line-202"></span><span>   </span><span id="local-6989586621681263482"><span class="annot"><span class="annottext">logBase :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263482"><span class="hs-identifier hs-var hs-var hs-var hs-var">logBase</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R)
-&gt; Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-var">liftRClosure2</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">logBase</span></span><span>
</span><span id="line-203"></span><span>   </span><span id="local-6989586621681263485"><span class="annot"><span class="annottext">sin :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263485"><span class="hs-identifier hs-var hs-var hs-var hs-var">sin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span>
</span><span id="line-204"></span><span>   </span><span id="local-6989586621681263488"><span class="annot"><span class="annottext">cos :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263488"><span class="hs-identifier hs-var hs-var hs-var hs-var">cos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span>
</span><span id="line-205"></span><span>   </span><span id="local-6989586621681263491"><span class="annot"><span class="annottext">tan :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263491"><span class="hs-identifier hs-var hs-var hs-var hs-var">tan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tan</span></span><span>
</span><span id="line-206"></span><span>   </span><span id="local-6989586621681263494"><span class="annot"><span class="annottext">asin :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263494"><span class="hs-identifier hs-var hs-var hs-var hs-var">asin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asin</span></span><span>
</span><span id="line-207"></span><span>   </span><span id="local-6989586621681263497"><span class="annot"><span class="annottext">acos :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263497"><span class="hs-identifier hs-var hs-var hs-var hs-var">acos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acos</span></span><span>
</span><span id="line-208"></span><span>   </span><span id="local-6989586621681263500"><span class="annot"><span class="annottext">atan :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263500"><span class="hs-identifier hs-var hs-var hs-var hs-var">atan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atan</span></span><span>
</span><span id="line-209"></span><span>   </span><span id="local-6989586621681263503"><span class="annot"><span class="annottext">sinh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263503"><span class="hs-identifier hs-var hs-var hs-var hs-var">sinh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span>
</span><span id="line-210"></span><span>   </span><span id="local-6989586621681263506"><span class="annot"><span class="annottext">cosh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263506"><span class="hs-identifier hs-var hs-var hs-var hs-var">cosh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span>
</span><span id="line-211"></span><span>   </span><span id="local-6989586621681263509"><span class="annot"><span class="annottext">tanh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263509"><span class="hs-identifier hs-var hs-var hs-var hs-var">tanh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tanh</span></span><span>
</span><span id="line-212"></span><span>   </span><span id="local-6989586621681263512"><span class="annot"><span class="annottext">asinh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263512"><span class="hs-identifier hs-var hs-var hs-var hs-var">asinh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asinh</span></span><span>
</span><span id="line-213"></span><span>   </span><span id="local-6989586621681263515"><span class="annot"><span class="annottext">acosh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263515"><span class="hs-identifier hs-var hs-var hs-var hs-var">acosh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acosh</span></span><span>
</span><span id="line-214"></span><span>   </span><span id="local-6989586621681263518"><span class="annot"><span class="annottext">atanh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263518"><span class="hs-identifier hs-var hs-var hs-var hs-var">atanh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atanh</span></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-217"></span><span>   </span><span id="local-6989586621681263529"><span class="annot"><span class="annottext">+ :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(+)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R)
-&gt; Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-var">liftRClosure2</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span>
</span><span id="line-218"></span><span>   </span><span id="local-6989586621681263531"><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R)
-&gt; Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-var">liftRClosure2</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>   </span><span id="local-6989586621681263533"><span class="annot"><span class="annottext">* :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(*)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R)
-&gt; Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-var">liftRClosure2</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span>
</span><span id="line-220"></span><span>   </span><span id="local-6989586621681263535"><span class="annot"><span class="annottext">abs :: Closure Stream R -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">abs</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span>
</span><span id="line-221"></span><span>   </span><span id="local-6989586621681263537"><span class="annot"><span class="annottext">signum :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681263537"><span class="hs-identifier hs-var hs-var hs-var hs-var">signum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span>
</span><span id="line-222"></span><span>   </span><span id="local-6989586621681263540"><span class="annot"><span class="annottext">negate :: Closure Stream R -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">negate</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span>
</span><span id="line-223"></span><span>   </span><span id="local-6989586621681263542"><span class="annot"><span class="annottext">fromInteger :: Integer -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromInteger</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263543"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263543"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; R
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263543"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Infinitary"><span class="hs-identifier hs-type">Infinitary</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-226"></span><span>    </span><span id="local-6989586621681263549"><span class="annot"><span class="annottext">infinite :: Closure Stream R
</span><a href="#local-6989586621681263549"><span class="hs-identifier hs-var hs-var hs-var hs-var">infinite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R
forall a. Infinitary a =&gt; a
</span><a href="Math.Number.Interface.html#infinite"><span class="hs-identifier hs-var">infinite</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bounded</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-229"></span><span>    </span><span id="local-6989586621681263557"><span class="annot"><span class="annottext">minBound :: R
</span><a href="#local-6989586621681263557"><span class="hs-identifier hs-var hs-var hs-var hs-var">minBound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
forall a. Infinitary a =&gt; a
</span><a href="Math.Number.Interface.html#infinite"><span class="hs-identifier hs-var">infinite</span></a></span><span>
</span><span id="line-230"></span><span>    </span><span id="local-6989586621681263560"><span class="annot"><span class="annottext">maxBound :: R
</span><a href="#local-6989586621681263560"><span class="hs-identifier hs-var hs-var hs-var hs-var">maxBound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
forall a. Infinitary a =&gt; a
</span><a href="Math.Number.Interface.html#infinite"><span class="hs-identifier hs-var">infinite</span></a></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-233"></span><span>    </span><span id="local-6989586621681263566"><span class="annot"><span class="annottext">accumulationPoint :: Closure Stream R -&gt; R
</span><a href="#local-6989586621681263566"><span class="hs-identifier hs-var hs-var hs-var hs-var">accumulationPoint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.R.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span> </span><span class="annot"><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-type">lim</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-236"></span><span> </span><span id="lim"><span class="annot"><span class="annottext">lim :: Stream R -&gt; R
</span><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-var hs-var">lim</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.R.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R)
-&gt; (Stream R -&gt; Closure Stream R) -&gt; Stream R -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span> </span><span class="annot"><a href="Math.Number.R.html#real"><span class="hs-identifier hs-type">real</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-239"></span><span> </span><span id="real"><span class="annot"><span class="annottext">real :: (Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var hs-var">real</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; R
</span><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Endo Rational -&gt; R)
-&gt; ((Rational -&gt; Rational) -&gt; Endo Rational)
-&gt; (Rational -&gt; Rational)
-&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Endo Rational
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span> </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Math.Number.R.html#lim"><span class="hs-pragma hs-type">lim</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-242"></span><span> </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Math.Number.R.html#real"><span class="hs-pragma hs-type">real</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-243"></span><span> </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Math.Number.R.html#approximate"><span class="hs-pragma hs-type">approximate</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span> </span><span class="hs-comment">-- |</span><span>
</span><span id="line-246"></span><span> </span><span class="hs-comment">-- approximate takes a real \(r\), and a rational \(q\)</span><span>
</span><span id="line-247"></span><span> </span><span class="hs-comment">-- and produces a rational \(q_2\) such that \(|r - q_2| \le q\)</span><span>
</span><span id="line-248"></span><span> </span><span class="hs-comment">--</span><span>
</span><span id="line-249"></span><span> </span><span class="hs-comment">-- \(r_1 (r_2 q) = (r_1 r_2) q\), where \(r_1,r_2 \in {\mathbf{R}}\), \(q \in {\mathbf{Q}}\).</span><span>
</span><span id="line-250"></span><span> </span><span class="hs-comment">--</span><span>
</span><span id="line-251"></span><span> </span><span class="hs-comment">-- that is,</span><span>
</span><span id="line-252"></span><span> </span><span class="hs-comment">-- \[{\mathbf{approximate}}(r_1) \circ {\mathbf{approximate}}(r_2) = {\mathbf{approximate}}(r_1 r_2)\]</span><span>
</span><span id="line-253"></span><span> </span><span class="hs-comment">-- that is,</span><span>
</span><span id="line-254"></span><span> </span><span class="hs-comment">-- \[{\mathbf{approximate}}(r_1,{\mathbf{approximate}}(r_2,q)) = {\mathbf{approximate}}(r_1 r_2, q)\]</span><span>
</span><span id="line-255"></span><span> </span><span class="hs-comment">-- that is</span><span>
</span><span id="line-256"></span><span> </span><span class="hs-comment">-- \[{\mathbf{approximate}}(r_1,q_3)=q_2 \Leftrightarrow |r_1 - q_2| \le q_3\]</span><span>
</span><span id="line-257"></span><span> </span><span class="hs-comment">-- \[{\mathbf{approximate}}(r_2,q) =q_3 \Leftrightarrow |r_2 - q_3| \le q\]</span><span>
</span><span id="line-258"></span><span> </span><span class="hs-comment">-- \[{\mathbf{approximate}}(r_1 r_2, q)=q_2 \Leftrightarrow |r_1 r_2 - q_2| \le q\]</span><span>
</span><span id="line-259"></span><span> </span><span class="hs-comment">--  \[{\mathbf{approximate}}(r_1 r_2, q)={\mathbf{approximate}}(r_1,q_3)={\mathbf{approximate}}(r_1,{\mathbf{approximate}}(r_2,q))\]</span><span>
</span><span id="line-260"></span><span> </span><span class="hs-comment">--  \[\Leftrightarrow |r_1 - q_2| \le q_3 \land |r_2 - q_3| \le q\]</span><span>
</span><span id="line-261"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximate"><span class="hs-identifier hs-type">approximate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-262"></span><span> </span><span id="approximate"><span class="annot"><span class="annottext">approximate :: R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-identifier hs-var hs-var">approximate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">(Endo Rational -&gt; Rational -&gt; Rational)
-&gt; (R -&gt; Endo Rational) -&gt; R -&gt; Rational -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Endo Rational
</span><a href="Math.Number.R.html#approximate_endo"><span class="hs-identifier hs-var">approximate_endo</span></a></span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span> </span><span class="annot"><a href="Math.Number.R.html#rationalApproximationsR"><span class="hs-identifier hs-type">rationalApproximationsR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-265"></span><span> </span><span id="rationalApproximationsR"><span class="annot"><span class="annottext">rationalApproximationsR :: R -&gt; Stream Rational
</span><a href="Math.Number.R.html#rationalApproximationsR"><span class="hs-identifier hs-var hs-var">rationalApproximationsR</span></a></span></span><span> </span><span id="local-6989586621681263572"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263572"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263572"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational
forall a. Fractional a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power"><span class="hs-identifier hs-var">power</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Approximations"><span class="hs-identifier hs-type">Approximations</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-268"></span><span>    </span><span id="local-6989586621681263576"><span class="annot"><span class="annottext">floatingApproximations :: R -&gt; Stream Double
</span><a href="Math.Number.Interface.html#floatingApproximations"><span class="hs-identifier hs-var hs-var hs-var hs-var">floatingApproximations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Double
</span><a href="Math.Number.R.html#floatingApproximationsR"><span class="hs-identifier hs-var">floatingApproximationsR</span></a></span><span>
</span><span id="line-269"></span><span>    </span><span id="local-6989586621681263578"><span class="annot"><span class="annottext">rationalApproximations :: R -&gt; Stream Rational
</span><a href="Math.Number.Interface.html#rationalApproximations"><span class="hs-identifier hs-var hs-var hs-var hs-var">rationalApproximations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.R.html#rationalApproximationsR"><span class="hs-identifier hs-var">rationalApproximationsR</span></a></span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span> </span><span class="annot"><a href="Math.Number.R.html#floatingApproximationsR"><span class="hs-identifier hs-type">floatingApproximationsR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-272"></span><span> </span><span id="floatingApproximationsR"><span class="annot"><span class="annottext">floatingApproximationsR :: R -&gt; Stream Double
</span><a href="Math.Number.R.html#floatingApproximationsR"><span class="hs-identifier hs-var hs-var">floatingApproximationsR</span></a></span></span><span> </span><span id="local-6989586621681263579"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263579"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Double) -&gt; Stream Rational -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Double)
-&gt; Stream Rational -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
forall (str :: * -&gt; *) a. Approximations str a =&gt; a -&gt; str Rational
</span><a href="Math.Number.Interface.html#rationalApproximations"><span class="hs-identifier hs-var">rationalApproximations</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263579"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span> </span><span class="annot"><a href="Math.Number.R.html#displayPrecision"><span class="hs-identifier hs-type">displayPrecision</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-275"></span><span> </span><span id="displayPrecision"><span class="annot"><span class="annottext">displayPrecision :: Rational
</span><a href="Math.Number.R.html#displayPrecision"><span class="hs-identifier hs-var hs-var">displayPrecision</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10000000000</span></span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681263582"><span id="local-6989586621681263587"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-278"></span><span>    </span><span id="local-6989586621681263593"><span class="annot"><span class="annottext">show :: R -&gt; String
</span><a href="#local-6989586621681263593"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span id="local-6989586621681263595"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263595"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; String) -&gt; Double -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263595"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#displayPrecision"><span class="hs-identifier hs-var">displayPrecision</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Tools.PrettyP.html#PpShow"><span class="hs-identifier hs-type">PpShow</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-281"></span><span>    </span><span id="local-6989586621681263603"><span class="annot"><span class="annottext">pp :: R -&gt; Doc
</span><a href="#local-6989586621681263603"><span class="hs-identifier hs-var hs-var hs-var hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621681263605"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263605"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Doc
forall a. PpShow a =&gt; a -&gt; Doc
</span><a href="Math.Tools.PrettyP.html#pp"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Doc) -&gt; Double -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263605"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#displayPrecision"><span class="hs-identifier hs-var">displayPrecision</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#CompleteSpace"><span class="hs-identifier hs-type">CompleteSpace</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span> </span><span class="annot"><a href="Math.Number.R.html#gammaR"><span class="hs-identifier hs-type">gammaR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-286"></span><span> </span><span id="gammaR"><span class="annot"><span class="annottext">gammaR :: R -&gt; R
</span><a href="Math.Number.R.html#gammaR"><span class="hs-identifier hs-var hs-var">gammaR</span></a></span></span><span> </span><span id="local-6989586621681263608"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263608"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.R.html#epsilon"><span class="hs-identifier hs-var">epsilon</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263610"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263610"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263610"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263608"><span class="hs-identifier hs-var">z</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span> </span><span class="annot"><a href="Math.Number.R.html#epsilon"><span class="hs-identifier hs-type">epsilon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-289"></span><span> </span><span id="epsilon"><span class="annot"><span class="annottext">epsilon :: R
</span><a href="Math.Number.R.html#epsilon"><span class="hs-identifier hs-var hs-var">epsilon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span> </span><span class="annot"><a href="Math.Number.R.html#infiniteR"><span class="hs-identifier hs-type">infiniteR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-292"></span><span> </span><span id="infiniteR"><span class="annot"><span class="annottext">infiniteR :: R
</span><a href="Math.Number.R.html#infiniteR"><span class="hs-identifier hs-var hs-var">infiniteR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var">liftR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.R.html#epsilon"><span class="hs-identifier hs-var">epsilon</span></a></span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Infinitary"><span class="hs-identifier hs-type">Infinitary</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-295"></span><span>    </span><span id="local-6989586621681263613"><span class="annot"><span class="annottext">infinite :: R
</span><a href="Math.Number.Interface.html#infinite"><span class="hs-identifier hs-var hs-var hs-var hs-var">infinite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.R.html#infiniteR"><span class="hs-identifier hs-var">infiniteR</span></a></span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span> </span><span class="annot"><span class="hs-comment">-- | this propagates accuracy without changing it.</span></span><span>
</span><span id="line-298"></span><span> </span><span class="annot"><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-type">liftR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-299"></span><span> </span><span id="liftR"><span class="annot"><span class="annottext">liftR :: (Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var hs-var">liftR</span></a></span></span><span> </span><span id="local-6989586621681263614"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263614"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span id="local-6989586621681263615"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263615"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263614"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational)
-&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263615"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-300"></span><span>
</span><span id="line-301"></span><span> </span><span class="annot"><span class="hs-comment">-- | this propagates accuracy without changing it</span></span><span>
</span><span id="line-302"></span><span> </span><span class="annot"><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-type">liftR2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-303"></span><span> </span><span id="liftR2"><span class="annot"><span class="annottext">liftR2 :: (Rational -&gt; Rational -&gt; Rational) -&gt; R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-var hs-var">liftR2</span></a></span></span><span> </span><span id="local-6989586621681263616"><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681263616"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263617"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263617"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263618"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263618"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263619"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263619"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681263616"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263617"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263619"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263618"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263619"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>
</span><span id="line-305"></span><span> </span><span class="hs-comment">-- | For \(a,b \in {\mathbb Q}\) and \(0 \in (a,b) \) the invocation \(f(a)(b)\) of \(f\)</span><span>
</span><span id="line-306"></span><span> </span><span class="hs-comment">-- in \(computable\_r(f)\) must produce</span><span>
</span><span id="line-307"></span><span> </span><span class="hs-comment">-- approximation \(q\) of another real \(r\) as rational number, such that</span><span>
</span><span id="line-308"></span><span> </span><span class="hs-comment">-- \( r - q \in (a,b) \). </span><span>
</span><span id="line-309"></span><span> </span><span class="annot"><a href="Math.Number.R.html#computableR"><span class="hs-identifier hs-type">computableR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-310"></span><span> </span><span id="computableR"><span class="annot"><span class="annottext">computableR :: (Rational -&gt; Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#computableR"><span class="hs-identifier hs-var hs-var">computableR</span></a></span></span><span> </span><span id="local-6989586621681263620"><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681263620"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263621"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263621"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681263620"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263621"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263621"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span> </span><span class="annot"><span class="hs-comment">-- | inverseImage transforms accuracy computation of the real.</span></span><span>
</span><span id="line-313"></span><span> </span><span class="annot"><a href="Math.Number.R.html#inverseImage"><span class="hs-identifier hs-type">inverseImage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-314"></span><span> </span><span id="inverseImage"><span class="annot"><span class="annottext">inverseImage :: (Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#inverseImage"><span class="hs-identifier hs-var hs-var">inverseImage</span></a></span></span><span> </span><span id="local-6989586621681263622"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263622"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span id="local-6989586621681263623"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263623"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263623"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational)
-&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263622"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-315"></span><span>
</span><span id="line-316"></span><span> </span><span class="hs-comment">-- | The first argument is the function lifted. The second argument</span><span>
</span><span id="line-317"></span><span> </span><span class="hs-comment">-- describes change in accuracy by the function.</span><span>
</span><span id="line-318"></span><span> </span><span class="annot"><a href="Math.Number.R.html#liftWithAccuracy"><span class="hs-identifier hs-type">liftWithAccuracy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-319"></span><span> </span><span id="liftWithAccuracy"><span class="annot"><span class="annottext">liftWithAccuracy :: (Rational -&gt; Rational) -&gt; (Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftWithAccuracy"><span class="hs-identifier hs-var hs-var">liftWithAccuracy</span></a></span></span><span> </span><span id="local-6989586621681263624"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263624"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681263625"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263625"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263626"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263626"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var">liftR</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263624"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#inverseImage"><span class="hs-identifier hs-var">inverseImage</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263625"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263626"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span> </span><span class="hs-comment">-- | approxCompose will use the second real as the level</span><span>
</span><span id="line-322"></span><span> </span><span class="hs-comment">--   of approximation to compute the first.</span><span>
</span><span id="line-323"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximateAs"><span class="hs-identifier hs-type">approximateAs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-324"></span><span> </span><span id="approximateAs"><span class="annot"><span class="annottext">approximateAs :: R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#approximateAs"><span class="hs-identifier hs-var hs-var">approximateAs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263627"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263627"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263628"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263628"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; R
</span><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263627"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Endo Rational -&gt; Endo Rational
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263628"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span> </span><span class="annot"><a href="Math.Number.R.html#limitCompose"><span class="hs-identifier hs-type">limitCompose</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-327"></span><span> </span><span id="limitCompose"><span class="annot"><span class="annottext">limitCompose :: (Rational -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#limitCompose"><span class="hs-identifier hs-var hs-var">limitCompose</span></a></span></span><span>  </span><span id="local-6989586621681263629"><span class="annot"><span class="annottext">Rational -&gt; R
</span><a href="#local-6989586621681263629"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263630"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263630"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-328"></span><span>  </span><span class="hs-glyph">\</span><span id="local-6989586621681263631"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263631"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; Endo Rational
</span><a href="Math.Number.R.html#approximate_endo"><span class="hs-identifier hs-var">approximate_endo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; R
</span><a href="#local-6989586621681263629"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263630"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263631"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263631"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span> </span><span class="annot"><a href="Math.Number.R.html#inverseImageEndo"><span class="hs-identifier hs-type">inverseImageEndo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-332"></span><span> </span><span id="inverseImageEndo"><span class="annot"><span class="annottext">inverseImageEndo :: Endo Rational -&gt; Endo R
</span><a href="Math.Number.R.html#inverseImageEndo"><span class="hs-identifier hs-var hs-var">inverseImageEndo</span></a></span></span><span> </span><span id="local-6989586621681263632"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263632"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Endo R
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; Endo R) -&gt; (R -&gt; R) -&gt; Endo R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263633"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263633"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263632"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational)
-&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263633"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-333"></span><span>  </span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span> </span><span class="annot"><a href="Math.Number.R.html#lubR"><span class="hs-identifier hs-type">lubR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-336"></span><span> </span><span id="lubR"><span class="annot"><span class="annottext">lubR :: [R] -&gt; Maybe R
</span><a href="Math.Number.R.html#lubR"><span class="hs-identifier hs-var hs-var">lubR</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe R
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-337"></span><span> </span><span class="annot"><a href="Math.Number.R.html#lubR"><span class="hs-identifier hs-var">lubR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263634"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263634"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681263635"><span class="annot"><span class="annottext">[R]
</span><a href="#local-6989586621681263635"><span class="hs-identifier hs-var">cr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe R -&gt; (R -&gt; Maybe R) -&gt; Maybe R -&gt; Maybe R
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational -&gt; R
</span><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263634"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
</span><a href="#local-6989586621681263637"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[R] -&gt; Maybe R
</span><a href="Math.Number.R.html#lubR"><span class="hs-identifier hs-var">lubR</span></a></span><span> </span><span class="annot"><span class="annottext">[R]
</span><a href="#local-6989586621681263635"><span class="hs-identifier hs-var">cr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681263637"><span class="annot"><span class="annottext">f :: R -&gt; Maybe R
</span><a href="#local-6989586621681263637"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263638"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263638"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Maybe R) -&gt; R -&gt; Maybe R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263639"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263639"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-339"></span><span>               </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263638"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263639"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263634"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263639"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-340"></span><span> </span><span>
</span><span id="line-341"></span><span> </span><span class="annot"><a href="Math.Number.R.html#glbR"><span class="hs-identifier hs-type">glbR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-342"></span><span> </span><span id="glbR"><span class="annot"><span class="annottext">glbR :: [R] -&gt; Maybe R
</span><a href="Math.Number.R.html#glbR"><span class="hs-identifier hs-var hs-var">glbR</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe R
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-343"></span><span> </span><span class="annot"><a href="Math.Number.R.html#glbR"><span class="hs-identifier hs-var">glbR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263640"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263640"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681263641"><span class="annot"><span class="annottext">[R]
</span><a href="#local-6989586621681263641"><span class="hs-identifier hs-var">cr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe R -&gt; (R -&gt; Maybe R) -&gt; Maybe R -&gt; Maybe R
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational -&gt; R
</span><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263640"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
</span><a href="#local-6989586621681263642"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[R] -&gt; Maybe R
</span><a href="Math.Number.R.html#glbR"><span class="hs-identifier hs-var">glbR</span></a></span><span> </span><span class="annot"><span class="annottext">[R]
</span><a href="#local-6989586621681263641"><span class="hs-identifier hs-var">cr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681263642"><span class="annot"><span class="annottext">f :: R -&gt; Maybe R
</span><a href="#local-6989586621681263642"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263643"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263643"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Maybe R) -&gt; R -&gt; Maybe R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263644"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263644"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-345"></span><span>              </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263643"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263644"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263640"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263644"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span> </span><span class="hs-comment">-- | Note zero reals are special, we avoid divide by zero by implementing</span><span>
</span><span id="line-348"></span><span> </span><span class="hs-comment">-- zero as epsilon.</span><span>
</span><span id="line-349"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-350"></span><span>    </span><span id="local-6989586621681263653"><span class="annot"><span class="annottext">+ :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(+)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational) -&gt; R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-var">liftR2</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span>
</span><span id="line-351"></span><span>    </span><span id="local-6989586621681263655"><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational) -&gt; R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-var">liftR2</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>    </span><span id="local-6989586621681263661"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263661"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681263662"><span class="annot"><span class="annottext">* :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">*</span></span></span><span> </span><span id="local-6989586621681263663"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263663"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263664"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263664"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263661"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263664"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>                         </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263663"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263664"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span>    </span><span id="local-6989586621681263666"><span class="annot"><span class="annottext">negate :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">negate</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var">liftR</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span>
</span><span id="line-355"></span><span>    </span><span id="local-6989586621681263668"><span class="annot"><span class="annottext">abs :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">abs</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var">liftR</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span>
</span><span id="line-356"></span><span>    </span><span id="local-6989586621681263670"><span class="annot"><span class="annottext">signum :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">signum</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var">liftR</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span>
</span><span id="line-357"></span><span>   </span><span class="hs-comment">-- fromInteger 0 = real id</span><span>
</span><span id="line-358"></span><span>    </span><span id="local-6989586621681263672"><span class="annot"><span class="annottext">fromInteger :: Integer -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromInteger</span></span></span><span> </span><span id="local-6989586621681263673"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263673"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263673"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-359"></span><span>
</span><span id="line-360"></span><span> </span><span class="hs-comment">-- | For division, if a rational approximation of the divisor</span><span>
</span><span id="line-361"></span><span> </span><span class="hs-comment">-- is zero, we increase accuracy. Notice this makes</span><span>
</span><span id="line-362"></span><span> </span><span class="hs-comment">-- a real number constructed from &quot;real (const 0)&quot; behave</span><span>
</span><span id="line-363"></span><span> </span><span class="hs-comment">-- much worse (nontermination) than &quot;epsilon&quot;</span><span>
</span><span id="line-364"></span><span> </span><span class="hs-comment">-- (which just increases accuracy)</span><span>
</span><span id="line-365"></span><span> </span><span class="hs-comment">-- Using L'H&#65533;pital's rule for 0/0</span><span>
</span><span id="line-366"></span><span> </span><span class="hs-comment">-- &lt;https://en.wikipedia.org/wiki/L%27H%C3%B4pital%27s_rule&gt;</span><span>
</span><span id="line-367"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-368"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263699"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263699"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681263700"><span class="annot"><span class="annottext">/ :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">/</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263701"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263701"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263702"><span class="hs-identifier hs-var">checker</span></a></span><span>
</span><span id="line-369"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681263703"><span class="annot"><span class="annottext">divisor :: Rational -&gt; Rational
</span><a href="#local-6989586621681263703"><span class="hs-identifier hs-var hs-var">divisor</span></a></span></span><span> </span><span id="local-6989586621681263704"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263704"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263701"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263704"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-370"></span><span>            </span><span id="local-6989586621681263705"><span class="annot"><span class="annottext">dividend :: Rational -&gt; Rational
</span><a href="#local-6989586621681263705"><span class="hs-identifier hs-var hs-var">dividend</span></a></span></span><span> </span><span id="local-6989586621681263706"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263706"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263699"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263706"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-371"></span><span>            </span><span id="local-6989586621681263702"><span class="annot"><span class="annottext">checker :: Rational -&gt; Rational
</span><a href="#local-6989586621681263702"><span class="hs-identifier hs-var hs-var">checker</span></a></span></span><span> </span><span id="local-6989586621681263707"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263707"><span class="hs-identifier hs-var">eps</span></a></span></span><span>
</span><span id="line-372"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263703"><span class="hs-identifier hs-var">divisor</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263707"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263705"><span class="hs-identifier hs-var">dividend</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263707"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263703"><span class="hs-identifier hs-var">divisor</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263707"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-373"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263705"><span class="hs-identifier hs-var">dividend</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263707"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span>
</span><span id="line-374"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#derivateRational"><span class="hs-identifier hs-var">derivateRational</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263707"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; Rational -&gt; Rational)
-&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263699"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span>                    </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#derivateRational"><span class="hs-identifier hs-var">derivateRational</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263707"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; Rational -&gt; Rational)
-&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263701"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263707"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-376"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263702"><span class="hs-identifier hs-var">checker</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263707"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>    </span><span id="local-6989586621681263716"><span class="annot"><span class="annottext">recip :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">recip</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263717"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263717"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263718"><span class="hs-identifier hs-var">checker</span></a></span><span>
</span><span id="line-378"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681263719"><span class="annot"><span class="annottext">divisor :: Rational -&gt; Rational
</span><a href="#local-6989586621681263719"><span class="hs-identifier hs-var hs-var">divisor</span></a></span></span><span> </span><span id="local-6989586621681263720"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263720"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263717"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263720"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>            </span><span id="local-6989586621681263718"><span class="annot"><span class="annottext">checker :: Rational -&gt; Rational
</span><a href="#local-6989586621681263718"><span class="hs-identifier hs-var hs-var">checker</span></a></span></span><span> </span><span id="local-6989586621681263721"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263721"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263719"><span class="hs-identifier hs-var">divisor</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263721"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263719"><span class="hs-identifier hs-var">divisor</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263721"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-380"></span><span>                                </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263718"><span class="hs-identifier hs-var">checker</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263721"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>   </span><span class="hs-comment">--  fromRational 0  = real id</span><span>
</span><span id="line-382"></span><span>    </span><span id="local-6989586621681263722"><span class="annot"><span class="annottext">fromRational :: Rational -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromRational</span></span></span><span> </span><span id="local-6989586621681263723"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263723"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263723"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-386"></span><span>    </span><span id="local-6989586621681263727"><span class="annot"><span class="annottext">conj :: R -&gt; R
</span><a href="Math.Matrix.Interface.html#conj"><span class="hs-identifier hs-var hs-var hs-var hs-var">conj</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263728"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263728"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall m. ConjugateSymmetric m =&gt; m -&gt; m
</span><a href="Math.Matrix.Interface.html#conj"><span class="hs-identifier hs-var">conj</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational)
-&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263728"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span> </span><span class="annot"><span class="hs-comment">-- | R as an infinite dimensional vector space over the rationals.</span></span><span>
</span><span id="line-389"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-390"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Scalar"><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-var">Scalar</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-391"></span><span>    </span><span id="local-6989586621681263737"><span class="annot"><span class="annottext">vzero :: R
</span><a href="#local-6989586621681263737"><span class="hs-identifier hs-var hs-var hs-var hs-var">vzero</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.R.html#epsilon"><span class="hs-identifier hs-var">epsilon</span></a></span><span>
</span><span id="line-392"></span><span>    </span><span id="local-6989586621681263740"><span class="annot"><span class="annottext">vnegate :: R -&gt; R
</span><a href="#local-6989586621681263740"><span class="hs-identifier hs-var hs-var hs-var hs-var">vnegate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var">liftR</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span>
</span><span id="line-393"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263743"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263743"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681263744"><span class="annot"><span class="annottext">%+ :: R -&gt; R -&gt; R
</span><a href="#local-6989586621681263744"><span class="hs-operator hs-var hs-var hs-var hs-var">%+</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263746"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263746"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263747"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263747"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263743"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263747"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263746"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263747"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-394"></span><span>    </span><span id="local-6989586621681263750"><span class="annot"><span class="annottext">Scalar R
</span><a href="#local-6989586621681263750"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681263751"><span class="annot"><span class="annottext">%* :: Scalar R -&gt; R -&gt; R
</span><a href="#local-6989586621681263751"><span class="hs-operator hs-var hs-var hs-var hs-var">%*</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263753"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263753"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263754"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263754"><span class="hs-identifier hs-var">df</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Scalar Rational
Scalar R
</span><a href="#local-6989586621681263750"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Scalar Rational -&gt; Rational -&gt; Rational
forall v. VectorSpace v =&gt; Scalar v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var">%*</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263753"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263754"><span class="hs-identifier hs-var">df</span></a></span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span> </span><span class="hs-comment">-- | This lifts a rational function to a real function.</span><span>
</span><span id="line-397"></span><span> </span><span class="hs-comment">-- This computes accuracy using the formula \(dx = df / f'(x)\).</span><span>
</span><span id="line-398"></span><span> </span><span class="hs-comment">-- The accuracy behaves badly when \(f'(x) = 0\) due to divide-by-zero.</span><span>
</span><span id="line-399"></span><span> </span><span class="annot"><a href="Math.Number.R.html#differentialLiftR"><span class="hs-identifier hs-type">differentialLiftR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-400"></span><span> </span><span id="differentialLiftR"><span class="annot"><span class="annottext">differentialLiftR :: (Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#differentialLiftR"><span class="hs-identifier hs-var hs-var">differentialLiftR</span></a></span></span><span> </span><span id="local-6989586621681263755"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263755"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span id="local-6989586621681263756"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263756"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; R
</span><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Endo Rational -&gt; R) -&gt; Endo Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Endo Rational
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; Endo Rational)
-&gt; (Rational -&gt; Rational) -&gt; Endo Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263757"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263757"><span class="hs-identifier hs-var">df</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263755"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263756"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#derivateRational"><span class="hs-identifier hs-var">derivateRational</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263757"><span class="hs-identifier hs-var">df</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263755"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263756"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263757"><span class="hs-identifier hs-var">df</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span> </span><span class="annot"><span class="hs-comment">-- | derivate for rational functions. The first argument is epsilon.</span></span><span>
</span><span id="line-403"></span><span> </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Math.Number.R.html#derivateRational"><span class="hs-pragma hs-type">derivateRational</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-404"></span><span> </span><span class="annot"><a href="Math.Number.R.html#derivateRational"><span class="hs-identifier hs-type">derivateRational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-405"></span><span> </span><span id="derivateRational"><span class="annot"><span class="annottext">derivateRational :: Rational -&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#derivateRational"><span class="hs-identifier hs-var hs-var">derivateRational</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263758"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263758"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681263759"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263759"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263760"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263760"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263759"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263760"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263758"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263759"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263760"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263758"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span> </span><span id="local-6989586621681262581"><span class="annot"><a href="Math.Number.R.html#derivateGenericStream"><span class="hs-identifier hs-type">derivateGenericStream</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681262581"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681262581"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262581"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681262581"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681262581"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-408"></span><span> </span><span id="derivateGenericStream"><span class="annot"><span class="annottext">derivateGenericStream :: forall a. Fractional a =&gt; (a -&gt; a) -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.R.html#derivateGenericStream"><span class="hs-identifier hs-var hs-var">derivateGenericStream</span></a></span></span><span> </span><span id="local-6989586621681263768"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681263768"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263769"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263769"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681263770"><span class="annot"><span class="annottext">z :: Stream a
</span><a href="#local-6989586621681263770"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263771"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263771"><span class="hs-identifier hs-var">di</span></a></span></span><span> </span><span id="local-6989586621681263772"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681263772"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-409"></span><span>     </span><span id="local-6989586621681263773"><span class="annot"><span class="annottext">f' :: a -&gt; a -&gt; a
</span><a href="#local-6989586621681263773"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263774"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263774"><span class="hs-identifier hs-var">di'</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263775"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263775"><span class="hs-identifier hs-var">i'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681263768"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263775"><span class="hs-identifier hs-var">i'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263774"><span class="hs-identifier hs-var">di'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681263768"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263775"><span class="hs-identifier hs-var">i'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263774"><span class="hs-identifier hs-var">di'</span></a></span><span>
</span><span id="line-410"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">a -&gt; Stream a -&gt; Stream a
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621681263773"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263771"><span class="hs-identifier hs-var">di</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263769"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Stream a -&gt; Stream a
forall a. Fractional a =&gt; (a -&gt; a) -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.R.html#derivateGenericStream"><span class="hs-identifier hs-var">derivateGenericStream</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681263776"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263776"><span class="hs-identifier hs-var">dd</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621681263773"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263776"><span class="hs-identifier hs-var">dd</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263769"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681263770"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span> </span><span class="annot"><span class="hs-comment">-- | computes derivate. \[{{df}\over{dt}} = \lim_{\epsilon\rightarrow 0}{{f(t+\epsilon)-f(t)}\over{\epsilon}}\]</span></span><span>
</span><span id="line-413"></span><span> </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Math.Number.R.html#derivateR"><span class="hs-pragma hs-type">derivateR</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-414"></span><span> </span><span class="annot"><a href="Math.Number.R.html#derivateR"><span class="hs-identifier hs-type">derivateR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-415"></span><span> </span><span id="derivateR"><span class="annot"><span class="annottext">derivateR :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#derivateR"><span class="hs-identifier hs-var hs-var">derivateR</span></a></span></span><span> </span><span id="local-6989586621681263777"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681263777"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681263778"><span class="annot"><span class="annottext">xx :: R
</span><a href="#local-6989586621681263778"><span class="hs-identifier hs-var">xx</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681263779"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263779"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263780"><span class="annot"><span class="annottext">fx :: R
</span><a href="#local-6989586621681263780"><span class="hs-identifier hs-var hs-var">fx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681263777"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263778"><span class="hs-identifier hs-var">xx</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263781"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263781"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-416"></span><span>     </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681263777"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263782"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263782"><span class="hs-identifier hs-var">eps'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681263779"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263782"><span class="hs-identifier hs-var">eps'</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263781"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263780"><span class="hs-identifier hs-var">fx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-417"></span><span>      </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263781"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263781"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-418"></span><span>         </span><span class="hs-comment">-- computing fx separately is an optimization that should allow</span><span>
</span><span id="line-419"></span><span>         </span><span class="hs-comment">-- sharing the value of 'fx' to many invocations at different precision.</span><span>
</span><span id="line-420"></span><span>  </span><span>
</span><span id="line-421"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#DifferentiallyClosed"><span class="hs-identifier hs-type">DifferentiallyClosed</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-422"></span><span>    </span><span id="local-6989586621681263788"><span class="annot"><span class="annottext">derivate :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="#local-6989586621681263788"><span class="hs-identifier hs-var hs-var hs-var hs-var">derivate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#derivateR"><span class="hs-identifier hs-var">derivateR</span></a></span><span>
</span><span id="line-423"></span><span>    </span><span id="local-6989586621681263790"><span class="annot"><span class="annottext">integral :: (R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var hs-var hs-var hs-var">integral</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.R.html#integralR"><span class="hs-identifier hs-var">integralR</span></a></span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span> </span><span class="hs-comment">-- | newton's method for finding root of function.</span><span>
</span><span id="line-426"></span><span> </span><span class="hs-comment">-- \[x_{i+1} = x_i - {{f(x_i)}\over{f'(x_i)}}\]</span><span>
</span><span id="line-427"></span><span> </span><span class="annot"><a href="Math.Number.R.html#newtonsMethodR"><span class="hs-identifier hs-type">newtonsMethodR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-428"></span><span> </span><span id="newtonsMethodR"><span class="annot"><span class="annottext">newtonsMethodR :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#newtonsMethodR"><span class="hs-identifier hs-var hs-var">newtonsMethodR</span></a></span></span><span> </span><span id="local-6989586621681263791"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681263791"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263792"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263792"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
</span><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-var">lim</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; R) -&gt; Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; Stream R
forall (str :: * -&gt; *) a.
StreamBuilder str =&gt;
(a -&gt; a) -&gt; a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#iterateStream"><span class="hs-identifier hs-var">iterateStream</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681263794"><span class="hs-identifier hs-var">iteration</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263792"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span>
</span><span id="line-429"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681263794"><span class="annot"><span class="annottext">iteration :: R -&gt; R
</span><a href="#local-6989586621681263794"><span class="hs-identifier hs-var hs-var">iteration</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681263795"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263795"><span class="hs-identifier hs-var">z'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263795"><span class="hs-identifier hs-var">z'</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681263791"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263795"><span class="hs-identifier hs-var">z'</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall r. DifferentiallyClosed r =&gt; (r -&gt; r) -&gt; r -&gt; r
</span><a href="Math.Number.Interface.html#derivate"><span class="hs-identifier hs-var">derivate</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681263791"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263795"><span class="hs-identifier hs-var">z'</span></a></span><span>
</span><span id="line-430"></span><span>  </span><span>
</span><span id="line-431"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Numerics"><span class="hs-identifier hs-type">Numerics</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-432"></span><span>    </span><span id="local-6989586621681263798"><span class="annot"><span class="annottext">newtonsMethod :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="#local-6989586621681263798"><span class="hs-identifier hs-var hs-var hs-var hs-var">newtonsMethod</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#newtonsMethodR"><span class="hs-identifier hs-var">newtonsMethodR</span></a></span><span>
</span><span id="line-433"></span><span>
</span><span id="line-434"></span><span> </span><span class="annot"><span class="hs-comment">-- | square root of a real number \(x\), computed with newton's method as root of \(t \mapsto t^2 - x\).</span></span><span>
</span><span id="line-435"></span><span> </span><span class="annot"><a href="Math.Number.R.html#sqrtR"><span class="hs-identifier hs-type">sqrtR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-436"></span><span> </span><span id="sqrtR"><span class="annot"><span class="annottext">sqrtR :: R -&gt; R
</span><a href="Math.Number.R.html#sqrtR"><span class="hs-identifier hs-var hs-var">sqrtR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263800"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263800"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a. Numerics a =&gt; (a -&gt; a) -&gt; a -&gt; a
</span><a href="Math.Number.Interface.html#newtonsMethod"><span class="hs-identifier hs-var">newtonsMethod</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681263801"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263801"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263801"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263801"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263800"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span>
</span><span id="line-437"></span><span>
</span><span id="line-438"></span><span> </span><span class="annot"><span class="hs-comment">-- | logarithm of a real number \(x\), computed with newton's method as root of \(t \mapsto e^t - x\).</span></span><span>
</span><span id="line-439"></span><span> </span><span class="annot"><a href="Math.Number.R.html#logByNewton"><span class="hs-identifier hs-type">logByNewton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-440"></span><span> </span><span id="logByNewton"><span class="annot"><span class="annottext">logByNewton :: R -&gt; R
</span><a href="Math.Number.R.html#logByNewton"><span class="hs-identifier hs-var hs-var">logByNewton</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263802"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263802"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a. Numerics a =&gt; (a -&gt; a) -&gt; a -&gt; a
</span><a href="Math.Number.Interface.html#newtonsMethod"><span class="hs-identifier hs-var">newtonsMethod</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681263803"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263803"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263803"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263802"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span> </span><span class="annot"><a href="Math.Number.R.html#inverseOfR"><span class="hs-identifier hs-type">inverseOfR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-443"></span><span> </span><span id="inverseOfR"><span class="annot"><span class="annottext">inverseOfR :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#inverseOfR"><span class="hs-identifier hs-var hs-var">inverseOfR</span></a></span></span><span> </span><span id="local-6989586621681263804"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681263804"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681263805"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263805"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a. Numerics a =&gt; (a -&gt; a) -&gt; a -&gt; a
</span><a href="Math.Number.Interface.html#newtonsMethod"><span class="hs-identifier hs-var">newtonsMethod</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681263806"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263806"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681263804"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263806"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263805"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span> </span><span class="annot"><a href="Math.Number.R.html#expR"><span class="hs-identifier hs-type">expR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-446"></span><span> </span><span id="expR"><span class="annot"><span class="annottext">expR :: R -&gt; R
</span><a href="Math.Number.R.html#expR"><span class="hs-identifier hs-var hs-var">expR</span></a></span></span><span> </span><span id="local-6989586621681263807"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263807"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.R.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R) -&gt; Closure Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Closure Stream R) -&gt; Stream R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-447"></span><span>    </span><span id="local-6989586621681263808"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263808"><span class="hs-identifier hs-var">xappr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; Stream R) -&gt; Closure Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263807"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-448"></span><span>    </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">sumStream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#indexPowers"><span class="hs-identifier hs-var">indexPowers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263808"><span class="hs-identifier hs-var">xappr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream R
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span> </span><span class="hs-comment">-- | Using Simon Plouffe's BPP digit extraction algorithm for computing pi.</span><span>
</span><span id="line-451"></span><span> </span><span class="hs-comment">-- See &lt;https://plouffe.fr/Simon%20Plouffe.htm&gt;</span><span>
</span><span id="line-452"></span><span> </span><span class="hs-comment">-- See &lt;https://secure.wikimedia.org/wikipedia/en/wiki/Pi Pi&gt; for details.</span><span>
</span><span id="line-453"></span><span> </span><span class="hs-comment">-- \[\pi = \sum_{k=0}^{\infty}{16^{-k}}({{4}\over{8k+1}}-{{2}\over{8k+4}}-{1\over{8k+5}}-{1\over{8k+6}})\]</span><span>
</span><span id="line-454"></span><span> </span><span class="annot"><a href="Math.Number.R.html#piR"><span class="hs-identifier hs-type">piR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-455"></span><span> </span><span id="piR"><span class="annot"><span class="annottext">piR :: R
</span><a href="Math.Number.R.html#piR"><span class="hs-identifier hs-var hs-var">piR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
</span><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-var">lim</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; R) -&gt; Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">sumStream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-456"></span><span>    </span><span id="local-6989586621681263814"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263814"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">naturals</span></a></span><span>
</span><span id="line-457"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263816"><span class="annot"><span class="annottext">kr :: Rational
</span><a href="#local-6989586621681263816"><span class="hs-identifier hs-var hs-var">kr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263814"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream R) -&gt; R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; R) -&gt; Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">16</span></span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263814"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">4</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263816"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263816"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span>
</span><span id="line-459"></span><span>                               </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263816"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">5</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263816"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">6</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-460"></span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span> </span><span class="hs-comment">-- &lt;http://en.wikipedia.org/wiki/Logarithm Logarithm&gt;</span><span>
</span><span id="line-463"></span><span> </span><span class="annot"><a href="Math.Number.R.html#logR"><span class="hs-identifier hs-type">logR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-464"></span><span> </span><span id="logR"><span class="annot"><span class="annottext">logR :: R -&gt; R
</span><a href="Math.Number.R.html#logR"><span class="hs-identifier hs-var hs-var">logR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681263818"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263818"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263819"><span class="annot"><span class="annottext">a' :: R
</span><a href="#local-6989586621681263819"><span class="hs-identifier hs-var hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263818"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263818"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-465"></span><span>   </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream R -&gt; R
</span><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-var">lim</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; R) -&gt; Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">sumStream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>   </span><span>
</span><span id="line-466"></span><span>      </span><span id="local-6989586621681263820"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263820"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">naturals</span></a></span><span>
</span><span id="line-467"></span><span>      </span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream R) -&gt; R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; R
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263820"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263819"><span class="hs-identifier hs-var">a'</span></a></span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263820"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span>
</span><span id="line-470"></span><span>  </span><span class="hs-comment">-- &lt;https://en.wikipedia.org/wiki/Fourier_series&gt; &lt;https://en.wikipedia.org/wiki/Fourier_transform&gt;</span><span>
</span><span id="line-471"></span><span>  </span><span class="hs-comment">-- fourierCoefficient :: (Complex R -&gt; Complex R) -&gt; Integer -&gt; Complex R</span><span>
</span><span id="line-472"></span><span>  </span><span class="hs-comment">-- fourierCoefficient f n = (1/(2*pi)) %* integralR (-pi,pi) (\x -&gt; f (x :+ 0) * exp ((- (0:+1)* fromRational (fromIntegral n)) * (x :+ 0)))</span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span> </span><span class="hs-comment">-- Integrating a rational function.</span><span>
</span><span id="line-476"></span><span> </span><span class="hs-comment">-- The function takes 'dx' and 'x' as parameter.</span><span>
</span><span id="line-477"></span><span> </span><span class="hs-comment">-- \( \int{x \in [a,b]}{x^2 dx} =def= integrateR (a,b) (\dx x -&gt; x*x*dx) \)</span><span>
</span><span id="line-478"></span><span> </span><span class="annot"><a href="Math.Number.R.html#integrateRationalR"><span class="hs-identifier hs-type">integrateRationalR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-479"></span><span> </span><span id="integrateRationalR"><span class="annot"><span class="annottext">integrateRationalR :: (R, R) -&gt; (Rational -&gt; Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#integrateRationalR"><span class="hs-identifier hs-var hs-var">integrateRationalR</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681263821"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263821"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681263822"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263822"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681263823"><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681263823"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; [Rational])
-&gt; (Rational -&gt; Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a (t :: * -&gt; *) c b.
(Num a, Foldable t, Functor t) =&gt;
(c -&gt; t b) -&gt; (c -&gt; b -&gt; a) -&gt; c -&gt; a
</span><a href="Math.Number.R.html#foldableComplexIntegral"><span class="hs-identifier hs-var">foldableComplexIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; [Rational]
</span><a href="#local-6989586621681263825"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681263823"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-480"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681263825"><span class="annot"><span class="annottext">acc :: Rational -&gt; [Rational]
</span><a href="#local-6989586621681263825"><span class="hs-identifier hs-var hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; Rational -&gt; [Rational]
</span><a href="Math.Number.R.html#integralAccuracySimple"><span class="hs-identifier hs-var">integralAccuracySimple</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263821"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263822"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-481"></span><span>
</span><span id="line-482"></span><span> </span><span class="hs-comment">-- Integrating a real function. The function takes dx and x as parameter.</span><span>
</span><span id="line-483"></span><span> </span><span class="hs-comment">-- \( integrate\Real\R (a,b) f = \int_a^b f(dx,x) \)</span><span>
</span><span id="line-484"></span><span> </span><span class="hs-comment">-- Notice f must include the 'dx' multiplier of the integrand, but more creative uses of dx are possible.</span><span>
</span><span id="line-485"></span><span> </span><span class="annot"><a href="Math.Number.R.html#integrateRealR"><span class="hs-identifier hs-type">integrateRealR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-486"></span><span> </span><span id="integrateRealR"><span class="annot"><span class="annottext">integrateRealR :: (R, R) -&gt; (R -&gt; R -&gt; R) -&gt; R
</span><a href="Math.Number.R.html#integrateRealR"><span class="hs-identifier hs-var hs-var">integrateRealR</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681263826"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263826"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681263827"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263827"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681263828"><span class="annot"><span class="annottext">R -&gt; R -&gt; R
</span><a href="#local-6989586621681263828"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (Rational -&gt; Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#integrateRationalR"><span class="hs-identifier hs-var">integrateRationalR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263826"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263827"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational -&gt; Rational) -&gt; R)
-&gt; (Rational -&gt; Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263829"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263829"><span class="hs-identifier hs-var">dx</span></a></span></span><span> </span><span id="local-6989586621681263830"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263830"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-487"></span><span>     </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
</span><a href="#local-6989586621681263828"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263829"><span class="hs-identifier hs-var">dx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263830"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263829"><span class="hs-identifier hs-var">dx</span></a></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span> </span><span class="hs-pragma">{-# NOINLINE</span><span> </span><span class="annot"><a href="Math.Number.R.html#integralR"><span class="hs-pragma hs-type">integralR</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-491"></span><span> </span><span class="hs-comment">-- integral[a,b] f(x)dx.</span><span>
</span><span id="line-492"></span><span> </span><span class="annot"><a href="Math.Number.R.html#integralR"><span class="hs-identifier hs-type">integralR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-493"></span><span> </span><span id="integralR"><span class="annot"><span class="annottext">integralR :: (R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.R.html#integralR"><span class="hs-identifier hs-var hs-var">integralR</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681263831"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263831"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681263832"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263832"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263833"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681263833"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681263834"><span class="annot"><span class="annottext">acc :: Rational -&gt; [Rational]
</span><a href="#local-6989586621681263834"><span class="hs-identifier hs-var hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; Rational -&gt; [Rational]
</span><a href="Math.Number.R.html#integralAccuracySimple"><span class="hs-identifier hs-var">integralAccuracySimple</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263831"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263832"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-494"></span><span>                           </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; [Rational]) -&gt; (Rational -&gt; R) -&gt; R
forall (t :: * -&gt; *) b.
(Foldable t, Functor t) =&gt;
(Rational -&gt; t b) -&gt; (b -&gt; R) -&gt; R
</span><a href="Math.Number.R.html#foldableIntegral"><span class="hs-identifier hs-var">foldableIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; [Rational]
</span><a href="#local-6989586621681263834"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681263833"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Rational -&gt; R) -&gt; Rational -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span class="hs-special">)</span><span>
</span><span id="line-495"></span><span>
</span><span id="line-496"></span><span> </span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Math.Number.R.html#foldableIntegral"><span class="hs-pragma hs-type">foldableIntegral</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">[</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span class="hs-pragma">]</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-pragma hs-type">R</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-pragma hs-type">R</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-497"></span><span> </span><span id="local-6989586621681262601"><span id="local-6989586621681262602"><span class="annot"><a href="Math.Number.R.html#foldableIntegral"><span class="hs-identifier hs-type">foldableIntegral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621681262601"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621681262601"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262601"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681262602"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681262602"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span><span>
</span><span id="line-498"></span><span> </span><span id="foldableIntegral"><span class="annot"><span class="annottext">foldableIntegral :: forall (t :: * -&gt; *) b.
(Foldable t, Functor t) =&gt;
(Rational -&gt; t b) -&gt; (b -&gt; R) -&gt; R
</span><a href="Math.Number.R.html#foldableIntegral"><span class="hs-identifier hs-var hs-var">foldableIntegral</span></a></span></span><span> </span><span id="local-6989586621681263840"><span class="annot"><span class="annottext">Rational -&gt; t b
</span><a href="#local-6989586621681263840"><span class="hs-identifier hs-var">border</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263841"><span class="annot"><span class="annottext">b -&gt; R
</span><a href="#local-6989586621681263841"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263842"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263842"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-499"></span><span>    </span><span class="annot"><span class="annottext">(Rational -&gt; t b) -&gt; (b -&gt; Rational) -&gt; Rational -&gt; Rational
forall a (t :: * -&gt; *) b.
(Num a, Foldable t, Functor t) =&gt;
(a -&gt; t b) -&gt; (b -&gt; a) -&gt; a -&gt; a
</span><a href="Math.Number.R.html#foldableSimpleIntegral"><span class="hs-identifier hs-var">foldableSimpleIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; t b
</span><a href="#local-6989586621681263840"><span class="hs-identifier hs-var">border</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263842"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(R -&gt; Rational) -&gt; (b -&gt; R) -&gt; b -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; R
</span><a href="#local-6989586621681263841"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263842"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-500"></span><span>
</span><span id="line-501"></span><span> </span><span id="local-6989586621681262608"><span id="local-6989586621681262609"><span id="local-6989586621681262610"><span id="local-6989586621681262611"><span class="annot"><a href="Math.Number.R.html#foldable_vectorIntegral"><span class="hs-identifier hs-type">foldable_vectorIntegral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681262608"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681262609"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681262608"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681262609"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621681262609"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621681262610"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621681262610"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-502"></span><span>   </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681262609"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262610"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681262611"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681262611"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262608"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681262609"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262609"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262608"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681262609"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-503"></span><span> </span><span id="foldable_vectorIntegral"><span class="annot"><span class="annottext">foldable_vectorIntegral :: forall (v :: * -&gt; *) a (t :: * -&gt; *) b.
(VectorSpace (v a), Scalar (v a) ~ a, Foldable t, Functor t) =&gt;
(a -&gt; t b) -&gt; (b -&gt; v a) -&gt; a -&gt; v a
</span><a href="Math.Number.R.html#foldable_vectorIntegral"><span class="hs-identifier hs-var hs-var">foldable_vectorIntegral</span></a></span></span><span> </span><span id="local-6989586621681263855"><span class="annot"><span class="annottext">a -&gt; t b
</span><a href="#local-6989586621681263855"><span class="hs-identifier hs-var">border</span></a></span></span><span> </span><span id="local-6989586621681263856"><span class="annot"><span class="annottext">b -&gt; v a
</span><a href="#local-6989586621681263856"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263857"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263857"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
Scalar (v a)
</span><a href="#local-6989586621681263857"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Scalar (v a) -&gt; v a -&gt; v a
forall v. VectorSpace v =&gt; Scalar v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var">%*</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t (v a) -&gt; v a
forall (t :: * -&gt; *) a. (Foldable t, VectorSpace a) =&gt; t a -&gt; a
</span><a href="Math.Matrix.Interface.html#vsum"><span class="hs-identifier hs-var">vsum</span></a></span><span> </span><span class="annot"><span class="annottext">(t (v a) -&gt; v a) -&gt; t (v a) -&gt; v a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; v a) -&gt; t b -&gt; t (v a)
forall a b. (a -&gt; b) -&gt; t a -&gt; t b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; v a
</span><a href="#local-6989586621681263856"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(t b -&gt; t (v a)) -&gt; t b -&gt; t (v a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; t b
</span><a href="#local-6989586621681263855"><span class="hs-identifier hs-var">border</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263857"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-504"></span><span>
</span><span id="line-505"></span><span> </span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Math.Number.R.html#foldableSimpleIntegral"><span class="hs-pragma hs-type">foldableSimpleIntegral</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">[</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span class="hs-pragma">]</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-506"></span><span> </span><span id="local-6989586621681262605"><span id="local-6989586621681262606"><span id="local-6989586621681262607"><span class="annot"><a href="Math.Number.R.html#foldableSimpleIntegral"><span class="hs-identifier hs-type">foldableSimpleIntegral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681262605"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621681262606"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621681262606"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-507"></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681262605"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262606"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681262607"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681262607"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262605"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262605"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262605"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-508"></span><span> </span><span id="foldableSimpleIntegral"><span class="annot"><span class="annottext">foldableSimpleIntegral :: forall a (t :: * -&gt; *) b.
(Num a, Foldable t, Functor t) =&gt;
(a -&gt; t b) -&gt; (b -&gt; a) -&gt; a -&gt; a
</span><a href="Math.Number.R.html#foldableSimpleIntegral"><span class="hs-identifier hs-var hs-var">foldableSimpleIntegral</span></a></span></span><span> </span><span id="local-6989586621681263866"><span class="annot"><span class="annottext">a -&gt; t b
</span><a href="#local-6989586621681263866"><span class="hs-identifier hs-var">border</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263867"><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681263867"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263868"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263868"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">t a -&gt; a
forall a. Num a =&gt; t a -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">sum</span></span><span> </span><span class="annot"><span class="annottext">(t a -&gt; a) -&gt; t a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-509"></span><span>    </span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; t b -&gt; t a
forall a b. (a -&gt; b) -&gt; t a -&gt; t b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263868"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; (b -&gt; a) -&gt; b -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681263867"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(t b -&gt; t a) -&gt; t b -&gt; t a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; t b
</span><a href="#local-6989586621681263866"><span class="hs-identifier hs-var">border</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681263868"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-510"></span><span>
</span><span id="line-511"></span><span> </span><span id="local-6989586621681262597"><span id="local-6989586621681262598"><span id="local-6989586621681262599"><span id="local-6989586621681262600"><span class="annot"><a href="Math.Number.R.html#foldableComplexIntegral"><span class="hs-identifier hs-type">foldableComplexIntegral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681262597"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621681262598"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621681262598"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-512"></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681262599"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262598"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681262600"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681262599"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262600"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262597"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262599"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681262597"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-513"></span><span> </span><span id="foldableComplexIntegral"><span class="annot"><span class="annottext">foldableComplexIntegral :: forall a (t :: * -&gt; *) c b.
(Num a, Foldable t, Functor t) =&gt;
(c -&gt; t b) -&gt; (c -&gt; b -&gt; a) -&gt; c -&gt; a
</span><a href="Math.Number.R.html#foldableComplexIntegral"><span class="hs-identifier hs-var hs-var">foldableComplexIntegral</span></a></span></span><span> </span><span id="local-6989586621681263876"><span class="annot"><span class="annottext">c -&gt; t b
</span><a href="#local-6989586621681263876"><span class="hs-identifier hs-var">border</span></a></span></span><span> </span><span id="local-6989586621681263877"><span class="annot"><span class="annottext">c -&gt; b -&gt; a
</span><a href="#local-6989586621681263877"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263878"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681263878"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t a -&gt; a
forall a. Num a =&gt; t a -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">sum</span></span><span> </span><span class="annot"><span class="annottext">(t a -&gt; a) -&gt; t a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-514"></span><span>    </span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; t b -&gt; t a
forall a b. (a -&gt; b) -&gt; t a -&gt; t b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">c -&gt; b -&gt; a
</span><a href="#local-6989586621681263877"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681263878"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(t b -&gt; t a) -&gt; t b -&gt; t a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">c -&gt; t b
</span><a href="#local-6989586621681263876"><span class="hs-identifier hs-var">border</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681263878"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-515"></span><span>
</span><span id="line-516"></span><span> </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Math.Number.R.html#integralAccuracySimple"><span class="hs-pragma hs-type">integralAccuracySimple</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-517"></span><span> </span><span class="annot"><a href="Math.Number.R.html#integralAccuracySimple"><span class="hs-identifier hs-type">integralAccuracySimple</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">]</span><span>
</span><span id="line-518"></span><span> </span><span id="integralAccuracySimple"><span class="annot"><span class="annottext">integralAccuracySimple :: R -&gt; R -&gt; Rational -&gt; [Rational]
</span><a href="Math.Number.R.html#integralAccuracySimple"><span class="hs-identifier hs-var hs-var">integralAccuracySimple</span></a></span></span><span> </span><span id="local-6989586621681263879"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263879"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681263880"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263880"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263881"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263881"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263882"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263882"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263881"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263883"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-519"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681263882"><span class="annot"><span class="annottext">x' :: Rational
</span><a href="#local-6989586621681263882"><span class="hs-identifier hs-var hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263879"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263881"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-520"></span><span>          </span><span class="hs-glyph">!</span><span id="local-6989586621681263883"><span class="annot"><span class="annottext">y' :: Rational
</span><a href="#local-6989586621681263883"><span class="hs-identifier hs-var hs-var">y'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263880"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263881"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-521"></span><span>
</span><span id="line-522"></span><span> </span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Math.Number.R.html#integralAccuracy"><span class="hs-pragma hs-type">integralAccuracy</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-pragma hs-type">R</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-pragma hs-type">R</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-pragma hs-type">R</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-pragma hs-type">R</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">[</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-523"></span><span> </span><span id="local-6989586621681262629"><span class="annot"><a href="Math.Number.R.html#integralAccuracy"><span class="hs-identifier hs-type">integralAccuracy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681262629"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681262629"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">]</span></span><span>
</span><span id="line-524"></span><span> </span><span id="integralAccuracy"><span class="annot"><span class="annottext">integralAccuracy :: forall t.
Fractional t =&gt;
(t -&gt; R) -&gt; R -&gt; R -&gt; Rational -&gt; [Rational]
</span><a href="Math.Number.R.html#integralAccuracy"><span class="hs-identifier hs-var hs-var">integralAccuracy</span></a></span></span><span> </span><span id="local-6989586621681263890"><span class="annot"><span class="annottext">t -&gt; R
</span><a href="#local-6989586621681263890"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681263891"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263891"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681263892"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263892"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; [Rational]
</span><a href="#local-6989586621681263893"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-525"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681263893"><span class="annot"><span class="annottext">res :: Rational -&gt; [Rational]
</span><a href="#local-6989586621681263893"><span class="hs-identifier hs-var hs-var">res</span></a></span></span><span> </span><span id="local-6989586621681263894"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263894"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681263895"><span class="annot"><span class="annottext">x'' :: Rational
</span><a href="#local-6989586621681263895"><span class="hs-identifier hs-var hs-var">x''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263896"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263894"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681263897"><span class="annot"><span class="annottext">y'' :: Rational
</span><a href="#local-6989586621681263897"><span class="hs-identifier hs-var hs-var">y''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681263898"><span class="hs-identifier hs-var">y'</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263894"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263895"><span class="hs-identifier hs-var">x''</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263895"><span class="hs-identifier hs-var">x''</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263894"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263897"><span class="hs-identifier hs-var">y''</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-526"></span><span>         </span><span id="local-6989586621681263899"><span class="annot"><span class="annottext">accuracy :: Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681263899"><span class="hs-identifier hs-var hs-var">accuracy</span></a></span></span><span> </span><span id="local-6989586621681263900"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263900"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681263901"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263901"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#derivateRational"><span class="hs-identifier hs-var">derivateRational</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263900"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681263902"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263900"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263901"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-527"></span><span>         </span><span id="local-6989586621681263902"><span class="annot"><span class="annottext">mf :: Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681263902"><span class="hs-identifier hs-var hs-var">mf</span></a></span></span><span> </span><span id="local-6989586621681263903"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263903"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681263904"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263904"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; R
</span><a href="#local-6989586621681263890"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; t
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263904"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263903"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-528"></span><span>         </span><span id="local-6989586621681263896"><span class="annot"><span class="annottext">x' :: Rational -&gt; Rational
</span><a href="#local-6989586621681263896"><span class="hs-identifier hs-var hs-var">x'</span></a></span></span><span> </span><span id="local-6989586621681263905"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263905"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263891"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263905"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681263899"><span class="hs-identifier hs-var">accuracy</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263905"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263891"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263905"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-529"></span><span>         </span><span id="local-6989586621681263898"><span class="annot"><span class="annottext">y' :: Rational -&gt; Rational
</span><a href="#local-6989586621681263898"><span class="hs-identifier hs-var hs-var">y'</span></a></span></span><span> </span><span id="local-6989586621681263906"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263906"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263892"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263906"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681263899"><span class="hs-identifier hs-var">accuracy</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263906"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263892"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681263906"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-530"></span><span>
</span><span id="line-531"></span><span> </span><span class="annot"><a href="Math.Number.R.html#piByIntegration"><span class="hs-identifier hs-type">piByIntegration</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-532"></span><span> </span><span id="piByIntegration"><span class="annot"><span class="annottext">piByIntegration :: R
</span><a href="Math.Number.R.html#piByIntegration"><span class="hs-identifier hs-var hs-var">piByIntegration</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acos</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-533"></span><span>
</span><span id="line-534"></span><span> </span><span class="hs-comment">-- | &lt;https://proofwiki.org/wiki/Power_Series_Expansion_for_real_Arcsine_Function&gt;</span><span>
</span><span id="line-535"></span><span> </span><span class="hs-comment">-- Computed by MacLaurin series expansion of arc sine:</span><span>
</span><span id="line-536"></span><span> </span><span class="hs-comment">-- \( \arcsin x = \sum^{\infty}_{n=0}{{(2n)! x^{2n+1}}\over{2^{2n}(n!)^2(2n+1)}} \)</span><span>
</span><span id="line-537"></span><span> </span><span class="annot"><a href="Math.Number.R.html#asinBySeries"><span class="hs-identifier hs-type">asinBySeries</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-538"></span><span> </span><span id="asinBySeries"><span class="annot"><span class="annottext">asinBySeries :: R -&gt; R
</span><a href="Math.Number.R.html#asinBySeries"><span class="hs-identifier hs-var hs-var">asinBySeries</span></a></span></span><span> </span><span id="local-6989586621681263907"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263907"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
forall a. (Closed a, Num a) =&gt; Stream a -&gt; a
</span><a href="Math.Number.Stream.html#ssum"><span class="hs-identifier hs-var">ssum</span></a></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681263909"><span class="hs-identifier hs-var">ser</span></a></span><span>
</span><span id="line-539"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681263910"><span class="annot"><span class="annottext">two_n_p1_power_of_x :: Stream R
</span><a href="#local-6989586621681263910"><span class="hs-identifier hs-var hs-var">two_n_p1_power_of_x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream R -&gt; Stream R
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263907"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681263911"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263911"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263907"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263907"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263911"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681263910"><span class="hs-identifier hs-var">two_n_p1_power_of_x</span></a></span><span>
</span><span id="line-540"></span><span>         </span><span id="local-6989586621681263916"><span class="annot"><span class="annottext">two_n_p1 :: Stream Integer
</span><a href="#local-6989586621681263916"><span class="hs-identifier hs-var hs-var">two_n_p1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Integer) -&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681263917"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263917"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263917"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681263916"><span class="hs-identifier hs-var">two_n_p1</span></a></span><span>
</span><span id="line-541"></span><span>         </span><span id="local-6989586621681263921"><span class="annot"><span class="annottext">factorialSquared :: Stream Integer
</span><a href="#local-6989586621681263921"><span class="hs-identifier hs-var hs-var">factorialSquared</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Integer) -&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681263922"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263922"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263922"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263922"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span>
</span><span id="line-542"></span><span>         </span><span id="local-6989586621681263932"><span class="annot"><span class="annottext">two_n_factorial :: Stream R
</span><a href="#local-6989586621681263932"><span class="hs-identifier hs-var hs-var">two_n_factorial</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; R) -&gt; Stream Integer -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; R
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream R) -&gt; Stream Integer -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer, Stream Integer) -&gt; Stream Integer
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream Integer -&gt; (Stream Integer, Stream Integer)
forall a. Stream a -&gt; (Stream a, Stream a)
</span><a href="Math.Number.Stream.html#uninterleave"><span class="hs-identifier hs-var">uninterleave</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-543"></span><span>         </span><span id="local-6989586621681263941"><span class="annot"><span class="annottext">two_powerTwo_n :: Stream Integer
</span><a href="#local-6989586621681263941"><span class="hs-identifier hs-var hs-var">two_powerTwo_n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Integer) -&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681263942"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263942"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263942"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681263941"><span class="hs-identifier hs-var">two_powerTwo_n</span></a></span><span>
</span><span id="line-544"></span><span>         </span><span id="local-6989586621681263909"><span class="annot"><span class="annottext">ser :: Stream R
</span><a href="#local-6989586621681263909"><span class="hs-identifier hs-var hs-var">ser</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span>
</span><span id="line-545"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681263932"><span class="hs-identifier hs-var">two_n_factorial</span></a></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681263910"><span class="hs-identifier hs-var">two_n_p1_power_of_x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-546"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Integer -&gt; R) -&gt; Stream Integer -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; R
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream R) -&gt; Stream Integer -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Integer -&gt; Integer)
-&gt; Stream Integer -&gt; Stream Integer -&gt; Stream Integer
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681263941"><span class="hs-identifier hs-var">two_powerTwo_n</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-547"></span><span>                  </span><span class="annot"><span class="annottext">(Integer -&gt; Integer -&gt; Integer)
-&gt; Stream Integer -&gt; Stream Integer -&gt; Stream Integer
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681263921"><span class="hs-identifier hs-var">factorialSquared</span></a></span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681263916"><span class="hs-identifier hs-var">two_n_p1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-548"></span><span>
</span><span id="line-549"></span><span> </span><span class="annot"><a href="Math.Number.R.html#acosBySeries"><span class="hs-identifier hs-type">acosBySeries</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-550"></span><span> </span><span id="acosBySeries"><span class="annot"><span class="annottext">acosBySeries :: R -&gt; R
</span><a href="Math.Number.R.html#acosBySeries"><span class="hs-identifier hs-var hs-var">acosBySeries</span></a></span></span><span> </span><span id="local-6989586621681263943"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263943"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
forall a. Floating a =&gt; a
</span><span class="hs-identifier hs-var">pi</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#asinBySeries"><span class="hs-identifier hs-var">asinBySeries</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263943"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span> </span><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Arctangent_series&gt;</span><span>
</span><span id="line-553"></span><span> </span><span class="hs-comment">-- Computed using Gregory's series:</span><span>
</span><span id="line-554"></span><span> </span><span class="hs-comment">-- \( \arctan x = \sum^{\infty}_{n=0}{{(-1)^kx^{2k+1}}\over{2k+1}} \)</span><span>
</span><span id="line-555"></span><span> </span><span class="annot"><a href="Math.Number.R.html#atanBySeries"><span class="hs-identifier hs-type">atanBySeries</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-556"></span><span> </span><span id="atanBySeries"><span class="annot"><span class="annottext">atanBySeries :: R -&gt; R
</span><a href="Math.Number.R.html#atanBySeries"><span class="hs-identifier hs-var hs-var">atanBySeries</span></a></span></span><span> </span><span id="local-6989586621681263944"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263944"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
forall a. (Closed a, Num a) =&gt; Stream a -&gt; a
</span><a href="Math.Number.Stream.html#ssum"><span class="hs-identifier hs-var">ssum</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; R) -&gt; Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream R
forall a. Fractional a =&gt; Stream a
</span><a href="Math.Number.Stream.html#alternatingSigns"><span class="hs-identifier hs-var">alternatingSigns</span></a></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681263946"><span class="hs-identifier hs-var">two_n_p1_power_of_x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Integer -&gt; R) -&gt; Stream Integer -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; R
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681263947"><span class="hs-identifier hs-var">two_n_p1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-557"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681263946"><span class="annot"><span class="annottext">two_n_p1_power_of_x :: Stream R
</span><a href="#local-6989586621681263946"><span class="hs-identifier hs-var hs-var">two_n_p1_power_of_x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream R -&gt; Stream R
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263944"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681263948"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263948"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263944"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263944"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263948"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681263946"><span class="hs-identifier hs-var">two_n_p1_power_of_x</span></a></span><span>
</span><span id="line-558"></span><span>         </span><span id="local-6989586621681263947"><span class="annot"><span class="annottext">two_n_p1 :: Stream Integer
</span><a href="#local-6989586621681263947"><span class="hs-identifier hs-var hs-var">two_n_p1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Integer) -&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681263953"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263953"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681263953"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681263947"><span class="hs-identifier hs-var">two_n_p1</span></a></span><span>
</span><span id="line-559"></span><span>
</span><span id="line-560"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Inverse_trigonometric_functions&gt;</span></span><span>
</span><span id="line-561"></span><span> </span><span class="annot"><a href="Math.Number.R.html#asinR"><span class="hs-identifier hs-type">asinR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-562"></span><span> </span><span id="asinR"><span class="annot"><span class="annottext">asinR :: R -&gt; R
</span><a href="Math.Number.R.html#asinR"><span class="hs-identifier hs-var hs-var">asinR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263954"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263954"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263954"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263955"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263955"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263955"><span class="hs-identifier hs-var">z</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263955"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-563"></span><span> </span><span>
</span><span id="line-564"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Inverse_trigonometric_functions&gt;</span></span><span>
</span><span id="line-565"></span><span> </span><span class="annot"><a href="Math.Number.R.html#acosR"><span class="hs-identifier hs-type">acosR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-566"></span><span> </span><span id="acosR"><span class="annot"><span class="annottext">acosR :: R -&gt; R
</span><a href="Math.Number.R.html#acosR"><span class="hs-identifier hs-var hs-var">acosR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263956"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263956"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263956"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263957"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263957"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263957"><span class="hs-identifier hs-var">z</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263957"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-567"></span><span>  </span><span class="hs-comment">-- (piR / 2) - asinR x</span><span>
</span><span id="line-568"></span><span> </span><span>
</span><span id="line-569"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Inverse_trigonometric_functions&gt;</span></span><span>
</span><span id="line-570"></span><span> </span><span class="annot"><a href="Math.Number.R.html#atanR"><span class="hs-identifier hs-type">atanR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-571"></span><span> </span><span id="atanR"><span class="annot"><span class="annottext">atanR :: R -&gt; R
</span><a href="Math.Number.R.html#atanR"><span class="hs-identifier hs-var hs-var">atanR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263958"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263958"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263958"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263959"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263959"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263959"><span class="hs-identifier hs-var">z</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263959"><span class="hs-identifier hs-var">z</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-572"></span><span>
</span><span id="line-573"></span><span> </span><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Trigonometric_functions trigonometric functions&gt;</span><span>
</span><span id="line-574"></span><span> </span><span class="hs-comment">-- Computed using taylor series expansion of sin function.</span><span>
</span><span id="line-575"></span><span> </span><span class="hs-comment">-- \[\sin(x) = \sum_{k=0}^{\infty}{{{(-1)^k}\over{(2k+1)!}}{x^{2k+1}}}\]</span><span>
</span><span id="line-576"></span><span> </span><span class="annot"><a href="Math.Number.R.html#sinBySeries"><span class="hs-identifier hs-type">sinBySeries</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-577"></span><span> </span><span id="sinBySeries"><span class="annot"><span class="annottext">sinBySeries :: R -&gt; R
</span><a href="Math.Number.R.html#sinBySeries"><span class="hs-identifier hs-var hs-var">sinBySeries</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263960"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263960"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
</span><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-var">lim</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; R) -&gt; Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Stream R, Stream R) -&gt; Stream R
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((Stream R, Stream R) -&gt; Stream R)
-&gt; (Stream R, Stream R) -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; (Stream R, Stream R)
forall a. Stream a -&gt; (Stream a, Stream a)
</span><a href="Math.Number.Stream.html#uninterleave"><span class="hs-identifier hs-var">uninterleave</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; (Stream R, Stream R))
-&gt; Stream R -&gt; (Stream R, Stream R)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">sumStream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681263961"><span class="hs-identifier hs-var">filterStream'</span></a></span><span>
</span><span id="line-578"></span><span>                   </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#indexPowers"><span class="hs-identifier hs-var">indexPowers</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263960"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-579"></span><span>                   </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span>
</span><span id="line-580"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681263967"><span class="annot"><span class="annottext">filterStream :: Stream Integer
</span><a href="#local-6989586621681263967"><span class="hs-identifier hs-var hs-var">filterStream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681263967"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-581"></span><span>          </span><span id="local-6989586621681263961"><span class="annot"><span class="annottext">filterStream' :: Stream R
</span><a href="#local-6989586621681263961"><span class="hs-identifier hs-var hs-var">filterStream'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; R) -&gt; Stream Integer -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; R
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681263967"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-582"></span><span>               </span><span>
</span><span id="line-583"></span><span> </span><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Trigonometric_functions trigonometric functions&gt;</span><span>
</span><span id="line-584"></span><span> </span><span class="hs-comment">-- Computed using taylor series expansion of cos function.</span><span>
</span><span id="line-585"></span><span> </span><span class="hs-comment">-- \[\cos(x) = \sum_{k=0}^{\infty}{{{(-1)^k}\over{(2k)!}}{x^{2k}}}\]</span><span>
</span><span id="line-586"></span><span> </span><span class="annot"><a href="Math.Number.R.html#cosBySeries"><span class="hs-identifier hs-type">cosBySeries</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-587"></span><span> </span><span id="cosBySeries"><span class="annot"><span class="annottext">cosBySeries :: R -&gt; R
</span><a href="Math.Number.R.html#cosBySeries"><span class="hs-identifier hs-var hs-var">cosBySeries</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263968"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263968"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
</span><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-var">lim</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; R) -&gt; Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Stream R, Stream R) -&gt; Stream R
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((Stream R, Stream R) -&gt; Stream R)
-&gt; (Stream R, Stream R) -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; (Stream R, Stream R)
forall a. Stream a -&gt; (Stream a, Stream a)
</span><a href="Math.Number.Stream.html#uninterleave"><span class="hs-identifier hs-var">uninterleave</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; (Stream R, Stream R))
-&gt; Stream R -&gt; (Stream R, Stream R)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sumStream"><span class="hs-identifier hs-var">sumStream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681263969"><span class="hs-identifier hs-var">filterStream'</span></a></span><span>
</span><span id="line-588"></span><span>                   </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#indexPowers"><span class="hs-identifier hs-var">indexPowers</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263968"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream R
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span>
</span><span id="line-589"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681263975"><span class="annot"><span class="annottext">filterStream :: Stream Integer
</span><a href="#local-6989586621681263975"><span class="hs-identifier hs-var hs-var">filterStream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681263975"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-590"></span><span>          </span><span id="local-6989586621681263969"><span class="annot"><span class="annottext">filterStream' :: Stream R
</span><a href="#local-6989586621681263969"><span class="hs-identifier hs-var hs-var">filterStream'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; R) -&gt; Stream Integer -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; R
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681263975"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-591"></span><span>
</span><span id="line-592"></span><span> </span><span class="hs-comment">-- &lt;https://en.wikipedia.org/wiki/Normal_Distribution&gt;</span><span>
</span><span id="line-593"></span><span> </span><span class="annot"><a href="Math.Number.R.html#errorFunctionR"><span class="hs-identifier hs-type">errorFunctionR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-594"></span><span> </span><span id="errorFunctionR"><span class="annot"><span class="annottext">errorFunctionR :: R -&gt; R
</span><a href="Math.Number.R.html#errorFunctionR"><span class="hs-identifier hs-var hs-var">errorFunctionR</span></a></span></span><span> </span><span id="local-6989586621681263976"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263976"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="annot"><span class="annottext">R
forall a. Floating a =&gt; a
</span><span class="hs-identifier hs-var">pi</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R -&gt; R) -&gt; R
</span><a href="Math.Number.R.html#integrateRealR"><span class="hs-identifier hs-var">integrateRealR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263976"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R -&gt; R) -&gt; R) -&gt; (R -&gt; R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681263977"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263977"><span class="hs-identifier hs-var">dt</span></a></span></span><span> </span><span id="local-6989586621681263978"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263978"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263978"><span class="hs-identifier hs-var">t</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263978"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681263977"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-595"></span><span>
</span><span id="line-596"></span><span>
</span><span id="line-597"></span><span> </span><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Trigonometric_functions trigonometric functions&gt;</span><span>
</span><span id="line-598"></span><span> </span><span class="hs-comment">-- &lt;https://en.wikipedia.org/wiki/Inverse_trigonometric_functions inverse trigonometric functions&gt;</span><span>
</span><span id="line-599"></span><span> </span><span class="hs-comment">-- &lt;http://en.wikipedia.org/wiki/Hyperbolic_function hyperbolic function&gt;</span><span>
</span><span id="line-600"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681263987"><span id="local-6989586621681264002"><span id="local-6989586621681264005"><span id="local-6989586621681264008"><span id="local-6989586621681264011"><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-601"></span><span>    </span><span id="local-6989586621681264013"><span class="annot"><span class="annottext">pi :: R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pi</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.R.html#piR"><span class="hs-identifier hs-var">piR</span></a></span><span>
</span><span id="line-602"></span><span>    </span><span id="local-6989586621681264014"><span class="annot"><span class="annottext">exp :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">exp</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#expR"><span class="hs-identifier hs-var">expR</span></a></span><span>
</span><span id="line-603"></span><span>    </span><span id="local-6989586621681264015"><span class="annot"><span class="annottext">log :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">log</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#logR"><span class="hs-identifier hs-var">logR</span></a></span><span>
</span><span id="line-604"></span><span>    </span><span id="local-6989586621681264016"><span class="annot"><span class="annottext">sqrt :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sqrt</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#sqrtR"><span class="hs-identifier hs-var">sqrtR</span></a></span><span>
</span><span id="line-605"></span><span>    </span><span id="local-6989586621681264020"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264020"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681264021"><span class="annot"><span class="annottext">** :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">**</span></span></span><span> </span><span id="local-6989586621681264022"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264022"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264022"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264020"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-606"></span><span>    </span><span id="local-6989586621681264023"><span class="annot"><span class="annottext">sin :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sin</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#sinBySeries"><span class="hs-identifier hs-var">sinBySeries</span></a></span><span>
</span><span id="line-607"></span><span>    </span><span id="local-6989586621681264024"><span class="annot"><span class="annottext">cos :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">cos</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#cosBySeries"><span class="hs-identifier hs-var">cosBySeries</span></a></span><span>
</span><span id="line-608"></span><span>    </span><span id="local-6989586621681264028"><span class="annot"><span class="annottext">tan :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">tan</span></span></span><span> </span><span id="local-6989586621681264029"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264029"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264029"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264029"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-609"></span><span>    </span><span id="local-6989586621681264030"><span class="annot"><span class="annottext">asin :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">asin</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#asinBySeries"><span class="hs-identifier hs-var">asinBySeries</span></a></span><span>
</span><span id="line-610"></span><span>    </span><span id="local-6989586621681264031"><span class="annot"><span class="annottext">acos :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">acos</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#acosBySeries"><span class="hs-identifier hs-var">acosBySeries</span></a></span><span>
</span><span id="line-611"></span><span>    </span><span id="local-6989586621681264032"><span class="annot"><span class="annottext">atan :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">atan</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#atanBySeries"><span class="hs-identifier hs-var">atanBySeries</span></a></span><span>
</span><span id="line-612"></span><span>    </span><span id="local-6989586621681264039"><span class="annot"><span class="annottext">sinh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sinh</span></span></span><span> </span><span id="local-6989586621681264040"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264040"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264040"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264040"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-613"></span><span>    </span><span id="local-6989586621681264047"><span class="annot"><span class="annottext">cosh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">cosh</span></span></span><span> </span><span id="local-6989586621681264048"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264048"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264048"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264048"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-614"></span><span>    </span><span id="local-6989586621681264052"><span class="annot"><span class="annottext">tanh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">tanh</span></span></span><span> </span><span id="local-6989586621681264053"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264053"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264053"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264053"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-615"></span><span>    </span><span id="local-6989586621681264060"><span class="annot"><span class="annottext">asinh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">asinh</span></span></span><span> </span><span id="local-6989586621681264061"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264061"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264061"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264061"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264061"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-616"></span><span>    </span><span id="local-6989586621681264068"><span class="annot"><span class="annottext">acosh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">acosh</span></span></span><span> </span><span id="local-6989586621681264069"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264069"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264069"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264069"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264069"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-617"></span><span>    </span><span id="local-6989586621681264078"><span class="annot"><span class="annottext">atanh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">atanh</span></span></span><span> </span><span id="local-6989586621681264079"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264079"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264079"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264079"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-618"></span><span>
</span><span id="line-619"></span><span> </span><span class="hs-keyword">data</span><span> </span><span id="Limited"><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-var">Limited</span></a></span></span><span> </span><span id="local-6989586621681264080"><span class="annot"><a href="#local-6989586621681264080"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-620"></span><span>    </span><span id="LimitedRationalsAbove"><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAbove"><span class="hs-identifier hs-var">LimitedRationalsAbove</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-621"></span><span>    </span><span id="LimitedRationalsBelow"><span class="annot"><a href="Math.Number.R.html#LimitedRationalsBelow"><span class="hs-identifier hs-var">LimitedRationalsBelow</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-622"></span><span>    </span><span id="LimitedRationalsAboveBelow"><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAboveBelow"><span class="hs-identifier hs-var">LimitedRationalsAboveBelow</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-623"></span><span>
</span><span id="line-624"></span><span> </span><span class="annot"><a href="Math.Number.R.html#supremum"><span class="hs-identifier hs-type">supremum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-625"></span><span> </span><span id="supremum"><span class="annot"><span class="annottext">supremum :: Limited Rational -&gt; Maybe R
</span><a href="Math.Number.R.html#supremum"><span class="hs-identifier hs-var hs-var">supremum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAbove"><span class="hs-identifier hs-type">LimitedRationalsAbove</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681264085"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264085"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264085"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-626"></span><span> </span><span class="annot"><a href="Math.Number.R.html#supremum"><span class="hs-identifier hs-var">supremum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAboveBelow"><span class="hs-identifier hs-type">LimitedRationalsAboveBelow</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681264087"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264087"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264087"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-627"></span><span> </span><span class="annot"><a href="Math.Number.R.html#supremum"><span class="hs-identifier hs-var">supremum</span></a></span><span> </span><span class="annot"><span class="annottext">Limited Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe R
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-628"></span><span> </span><span>
</span><span id="line-629"></span><span> </span><span class="annot"><a href="Math.Number.R.html#infinum"><span class="hs-identifier hs-type">infinum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-630"></span><span> </span><span id="infinum"><span class="annot"><span class="annottext">infinum :: Limited Rational -&gt; Maybe R
</span><a href="Math.Number.R.html#infinum"><span class="hs-identifier hs-var hs-var">infinum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsBelow"><span class="hs-identifier hs-type">LimitedRationalsBelow</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681264089"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264089"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264089"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-631"></span><span> </span><span class="annot"><a href="Math.Number.R.html#infinum"><span class="hs-identifier hs-var">infinum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAboveBelow"><span class="hs-identifier hs-type">LimitedRationalsAboveBelow</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681264091"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264091"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681264091"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-632"></span><span> </span><span class="annot"><a href="Math.Number.R.html#infinum"><span class="hs-identifier hs-var">infinum</span></a></span><span> </span><span class="annot"><span class="annottext">Limited Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe R
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-633"></span><span>
</span><span id="line-634"></span><span> </span><span class="annot"><a href="Math.Number.R.html#boundedApproximations"><span class="hs-identifier hs-type">boundedApproximations</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-635"></span><span> </span><span id="boundedApproximations"><span class="annot"><span class="annottext">boundedApproximations :: Limited Rational -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#boundedApproximations"><span class="hs-identifier hs-var hs-var">boundedApproximations</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAbove"><span class="hs-identifier hs-type">LimitedRationalsAbove</span></a></span><span> </span><span id="local-6989586621681264093"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681264093"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681264093"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-636"></span><span> </span><span class="annot"><a href="Math.Number.R.html#boundedApproximations"><span class="hs-identifier hs-var">boundedApproximations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsBelow"><span class="hs-identifier hs-type">LimitedRationalsBelow</span></a></span><span> </span><span id="local-6989586621681264095"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681264095"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681264095"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-637"></span><span> </span><span class="annot"><a href="Math.Number.R.html#boundedApproximations"><span class="hs-identifier hs-var">boundedApproximations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAboveBelow"><span class="hs-identifier hs-type">LimitedRationalsAboveBelow</span></a></span><span> </span><span id="local-6989586621681264097"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681264097"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681264097"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-638"></span><span>
</span><span id="line-639"></span><span> </span><span class="annot"><a href="Math.Number.R.html#upperBounds"><span class="hs-identifier hs-type">upperBounds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">]</span><span>
</span><span id="line-640"></span><span> </span><span id="upperBounds"><span class="annot"><span class="annottext">upperBounds :: Limited Rational -&gt; [Rational]
</span><a href="Math.Number.R.html#upperBounds"><span class="hs-identifier hs-var hs-var">upperBounds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAbove"><span class="hs-identifier hs-type">LimitedRationalsAbove</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681264099"><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681264099"><span class="hs-identifier hs-var">ub</span></a></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational -&gt; [Rational]
forall a. NonEmpty a -&gt; [a]
</span><span class="hs-identifier hs-var">NonEmpty.toList</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681264099"><span class="hs-identifier hs-var">ub</span></a></span><span>
</span><span id="line-641"></span><span> </span><span class="annot"><a href="Math.Number.R.html#upperBounds"><span class="hs-identifier hs-var">upperBounds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAboveBelow"><span class="hs-identifier hs-type">LimitedRationalsAboveBelow</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681264102"><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681264102"><span class="hs-identifier hs-var">ub</span></a></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational -&gt; [Rational]
forall a. NonEmpty a -&gt; [a]
</span><span class="hs-identifier hs-var">NonEmpty.toList</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681264102"><span class="hs-identifier hs-var">ub</span></a></span><span>
</span><span id="line-642"></span><span> </span><span class="annot"><a href="Math.Number.R.html#upperBounds"><span class="hs-identifier hs-var">upperBounds</span></a></span><span> </span><span class="annot"><span class="annottext">Limited Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-643"></span><span>
</span><span id="line-644"></span><span> </span><span class="annot"><a href="Math.Number.R.html#lowerBounds"><span class="hs-identifier hs-type">lowerBounds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">]</span><span>
</span><span id="line-645"></span><span> </span><span id="lowerBounds"><span class="annot"><span class="annottext">lowerBounds :: Limited Rational -&gt; [Rational]
</span><a href="Math.Number.R.html#lowerBounds"><span class="hs-identifier hs-var hs-var">lowerBounds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsBelow"><span class="hs-identifier hs-type">LimitedRationalsBelow</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681264104"><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681264104"><span class="hs-identifier hs-var">lb</span></a></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational -&gt; [Rational]
forall a. NonEmpty a -&gt; [a]
</span><span class="hs-identifier hs-var">NonEmpty.toList</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681264104"><span class="hs-identifier hs-var">lb</span></a></span><span>
</span><span id="line-646"></span><span> </span><span class="annot"><a href="Math.Number.R.html#lowerBounds"><span class="hs-identifier hs-var">lowerBounds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAboveBelow"><span class="hs-identifier hs-type">LimitedRationalsAboveBelow</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681264106"><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681264106"><span class="hs-identifier hs-var">lb</span></a></span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational -&gt; [Rational]
forall a. NonEmpty a -&gt; [a]
</span><span class="hs-identifier hs-var">NonEmpty.toList</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681264106"><span class="hs-identifier hs-var">lb</span></a></span><span>
</span><span id="line-647"></span><span> </span><span class="annot"><a href="Math.Number.R.html#lowerBounds"><span class="hs-identifier hs-var">lowerBounds</span></a></span><span> </span><span class="annot"><span class="annottext">Limited Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-648"></span><span>
</span><span id="line-649"></span></pre></body></html>
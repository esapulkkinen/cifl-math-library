<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span> </span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-unrecognised-pragmas -O3 #-}</span><span>
</span><span id="line-2"></span><span> </span><span class="hs-pragma">{-# HLINT ignore &quot;Use camelCase&quot; #-}</span><span>
</span><span id="line-3"></span><span> </span><span class="hs-pragma">{-# LANGUAGE Safe, TypeFamilies, FlexibleInstances, ScopedTypeVariables #-}</span><span>
</span><span id="line-4"></span><span> </span><span class="hs-pragma">{-# LANGUAGE TypeOperators, DataKinds, UndecidableInstances #-}</span><span>
</span><span id="line-5"></span><span> </span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses, FlexibleContexts, GADTs #-}</span><span>
</span><span id="line-6"></span><span> </span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Math.Number.R</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-7"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier">R</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier">Limit</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#lim"><span class="hs-identifier">lim</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#real"><span class="hs-identifier">real</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#approximate"><span class="hs-identifier">approximate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#rational_approximations"><span class="hs-identifier">rational_approximations</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#average"><span class="hs-identifier">average</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>  </span><span class="annot"><a href="Math.Number.Interface.html#floating_approximations"><span class="hs-identifier">floating_approximations</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#epsilon"><span class="hs-identifier">epsilon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#infinite_r"><span class="hs-identifier">infinite_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#liftR"><span class="hs-identifier">liftR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#derivate_generic_stream"><span class="hs-identifier">derivate_generic_stream</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#liftR2"><span class="hs-identifier">liftR2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#inverseImage"><span class="hs-identifier">inverseImage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#liftWithAccuracy"><span class="hs-identifier">liftWithAccuracy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#approximate_as"><span class="hs-identifier">approximate_as</span></a></span><span class="hs-special">,</span><span> </span><span>
</span><span id="line-10"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#limit_compose"><span class="hs-identifier">limit_compose</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#inverseImageEndo"><span class="hs-identifier">inverseImageEndo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#differentialLiftR"><span class="hs-identifier">differentialLiftR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#derivate_rational"><span class="hs-identifier">derivate_rational</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#derivate_r"><span class="hs-identifier">derivate_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#newtons_method_r"><span class="hs-identifier">newtons_method_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#sqrt_r"><span class="hs-identifier">sqrt_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#log_by_newton"><span class="hs-identifier">log_by_newton</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#exp_r"><span class="hs-identifier">exp_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#pi_r"><span class="hs-identifier">pi_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#log_r"><span class="hs-identifier">log_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#integral_r"><span class="hs-identifier">integral_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#foldable_integral"><span class="hs-identifier">foldable_integral</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#foldable_simple_integral"><span class="hs-identifier">foldable_simple_integral</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#integral_accuracy"><span class="hs-identifier">integral_accuracy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#asin_r"><span class="hs-identifier">asin_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#acos_r"><span class="hs-identifier">acos_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#atan_r"><span class="hs-identifier">atan_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#sin_by_series"><span class="hs-identifier">sin_by_series</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#inverse_of_r"><span class="hs-identifier">inverse_of_r</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#cos_by_series"><span class="hs-identifier">cos_by_series</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#gamma_r"><span class="hs-identifier">gamma_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#lub_r"><span class="hs-identifier">lub_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#glb_r"><span class="hs-identifier">glb_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#computable_r"><span class="hs-identifier">computable_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#unsafe_real_to_rational"><span class="hs-identifier">unsafe_real_to_rational</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#floor_r"><span class="hs-identifier">floor_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#ceiling_r"><span class="hs-identifier">ceiling_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#round_r"><span class="hs-identifier">round_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#truncate_r"><span class="hs-identifier">truncate_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#properFraction_r"><span class="hs-identifier">properFraction_r</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#approximately_less_than_or_equal_r"><span class="hs-identifier">approximately_less_than_or_equal_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#approximately_less_than_r"><span class="hs-identifier">approximately_less_than_r</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#approximately_greater_than_or_equal_r"><span class="hs-identifier">approximately_greater_than_or_equal_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#approximately_greater_than_r"><span class="hs-identifier">approximately_greater_than_r</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#approximately_equal_to_r"><span class="hs-identifier">approximately_equal_to_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#max_r"><span class="hs-identifier">max_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#min_r"><span class="hs-identifier">min_r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#real_to_float"><span class="hs-identifier">real_to_float</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#real_to_double"><span class="hs-identifier">real_to_double</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier">Limited</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#supremum"><span class="hs-identifier">supremum</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#infinum"><span class="hs-identifier">infinum</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#bounded_approximations"><span class="hs-identifier">bounded_approximations</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#upper_bounds"><span class="hs-identifier">upper_bounds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="Math.Number.R.html#lower_bounds"><span class="hs-identifier">lower_bounds</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-22"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>
</span><span id="line-23"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>
</span><span id="line-24"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Char</span></span><span>
</span><span id="line-25"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Ratio</span></span><span>
</span><span id="line-26"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Monoid</span></span><span>
</span><span id="line-27"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Complex</span></span><span>
</span><span id="line-28"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.Type.Equality</span></span><span>
</span><span id="line-29"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.PrettyP.html"><span class="hs-identifier">Math.Tools.PrettyP</span></a></span><span>
</span><span id="line-30"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Matrix.Covector.html"><span class="hs-identifier">Math.Matrix.Covector</span></a></span><span>
</span><span id="line-31"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html"><span class="hs-identifier">Math.Matrix.Interface</span></a></span><span>
</span><span id="line-32"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html"><span class="hs-identifier">Math.Number.StreamInterface</span></a></span><span>
</span><span id="line-33"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Tools.Median.html"><span class="hs-identifier">Math.Tools.Median</span></a></span><span>
</span><span id="line-34"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Number.Interface.html"><span class="hs-identifier">Math.Number.Interface</span></a></span><span>
</span><span id="line-35"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><a href="Math.Number.Stream.html"><span class="hs-identifier">Math.Number.Stream</span></a></span><span>
</span><span id="line-36"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Fix</span></span><span>
</span><span id="line-37"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-38"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">safe</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span>
</span><span id="line-40"></span><span> </span><span>
</span><span id="line-41"></span><span> </span><span class="annot"><span class="hs-comment">-- | This real representation takes 'epsilon' as input as in epsilon-delta proof.</span></span><span>
</span><span id="line-42"></span><span> </span><span class="hs-keyword">newtype</span><span> </span><span id="R"><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-var">R</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Limit"><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="approximate_endo"><span class="annot"><span class="annottext">R -&gt; Endo Rational
</span><a href="Math.Number.R.html#approximate_endo"><span class="hs-identifier hs-var hs-var">approximate_endo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span> </span><span class="hs-comment">-- | this real_to_rational operation sets precision \(\epsilon\) to 0 and produces</span><span>
</span><span id="line-46"></span><span> </span><span class="hs-comment">-- corresponding rational number.</span><span>
</span><span id="line-47"></span><span> </span><span class="hs-comment">-- Many algorithms for reals will go to infinite loop, if this is used,</span><span>
</span><span id="line-48"></span><span> </span><span class="hs-comment">-- or produce divide-by-zero. In particular, this is expected for irrationals.</span><span>
</span><span id="line-49"></span><span> </span><span class="hs-comment">-- if rational number is produced, it's exact.</span><span>
</span><span id="line-50"></span><span> </span><span class="hs-comment">-- However, computations on rational numbers, where real number was created</span><span>
</span><span id="line-51"></span><span> </span><span class="hs-comment">-- using fromRational, will produce that rational. It also allows operations</span><span>
</span><span id="line-52"></span><span> </span><span class="hs-comment">-- lifted from rationals to work, producing the result you'd obtain from</span><span>
</span><span id="line-53"></span><span> </span><span class="hs-comment">-- rational numbers.</span><span>
</span><span id="line-54"></span><span> </span><span class="annot"><a href="Math.Number.R.html#unsafe_real_to_rational"><span class="hs-identifier hs-type">unsafe_real_to_rational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-55"></span><span> </span><span id="unsafe_real_to_rational"><span class="annot"><span class="annottext">unsafe_real_to_rational :: R -&gt; Rational
</span><a href="Math.Number.R.html#unsafe_real_to_rational"><span class="hs-identifier hs-var hs-var">unsafe_real_to_rational</span></a></span></span><span> </span><span id="local-6989586621681383913"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383913"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383913"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span> </span><span id="local-6989586621681383460"><span class="annot"><a href="Math.Number.R.html#floor_r"><span class="hs-identifier hs-type">floor_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681383460"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383460"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-58"></span><span> </span><span id="floor_r"><span class="annot"><span class="annottext">floor_r :: forall b. Integral b =&gt; R -&gt; b
</span><a href="Math.Number.R.html#floor_r"><span class="hs-identifier hs-var hs-var">floor_r</span></a></span></span><span> </span><span id="local-6989586621681383919"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383919"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; b
forall b. Integral b =&gt; Rational -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">floor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383919"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span> </span><span id="local-6989586621681383921"><span class="annot"><a href="Math.Number.R.html#truncate_r"><span class="hs-identifier hs-type">truncate_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681383921"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383921"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-61"></span><span> </span><span id="truncate_r"><span class="annot"><span class="annottext">truncate_r :: forall b. Integral b =&gt; R -&gt; b
</span><a href="Math.Number.R.html#truncate_r"><span class="hs-identifier hs-var hs-var">truncate_r</span></a></span></span><span> </span><span id="local-6989586621681383926"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383926"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; b
forall b. Integral b =&gt; Rational -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">truncate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383926"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span> </span><span id="local-6989586621681383928"><span class="annot"><a href="Math.Number.R.html#round_r"><span class="hs-identifier hs-type">round_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681383928"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383928"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-64"></span><span> </span><span id="round_r"><span class="annot"><span class="annottext">round_r :: forall b. Integral b =&gt; R -&gt; b
</span><a href="Math.Number.R.html#round_r"><span class="hs-identifier hs-var hs-var">round_r</span></a></span></span><span> </span><span id="local-6989586621681383935"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383935"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; b
forall b. Integral b =&gt; Rational -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">round</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383935"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span> </span><span id="local-6989586621681383938"><span class="annot"><a href="Math.Number.R.html#ceiling_r"><span class="hs-identifier hs-type">ceiling_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681383938"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383938"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-67"></span><span> </span><span id="ceiling_r"><span class="annot"><span class="annottext">ceiling_r :: forall b. Integral b =&gt; R -&gt; b
</span><a href="Math.Number.R.html#ceiling_r"><span class="hs-identifier hs-var hs-var">ceiling_r</span></a></span></span><span> </span><span id="local-6989586621681383945"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383945"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; b
forall b. Integral b =&gt; Rational -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">ceiling</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383945"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span> </span><span id="local-6989586621681383469"><span class="annot"><a href="Math.Number.R.html#properFraction_r"><span class="hs-identifier hs-type">properFraction_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681383469"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681383469"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-70"></span><span> </span><span id="properFraction_r"><span class="annot"><span class="annottext">properFraction_r :: forall b. Integral b =&gt; R -&gt; (b, R)
</span><a href="Math.Number.R.html#properFraction_r"><span class="hs-identifier hs-var hs-var">properFraction_r</span></a></span></span><span> </span><span id="local-6989586621681383952"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383952"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681383953"><span class="annot"><span class="annottext">res :: b
</span><a href="#local-6989586621681383953"><span class="hs-identifier hs-var hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; b
forall b. Integral b =&gt; R -&gt; b
</span><a href="Math.Number.R.html#floor_r"><span class="hs-identifier hs-var">floor_r</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383952"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681383953"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383952"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; R
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681383953"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-comment">-- Can't implement Real or RealFrac, because (Ord R) is not available.</span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-comment">-- instance Real R where</span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-comment">--    toRational = unsafe_real_to_rational</span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-comment">-- instance RealFrac R where</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-comment">--    properFraction = properFraction_r</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-comment">--    truncate = truncate_r</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-comment">--    round = round_r</span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-comment">--    ceiling = ceiling_r</span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-comment">--    floor = floor_r</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximately_less_than_or_equal_r"><span class="hs-identifier hs-type">approximately_less_than_or_equal_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-85"></span><span> </span><span id="approximately_less_than_or_equal_r"><span class="annot"><span class="annottext">approximately_less_than_or_equal_r :: Rational -&gt; R -&gt; R -&gt; Bool
</span><a href="Math.Number.R.html#approximately_less_than_or_equal_r"><span class="hs-identifier hs-var hs-var">approximately_less_than_or_equal_r</span></a></span></span><span> </span><span id="local-6989586621681383954"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383954"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681383955"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383955"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681383956"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383956"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383956"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383955"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383954"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383954"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximately_less_than_r"><span class="hs-identifier hs-type">approximately_less_than_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-88"></span><span> </span><span id="approximately_less_than_r"><span class="annot"><span class="annottext">approximately_less_than_r :: Rational -&gt; R -&gt; R -&gt; Bool
</span><a href="Math.Number.R.html#approximately_less_than_r"><span class="hs-identifier hs-var hs-var">approximately_less_than_r</span></a></span></span><span> </span><span id="local-6989586621681383959"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383959"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681383960"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383960"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681383961"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383961"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383960"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383961"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383959"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383959"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximately_greater_than_or_equal_r"><span class="hs-identifier hs-type">approximately_greater_than_or_equal_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-91"></span><span> </span><span id="approximately_greater_than_or_equal_r"><span class="annot"><span class="annottext">approximately_greater_than_or_equal_r :: Rational -&gt; R -&gt; R -&gt; Bool
</span><a href="Math.Number.R.html#approximately_greater_than_or_equal_r"><span class="hs-identifier hs-var hs-var">approximately_greater_than_or_equal_r</span></a></span></span><span> </span><span id="local-6989586621681383963"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383963"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681383964"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383964"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681383965"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383965"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383965"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383964"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383963"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383963"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximately_greater_than_r"><span class="hs-identifier hs-type">approximately_greater_than_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-94"></span><span> </span><span id="approximately_greater_than_r"><span class="annot"><span class="annottext">approximately_greater_than_r :: Rational -&gt; R -&gt; R -&gt; Bool
</span><a href="Math.Number.R.html#approximately_greater_than_r"><span class="hs-identifier hs-var hs-var">approximately_greater_than_r</span></a></span></span><span> </span><span id="local-6989586621681383966"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383966"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681383967"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383967"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681383968"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383968"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383967"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383968"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383966"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383966"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximately_equal_to_r"><span class="hs-identifier hs-type">approximately_equal_to_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-97"></span><span> </span><span id="approximately_equal_to_r"><span class="annot"><span class="annottext">approximately_equal_to_r :: Rational -&gt; R -&gt; R -&gt; Bool
</span><a href="Math.Number.R.html#approximately_equal_to_r"><span class="hs-identifier hs-var hs-var">approximately_equal_to_r</span></a></span></span><span> </span><span id="local-6989586621681383969"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383969"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681383970"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383970"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681383971"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383971"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383970"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383971"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383969"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383969"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span> </span><span class="annot"><a href="Math.Number.R.html#average"><span class="hs-identifier hs-type">average</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-100"></span><span> </span><span id="average"><span class="annot"><span class="annottext">average :: R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#average"><span class="hs-identifier hs-var hs-var">average</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational) -&gt; R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-var">liftR2</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681383973"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383973"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681383974"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383974"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383973"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383974"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span> </span><span class="annot"><a href="Math.Number.R.html#max_r"><span class="hs-identifier hs-type">max_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-103"></span><span> </span><span id="max_r"><span class="annot"><span class="annottext">max_r :: R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#max_r"><span class="hs-identifier hs-var hs-var">max_r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational) -&gt; R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-var">liftR2</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span>
</span><span id="line-104"></span><span> </span><span>
</span><span id="line-105"></span><span> </span><span class="annot"><a href="Math.Number.R.html#min_r"><span class="hs-identifier hs-type">min_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-106"></span><span> </span><span id="min_r"><span class="annot"><span class="annottext">min_r :: R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#min_r"><span class="hs-identifier hs-var hs-var">min_r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational) -&gt; R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-var">liftR2</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span> </span><span class="hs-comment">-- | tricky stuff. We use the denominator from the rational to determine</span><span>
</span><span id="line-109"></span><span> </span><span class="hs-comment">-- what accuracy to use for comparison, then use rational comparison.</span><span>
</span><span id="line-110"></span><span> </span><span class="hs-comment">-- Notice that this doesn't really allow good control of precision</span><span>
</span><span id="line-111"></span><span> </span><span class="hs-comment">-- of computation, since rational numbers are normalized by default.</span><span>
</span><span id="line-112"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681383983"><span id="local-6989586621681383987"><span id="local-6989586621681383990"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-113"></span><span>   </span><span id="local-6989586621681383994"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383994"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681383995"><span class="annot"><span class="annottext">%&lt; :: Rational -&gt; R -&gt; Bool
</span><a href="#local-6989586621681383995"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681383997"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383997"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383994"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681383997"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="Math.Number.R.html#eps_rational"><span class="hs-identifier hs-var">eps_rational</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681383994"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>   </span><span id="local-6989586621681384000"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384000"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681384001"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Rational -&gt; Bool
</span><a href="#local-6989586621681384001"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681384003"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384003"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384000"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="Math.Number.R.html#eps_rational"><span class="hs-identifier hs-var">eps_rational</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384003"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384003"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span> </span><span class="annot"><a href="Math.Number.R.html#eps_rational"><span class="hs-identifier hs-type">eps_rational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-117"></span><span> </span><span id="eps_rational"><span class="annot"><span class="annottext">eps_rational :: Rational -&gt; Rational
</span><a href="Math.Number.R.html#eps_rational"><span class="hs-identifier hs-var hs-var">eps_rational</span></a></span></span><span> </span><span id="local-6989586621681384004"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384004"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384004"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681384012"><span id="local-6989586621681384016"><span id="local-6989586621681384019"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-120"></span><span>   </span><span id="local-6989586621681384023"><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681384023"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681384024"><span class="annot"><span class="annottext">%&lt; :: Float -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681384025"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384025"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681384023"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Float
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384025"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#eps_float"><span class="hs-identifier hs-var">eps_float</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>   </span><span id="local-6989586621681384029"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384029"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681384030"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Float -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681384031"><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681384031"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Float
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384029"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#eps_float"><span class="hs-identifier hs-var">eps_float</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681384031"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span> </span><span class="annot"><a href="Math.Number.R.html#eps_float"><span class="hs-identifier hs-type">eps_float</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-124"></span><span> </span><span id="eps_float"><span class="annot"><span class="annottext">eps_float :: Rational
</span><a href="Math.Number.R.html#eps_float"><span class="hs-identifier hs-var hs-var">eps_float</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Float -&gt; Integer
forall a. RealFloat a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">floatRadix</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Float
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Int
forall a. RealFloat a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">floatDigits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Float
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span> </span><span class="annot"><a href="Math.Number.R.html#real_to_double"><span class="hs-identifier hs-type">real_to_double</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-127"></span><span> </span><span id="real_to_double"><span class="annot"><span class="annottext">real_to_double :: R -&gt; Double
</span><a href="Math.Number.R.html#real_to_double"><span class="hs-identifier hs-var hs-var">real_to_double</span></a></span></span><span> </span><span id="local-6989586621681384035"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384035"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384035"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#eps_double"><span class="hs-identifier hs-var">eps_double</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span> </span><span class="annot"><a href="Math.Number.R.html#real_to_float"><span class="hs-identifier hs-type">real_to_float</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span>
</span><span id="line-130"></span><span> </span><span id="real_to_float"><span class="annot"><span class="annottext">real_to_float :: R -&gt; Float
</span><a href="Math.Number.R.html#real_to_float"><span class="hs-identifier hs-var hs-var">real_to_float</span></a></span></span><span> </span><span id="local-6989586621681384037"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384037"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Float
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384037"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#eps_float"><span class="hs-identifier hs-var">eps_float</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681384044"><span id="local-6989586621681384048"><span id="local-6989586621681384051"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-133"></span><span>   </span><span id="local-6989586621681384055"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681384055"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681384056"><span class="annot"><span class="annottext">%&lt; :: Double -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681384057"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384057"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681384055"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384057"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#eps_double"><span class="hs-identifier hs-var">eps_double</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>   </span><span id="local-6989586621681384060"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384060"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681384061"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Double -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681384062"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681384062"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384060"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#eps_double"><span class="hs-identifier hs-var">eps_double</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681384062"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span> </span><span class="annot"><a href="Math.Number.R.html#eps_double"><span class="hs-identifier hs-type">eps_double</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-137"></span><span> </span><span id="eps_double"><span class="annot"><span class="annottext">eps_double :: Rational
</span><a href="Math.Number.R.html#eps_double"><span class="hs-identifier hs-var hs-var">eps_double</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Integer
forall a. RealFloat a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">floatRadix</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Int
forall a. RealFloat a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">floatDigits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681384069"><span id="local-6989586621681384073"><span id="local-6989586621681384076"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-140"></span><span>   </span><span id="local-6989586621681384081"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681384081"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681384082"><span class="annot"><span class="annottext">%&lt; :: Int -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681384083"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384083"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681384081"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384083"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-141"></span><span>   </span><span id="local-6989586621681384087"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384087"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681384088"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Int -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681384089"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681384089"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384087"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681384089"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681384095"><span id="local-6989586621681384099"><span id="local-6989586621681384102"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-144"></span><span>   </span><span id="local-6989586621681384107"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384107"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681384108"><span class="annot"><span class="annottext">%&lt; :: Integer -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681384109"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384109"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384107"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384109"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-145"></span><span>   </span><span id="local-6989586621681384113"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384113"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681384114"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Integer -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681384115"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384115"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384113"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384115"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681384122"><span id="local-6989586621681384126"><span id="local-6989586621681384129"><span class="annot"><a href="Math.Number.Interface.html#DedekindCut"><span class="hs-identifier hs-type">DedekindCut</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-148"></span><span>   </span><span id="local-6989586621681384135"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681384135"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681384136"><span class="annot"><span class="annottext">%&lt; :: Word -&gt; R -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var hs-var hs-var hs-var">%&lt;</span></a></span></span><span> </span><span id="local-6989586621681384137"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384137"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681384135"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R -&gt; Bool
forall q r. DedekindCut q r =&gt; q -&gt; r -&gt; Bool
</span><a href="Math.Number.Interface.html#%25%3C"><span class="hs-operator hs-var">%&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384137"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-149"></span><span>   </span><span id="local-6989586621681384141"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384141"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681384142"><span class="annot"><span class="annottext">&lt;% :: R -&gt; Word -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;%</span></a></span></span><span> </span><span id="local-6989586621681384143"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681384143"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384141"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Bool
forall q r. DedekindCut q r =&gt; r -&gt; q -&gt; Bool
</span><a href="Math.Number.Interface.html#%3C%25"><span class="hs-operator hs-var">&lt;%</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; Rational
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621681384143"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Limiting"><span class="hs-identifier hs-type">Limiting</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-keyword">data</span><span> </span><span id="Closure"><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-var">Closure</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RClosure"><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runRClosure"><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.R.html#runRClosure"><span class="hs-identifier hs-var hs-var">runRClosure</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-153"></span><span>    </span><span id="local-6989586621681384160"><span class="annot"><span class="annottext">limit :: Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384160"><span class="hs-identifier hs-var hs-var hs-var hs-var">limit</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681384163"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384163"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">~</span><span id="local-6989586621681384164"><span class="annot"><span class="annottext">z :: Stream R
</span><a href="#local-6989586621681384164"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681384165"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384165"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Closure Stream R) -&gt; R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384166"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384166"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-154"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384165"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384166"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384163"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384166"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384166"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-155"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384165"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384166"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-156"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.R.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681384164"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384166"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-157"></span><span>    </span><span id="local-6989586621681384173"><span class="annot"><span class="annottext">approximations :: Closure Stream R -&gt; Stream R
</span><a href="#local-6989586621681384173"><span class="hs-identifier hs-var hs-var hs-var hs-var">approximations</span></a></span></span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681384175"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384175"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; R) -&gt; Stream Rational -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
</span><a href="#local-6989586621681384176"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream R) -&gt; Stream Rational -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational
forall a. Fractional a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power"><span class="hs-identifier hs-var">power</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-158"></span><span>       </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681384176"><span class="annot"><span class="annottext">f :: Rational -&gt; R
</span><a href="#local-6989586621681384176"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681384178"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384178"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384179"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384179"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384175"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384178"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384179"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-161"></span><span>    </span><span id="local-6989586621681384185"><span class="annot"><span class="annottext">conj :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384185"><span class="hs-identifier hs-var hs-var hs-var hs-var">conj</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681384187"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384187"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall m. ConjugateSymmetric m =&gt; m -&gt; m
</span><a href="Math.Matrix.Interface.html#conj"><span class="hs-identifier hs-var">conj</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384187"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681384193"><span id="local-6989586621681384197"><span id="local-6989586621681384200"><span id="local-6989586621681384203"><span id="local-6989586621681384207"><span id="local-6989586621681384210"><span class="annot"><a href="Math.Number.StreamInterface.html#Infinitesimal"><span class="hs-identifier hs-type">Infinitesimal</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-165"></span><span>   </span><span id="local-6989586621681384218"><span class="annot"><span class="annottext">epsilon_stream :: Stream R
</span><a href="#local-6989586621681384218"><span class="hs-identifier hs-var hs-var hs-var hs-var">epsilon_stream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream R -&gt; Stream R
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1.0</span></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0.1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream R
forall (str :: * -&gt; *) a. Infinitesimal str a =&gt; str a
</span><a href="Math.Number.StreamInterface.html#epsilon_stream"><span class="hs-identifier hs-var">epsilon_stream</span></a></span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-168"></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681384230"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384230"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681384231"><span class="annot"><span class="annottext">/ :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">/</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681384232"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384232"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384230"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384232"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>   </span><span id="local-6989586621681384234"><span class="annot"><span class="annottext">recip :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384234"><span class="hs-identifier hs-var hs-var hs-var hs-var">recip</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681384236"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384236"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384236"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>   </span><span id="local-6989586621681384238"><span class="annot"><span class="annottext">fromRational :: Rational -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromRational</span></span></span><span> </span><span id="local-6989586621681384239"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384239"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384239"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span> </span><span>
</span><span id="line-172"></span><span> </span><span class="annot"><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-type">liftRClosure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-173"></span><span> </span><span id="liftRClosure"><span class="annot"><span class="annottext">liftRClosure :: (R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var hs-var">liftRClosure</span></a></span></span><span> </span><span id="local-6989586621681384241"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384241"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681384242"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384242"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384241"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384242"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>  </span><span>
</span><span id="line-175"></span><span> </span><span class="annot"><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-type">liftRClosure2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-176"></span><span> </span><span id="liftRClosure2"><span class="annot"><span class="annottext">liftRClosure2 :: (R -&gt; R -&gt; R)
-&gt; Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-var hs-var">liftRClosure2</span></a></span></span><span> </span><span id="local-6989586621681384244"><span class="annot"><span class="annottext">R -&gt; R -&gt; R
</span><a href="#local-6989586621681384244"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681384245"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384245"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-type">RClosure</span></a></span><span> </span><span id="local-6989586621681384246"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384246"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
</span><a href="#local-6989586621681384244"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384245"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384246"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span> </span><span>
</span><span id="line-178"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681384268"><span id="local-6989586621681384272"><span id="local-6989586621681384275"><span id="local-6989586621681384278"><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-179"></span><span>   </span><span id="local-6989586621681384282"><span class="annot"><span class="annottext">pi :: Closure Stream R
</span><a href="#local-6989586621681384282"><span class="hs-identifier hs-var hs-var hs-var hs-var">pi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R
forall a. Floating a =&gt; a
</span><span class="hs-identifier hs-var">pi</span></span><span>
</span><span id="line-180"></span><span>   </span><span id="local-6989586621681384285"><span class="annot"><span class="annottext">exp :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384285"><span class="hs-identifier hs-var hs-var hs-var hs-var">exp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span>
</span><span id="line-181"></span><span>   </span><span id="local-6989586621681384288"><span class="annot"><span class="annottext">log :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384288"><span class="hs-identifier hs-var hs-var hs-var hs-var">log</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span>
</span><span id="line-182"></span><span>   </span><span id="local-6989586621681384291"><span class="annot"><span class="annottext">sqrt :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384291"><span class="hs-identifier hs-var hs-var hs-var hs-var">sqrt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span>
</span><span id="line-183"></span><span>   </span><span id="local-6989586621681384294"><span class="annot"><span class="annottext">** :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384294"><span class="hs-operator hs-var hs-var hs-var hs-var">(**)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R)
-&gt; Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-var">liftRClosure2</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(**)</span></span><span>
</span><span id="line-184"></span><span>   </span><span id="local-6989586621681384297"><span class="annot"><span class="annottext">logBase :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384297"><span class="hs-identifier hs-var hs-var hs-var hs-var">logBase</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R)
-&gt; Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-var">liftRClosure2</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">logBase</span></span><span>
</span><span id="line-185"></span><span>   </span><span id="local-6989586621681384300"><span class="annot"><span class="annottext">sin :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384300"><span class="hs-identifier hs-var hs-var hs-var hs-var">sin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span>
</span><span id="line-186"></span><span>   </span><span id="local-6989586621681384303"><span class="annot"><span class="annottext">cos :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384303"><span class="hs-identifier hs-var hs-var hs-var hs-var">cos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span>
</span><span id="line-187"></span><span>   </span><span id="local-6989586621681384306"><span class="annot"><span class="annottext">tan :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384306"><span class="hs-identifier hs-var hs-var hs-var hs-var">tan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tan</span></span><span>
</span><span id="line-188"></span><span>   </span><span id="local-6989586621681384309"><span class="annot"><span class="annottext">asin :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384309"><span class="hs-identifier hs-var hs-var hs-var hs-var">asin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asin</span></span><span>
</span><span id="line-189"></span><span>   </span><span id="local-6989586621681384312"><span class="annot"><span class="annottext">acos :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384312"><span class="hs-identifier hs-var hs-var hs-var hs-var">acos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acos</span></span><span>
</span><span id="line-190"></span><span>   </span><span id="local-6989586621681384315"><span class="annot"><span class="annottext">atan :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384315"><span class="hs-identifier hs-var hs-var hs-var hs-var">atan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atan</span></span><span>
</span><span id="line-191"></span><span>   </span><span id="local-6989586621681384318"><span class="annot"><span class="annottext">sinh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384318"><span class="hs-identifier hs-var hs-var hs-var hs-var">sinh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span>
</span><span id="line-192"></span><span>   </span><span id="local-6989586621681384321"><span class="annot"><span class="annottext">cosh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384321"><span class="hs-identifier hs-var hs-var hs-var hs-var">cosh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span>
</span><span id="line-193"></span><span>   </span><span id="local-6989586621681384324"><span class="annot"><span class="annottext">tanh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384324"><span class="hs-identifier hs-var hs-var hs-var hs-var">tanh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">tanh</span></span><span>
</span><span id="line-194"></span><span>   </span><span id="local-6989586621681384327"><span class="annot"><span class="annottext">asinh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384327"><span class="hs-identifier hs-var hs-var hs-var hs-var">asinh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">asinh</span></span><span>
</span><span id="line-195"></span><span>   </span><span id="local-6989586621681384330"><span class="annot"><span class="annottext">acosh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384330"><span class="hs-identifier hs-var hs-var hs-var hs-var">acosh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">acosh</span></span><span>
</span><span id="line-196"></span><span>   </span><span id="local-6989586621681384333"><span class="annot"><span class="annottext">atanh :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384333"><span class="hs-identifier hs-var hs-var hs-var hs-var">atanh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">atanh</span></span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-199"></span><span>   </span><span id="local-6989586621681384344"><span class="annot"><span class="annottext">+ :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(+)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R)
-&gt; Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-var">liftRClosure2</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span>
</span><span id="line-200"></span><span>   </span><span id="local-6989586621681384346"><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R)
-&gt; Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-var">liftRClosure2</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>   </span><span id="local-6989586621681384348"><span class="annot"><span class="annottext">* :: Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(*)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R)
-&gt; Closure Stream R -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure2"><span class="hs-identifier hs-var">liftRClosure2</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span>
</span><span id="line-202"></span><span>   </span><span id="local-6989586621681384350"><span class="annot"><span class="annottext">abs :: Closure Stream R -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">abs</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span>
</span><span id="line-203"></span><span>   </span><span id="local-6989586621681384352"><span class="annot"><span class="annottext">signum :: Closure Stream R -&gt; Closure Stream R
</span><a href="#local-6989586621681384352"><span class="hs-identifier hs-var hs-var hs-var hs-var">signum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span>
</span><span id="line-204"></span><span>   </span><span id="local-6989586621681384355"><span class="annot"><span class="annottext">negate :: Closure Stream R -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">negate</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Closure Stream R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#liftRClosure"><span class="hs-identifier hs-var">liftRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span>
</span><span id="line-205"></span><span>   </span><span id="local-6989586621681384357"><span class="annot"><span class="annottext">fromInteger :: Integer -&gt; Closure Stream R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromInteger</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384358"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384358"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; R
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384358"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Infinitary"><span class="hs-identifier hs-type">Infinitary</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Closure"><span class="hs-identifier hs-type">Closure</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>    </span><span id="local-6989586621681384364"><span class="annot"><span class="annottext">infinite :: Closure Stream R
</span><a href="#local-6989586621681384364"><span class="hs-identifier hs-var hs-var hs-var hs-var">infinite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R
forall a. Infinitary a =&gt; a
</span><a href="Math.Number.Interface.html#infinite"><span class="hs-identifier hs-var">infinite</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bounded</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-211"></span><span>    </span><span id="local-6989586621681384372"><span class="annot"><span class="annottext">minBound :: R
</span><a href="#local-6989586621681384372"><span class="hs-identifier hs-var hs-var hs-var hs-var">minBound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
forall a. Infinitary a =&gt; a
</span><a href="Math.Number.Interface.html#infinite"><span class="hs-identifier hs-var">infinite</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span id="local-6989586621681384375"><span class="annot"><span class="annottext">maxBound :: R
</span><a href="#local-6989586621681384375"><span class="hs-identifier hs-var hs-var hs-var hs-var">maxBound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
forall a. Infinitary a =&gt; a
</span><a href="Math.Number.Interface.html#infinite"><span class="hs-identifier hs-var">infinite</span></a></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-215"></span><span>    </span><span id="local-6989586621681384382"><span class="annot"><span class="annottext">accumulation_point :: Closure Stream R -&gt; R
</span><a href="#local-6989586621681384382"><span class="hs-identifier hs-var hs-var hs-var hs-var">accumulation_point</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.R.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span> </span><span class="annot"><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-type">lim</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-218"></span><span> </span><span id="lim"><span class="annot"><span class="annottext">lim :: Stream R -&gt; R
</span><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-var hs-var">lim</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.R.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R)
-&gt; (Stream R -&gt; Closure Stream R) -&gt; Stream R -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span> </span><span class="annot"><a href="Math.Number.R.html#real"><span class="hs-identifier hs-type">real</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-221"></span><span> </span><span id="real"><span class="annot"><span class="annottext">real :: (Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var hs-var">real</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; R
</span><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Endo Rational -&gt; R)
-&gt; ((Rational -&gt; Rational) -&gt; Endo Rational)
-&gt; (Rational -&gt; Rational)
-&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Endo Rational
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span> </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Math.Number.R.html#lim"><span class="hs-pragma hs-type">lim</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-224"></span><span> </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Math.Number.R.html#real"><span class="hs-pragma hs-type">real</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-225"></span><span> </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Math.Number.R.html#approximate"><span class="hs-pragma hs-type">approximate</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span> </span><span class="hs-comment">-- |</span><span>
</span><span id="line-228"></span><span> </span><span class="hs-comment">-- approximate takes a real \(r\), and a rational \(q\)</span><span>
</span><span id="line-229"></span><span> </span><span class="hs-comment">-- and produces a rational \(q_2\) such that \(|r - q_2| \le q\)</span><span>
</span><span id="line-230"></span><span> </span><span class="hs-comment">--</span><span>
</span><span id="line-231"></span><span> </span><span class="hs-comment">-- \(r_1 (r_2 q) = (r_1 r_2) q\), where \(r_1,r_2 \in {\mathbf{R}}\), \(q \in {\mathbf{Q}}\).</span><span>
</span><span id="line-232"></span><span> </span><span class="hs-comment">--</span><span>
</span><span id="line-233"></span><span> </span><span class="hs-comment">-- that is,</span><span>
</span><span id="line-234"></span><span> </span><span class="hs-comment">-- \[{\mathbf{approximate}}(r_1) \circ {\mathbf{approximate}}(r_2) = {\mathbf{approximate}}(r_1 r_2)\]</span><span>
</span><span id="line-235"></span><span> </span><span class="hs-comment">-- that is,</span><span>
</span><span id="line-236"></span><span> </span><span class="hs-comment">-- \[{\mathbf{approximate}}(r_1,{\mathbf{approximate}}(r_2,q)) = {\mathbf{approximate}}(r_1 r_2, q)\]</span><span>
</span><span id="line-237"></span><span> </span><span class="hs-comment">-- that is</span><span>
</span><span id="line-238"></span><span> </span><span class="hs-comment">-- \[{\mathbf{approximate}}(r_1,q_3)=q_2 \Leftrightarrow |r_1 - q_2| \le q_3\]</span><span>
</span><span id="line-239"></span><span> </span><span class="hs-comment">-- \[{\mathbf{approximate}}(r_2,q) =q_3 \Leftrightarrow |r_2 - q_3| \le q\]</span><span>
</span><span id="line-240"></span><span> </span><span class="hs-comment">-- \[{\mathbf{approximate}}(r_1 r_2, q)=q_2 \Leftrightarrow |r_1 r_2 - q_2| \le q\]</span><span>
</span><span id="line-241"></span><span> </span><span class="hs-comment">--  \[{\mathbf{approximate}}(r_1 r_2, q)={\mathbf{approximate}}(r_1,q_3)={\mathbf{approximate}}(r_1,{\mathbf{approximate}}(r_2,q))\]</span><span>
</span><span id="line-242"></span><span> </span><span class="hs-comment">--  \[\Leftrightarrow |r_1 - q_2| \le q_3 \land |r_2 - q_3| \le q\]</span><span>
</span><span id="line-243"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximate"><span class="hs-identifier hs-type">approximate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-244"></span><span> </span><span id="approximate"><span class="annot"><span class="annottext">approximate :: R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-identifier hs-var hs-var">approximate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">(Endo Rational -&gt; Rational -&gt; Rational)
-&gt; (R -&gt; Endo Rational) -&gt; R -&gt; Rational -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Endo Rational
</span><a href="Math.Number.R.html#approximate_endo"><span class="hs-identifier hs-var">approximate_endo</span></a></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span> </span><span class="annot"><a href="Math.Number.R.html#rational_approximations_r"><span class="hs-identifier hs-type">rational_approximations_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-247"></span><span> </span><span id="rational_approximations_r"><span class="annot"><span class="annottext">rational_approximations_r :: R -&gt; Stream Rational
</span><a href="Math.Number.R.html#rational_approximations_r"><span class="hs-identifier hs-var hs-var">rational_approximations_r</span></a></span></span><span> </span><span id="local-6989586621681384388"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384388"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-identifier hs-var">approximate</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384388"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Rational)
-&gt; Stream Rational -&gt; Stream Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Rational
forall a. Fractional a =&gt; Integer -&gt; Stream a
</span><a href="Math.Number.Stream.html#power"><span class="hs-identifier hs-var">power</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10</span></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Approximations"><span class="hs-identifier hs-type">Approximations</span></a></span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-250"></span><span>    </span><span id="local-6989586621681384392"><span class="annot"><span class="annottext">floating_approximations :: R -&gt; Stream Double
</span><a href="Math.Number.Interface.html#floating_approximations"><span class="hs-identifier hs-var hs-var hs-var hs-var">floating_approximations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Double
</span><a href="Math.Number.R.html#floating_approximations_r"><span class="hs-identifier hs-var">floating_approximations_r</span></a></span><span>
</span><span id="line-251"></span><span>    </span><span id="local-6989586621681384394"><span class="annot"><span class="annottext">rational_approximations :: R -&gt; Stream Rational
</span><a href="Math.Number.Interface.html#rational_approximations"><span class="hs-identifier hs-var hs-var hs-var hs-var">rational_approximations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
</span><a href="Math.Number.R.html#rational_approximations_r"><span class="hs-identifier hs-var">rational_approximations_r</span></a></span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span> </span><span class="annot"><a href="Math.Number.R.html#floating_approximations_r"><span class="hs-identifier hs-type">floating_approximations_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-254"></span><span> </span><span id="floating_approximations_r"><span class="annot"><span class="annottext">floating_approximations_r :: R -&gt; Stream Double
</span><a href="Math.Number.R.html#floating_approximations_r"><span class="hs-identifier hs-var hs-var">floating_approximations_r</span></a></span></span><span> </span><span id="local-6989586621681384395"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384395"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Double) -&gt; Stream Rational -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">(Stream Rational -&gt; Stream Double)
-&gt; Stream Rational -&gt; Stream Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream Rational
forall (str :: * -&gt; *) a. Approximations str a =&gt; a -&gt; str Rational
</span><a href="Math.Number.Interface.html#rational_approximations"><span class="hs-identifier hs-var">rational_approximations</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384395"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span> </span><span class="annot"><a href="Math.Number.R.html#display_precision"><span class="hs-identifier hs-type">display_precision</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-257"></span><span> </span><span id="display_precision"><span class="annot"><span class="annottext">display_precision :: Rational
</span><a href="Math.Number.R.html#display_precision"><span class="hs-identifier hs-var hs-var">display_precision</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10000000000</span></span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681384398"><span id="local-6989586621681384403"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-260"></span><span>    </span><span id="local-6989586621681384409"><span class="annot"><span class="annottext">show :: R -&gt; String
</span><a href="#local-6989586621681384409"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span id="local-6989586621681384411"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384411"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; String) -&gt; Double -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384411"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#display_precision"><span class="hs-identifier hs-var">display_precision</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Tools.PrettyP.html#PpShow"><span class="hs-identifier hs-type">PpShow</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-263"></span><span>    </span><span id="local-6989586621681384419"><span class="annot"><span class="annottext">pp :: R -&gt; Doc
</span><a href="#local-6989586621681384419"><span class="hs-identifier hs-var hs-var hs-var hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621681384421"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384421"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Doc
forall a. PpShow a =&gt; a -&gt; Doc
</span><a href="Math.Tools.PrettyP.html#pp"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Doc) -&gt; Double -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384421"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="Math.Number.R.html#display_precision"><span class="hs-identifier hs-var">display_precision</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#CompleteSpace"><span class="hs-identifier hs-type">CompleteSpace</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span> </span><span class="annot"><a href="Math.Number.R.html#gamma_r"><span class="hs-identifier hs-type">gamma_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-268"></span><span> </span><span id="gamma_r"><span class="annot"><span class="annottext">gamma_r :: R -&gt; R
</span><a href="Math.Number.R.html#gamma_r"><span class="hs-identifier hs-var hs-var">gamma_r</span></a></span></span><span> </span><span id="local-6989586621681384424"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384424"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.R.html#epsilon"><span class="hs-identifier hs-var">epsilon</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384426"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384426"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384426"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Floating a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">**</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384424"><span class="hs-identifier hs-var">z</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span> </span><span class="annot"><a href="Math.Number.R.html#epsilon"><span class="hs-identifier hs-type">epsilon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-271"></span><span> </span><span id="epsilon"><span class="annot"><span class="annottext">epsilon :: R
</span><a href="Math.Number.R.html#epsilon"><span class="hs-identifier hs-var hs-var">epsilon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span> </span><span class="annot"><a href="Math.Number.R.html#infinite_r"><span class="hs-identifier hs-type">infinite_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-274"></span><span> </span><span id="infinite_r"><span class="annot"><span class="annottext">infinite_r :: R
</span><a href="Math.Number.R.html#infinite_r"><span class="hs-identifier hs-var hs-var">infinite_r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var">liftR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.R.html#epsilon"><span class="hs-identifier hs-var">epsilon</span></a></span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Infinitary"><span class="hs-identifier hs-type">Infinitary</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-277"></span><span>    </span><span id="local-6989586621681384429"><span class="annot"><span class="annottext">infinite :: R
</span><a href="Math.Number.Interface.html#infinite"><span class="hs-identifier hs-var hs-var hs-var hs-var">infinite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.R.html#infinite_r"><span class="hs-identifier hs-var">infinite_r</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span> </span><span class="annot"><span class="hs-comment">-- | this propagates accuracy without changing it.</span></span><span>
</span><span id="line-280"></span><span> </span><span class="annot"><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-type">liftR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-281"></span><span> </span><span id="liftR"><span class="annot"><span class="annottext">liftR :: (Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var hs-var">liftR</span></a></span></span><span> </span><span id="local-6989586621681384430"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384430"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span id="local-6989586621681384431"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384431"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384430"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational)
-&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384431"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span> </span><span class="annot"><span class="hs-comment">-- | this propagates accuracy without changing it</span></span><span>
</span><span id="line-284"></span><span> </span><span class="annot"><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-type">liftR2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-285"></span><span> </span><span id="liftR2"><span class="annot"><span class="annottext">liftR2 :: (Rational -&gt; Rational -&gt; Rational) -&gt; R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-var hs-var">liftR2</span></a></span></span><span> </span><span id="local-6989586621681384432"><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681384432"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384433"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384433"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384434"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384434"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384435"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384435"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681384432"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384433"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384435"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384434"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384435"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span> </span><span class="hs-comment">-- | For \(a,b \in {\mathbb Q}\) and \(0 \in (a,b) \) the invocation \(f(a)(b)\) of \(f\)</span><span>
</span><span id="line-288"></span><span> </span><span class="hs-comment">-- in \(computable\_r(f)\) must produce</span><span>
</span><span id="line-289"></span><span> </span><span class="hs-comment">-- approximation \(q\) of another real \(r\) as rational number, such that</span><span>
</span><span id="line-290"></span><span> </span><span class="hs-comment">-- \( r - q \in (a,b) \). </span><span>
</span><span id="line-291"></span><span> </span><span class="annot"><a href="Math.Number.R.html#computable_r"><span class="hs-identifier hs-type">computable_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-292"></span><span> </span><span id="computable_r"><span class="annot"><span class="annottext">computable_r :: (Rational -&gt; Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#computable_r"><span class="hs-identifier hs-var hs-var">computable_r</span></a></span></span><span> </span><span id="local-6989586621681384436"><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681384436"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384437"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384437"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681384436"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384437"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384437"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span> </span><span class="annot"><span class="hs-comment">-- | inverseImage transforms accuracy computation of the real.</span></span><span>
</span><span id="line-295"></span><span> </span><span class="annot"><a href="Math.Number.R.html#inverseImage"><span class="hs-identifier hs-type">inverseImage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-296"></span><span> </span><span id="inverseImage"><span class="annot"><span class="annottext">inverseImage :: (Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#inverseImage"><span class="hs-identifier hs-var hs-var">inverseImage</span></a></span></span><span> </span><span id="local-6989586621681384438"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384438"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span id="local-6989586621681384439"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384439"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384439"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational)
-&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384438"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span> </span><span class="hs-comment">-- | The first argument is the function lifted. The second argument</span><span>
</span><span id="line-299"></span><span> </span><span class="hs-comment">-- describes change in accuracy by the function.</span><span>
</span><span id="line-300"></span><span> </span><span class="annot"><a href="Math.Number.R.html#liftWithAccuracy"><span class="hs-identifier hs-type">liftWithAccuracy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-301"></span><span> </span><span id="liftWithAccuracy"><span class="annot"><span class="annottext">liftWithAccuracy :: (Rational -&gt; Rational) -&gt; (Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftWithAccuracy"><span class="hs-identifier hs-var hs-var">liftWithAccuracy</span></a></span></span><span> </span><span id="local-6989586621681384440"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384440"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681384441"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384441"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384442"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384442"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var">liftR</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384440"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#inverseImage"><span class="hs-identifier hs-var">inverseImage</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384441"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384442"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span> </span><span class="hs-comment">-- | approx_compose will use the second real as the level</span><span>
</span><span id="line-304"></span><span> </span><span class="hs-comment">--   of approximation to compute the first.</span><span>
</span><span id="line-305"></span><span> </span><span class="annot"><a href="Math.Number.R.html#approximate_as"><span class="hs-identifier hs-type">approximate_as</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-306"></span><span> </span><span id="approximate_as"><span class="annot"><span class="annottext">approximate_as :: R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#approximate_as"><span class="hs-identifier hs-var hs-var">approximate_as</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384443"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384443"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384444"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384444"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; R
</span><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384443"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Endo Rational -&gt; Endo Rational
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384444"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span> </span><span class="annot"><a href="Math.Number.R.html#limit_compose"><span class="hs-identifier hs-type">limit_compose</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-309"></span><span> </span><span id="limit_compose"><span class="annot"><span class="annottext">limit_compose :: (Rational -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#limit_compose"><span class="hs-identifier hs-var hs-var">limit_compose</span></a></span></span><span>  </span><span id="local-6989586621681384445"><span class="annot"><span class="annottext">Rational -&gt; R
</span><a href="#local-6989586621681384445"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384446"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384446"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-glyph">\</span><span id="local-6989586621681384447"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384447"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; Endo Rational
</span><a href="Math.Number.R.html#approximate_endo"><span class="hs-identifier hs-var">approximate_endo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; R
</span><a href="#local-6989586621681384445"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384446"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384447"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384447"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span> </span><span class="annot"><a href="Math.Number.R.html#inverseImageEndo"><span class="hs-identifier hs-type">inverseImageEndo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-314"></span><span> </span><span id="inverseImageEndo"><span class="annot"><span class="annottext">inverseImageEndo :: Endo Rational -&gt; Endo R
</span><a href="Math.Number.R.html#inverseImageEndo"><span class="hs-identifier hs-var hs-var">inverseImageEndo</span></a></span></span><span> </span><span id="local-6989586621681384448"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384448"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; Endo R
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; Endo R) -&gt; (R -&gt; R) -&gt; Endo R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384449"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384449"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384448"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational)
-&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384449"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-315"></span><span>  </span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span> </span><span class="annot"><a href="Math.Number.R.html#lub_r"><span class="hs-identifier hs-type">lub_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-318"></span><span> </span><span id="lub_r"><span class="annot"><span class="annottext">lub_r :: [R] -&gt; Maybe R
</span><a href="Math.Number.R.html#lub_r"><span class="hs-identifier hs-var hs-var">lub_r</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe R
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-319"></span><span> </span><span class="annot"><a href="Math.Number.R.html#lub_r"><span class="hs-identifier hs-var">lub_r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384450"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384450"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681384451"><span class="annot"><span class="annottext">[R]
</span><a href="#local-6989586621681384451"><span class="hs-identifier hs-var">cr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe R -&gt; (R -&gt; Maybe R) -&gt; Maybe R -&gt; Maybe R
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational -&gt; R
</span><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384450"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
</span><a href="#local-6989586621681384453"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[R] -&gt; Maybe R
</span><a href="Math.Number.R.html#lub_r"><span class="hs-identifier hs-var">lub_r</span></a></span><span> </span><span class="annot"><span class="annottext">[R]
</span><a href="#local-6989586621681384451"><span class="hs-identifier hs-var">cr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681384453"><span class="annot"><span class="annottext">f :: R -&gt; Maybe R
</span><a href="#local-6989586621681384453"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384454"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384454"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Maybe R) -&gt; R -&gt; Maybe R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384455"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384455"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-321"></span><span>               </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384454"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384455"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384450"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384455"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span> </span><span>
</span><span id="line-323"></span><span> </span><span class="annot"><a href="Math.Number.R.html#glb_r"><span class="hs-identifier hs-type">glb_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-324"></span><span> </span><span id="glb_r"><span class="annot"><span class="annottext">glb_r :: [R] -&gt; Maybe R
</span><a href="Math.Number.R.html#glb_r"><span class="hs-identifier hs-var hs-var">glb_r</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe R
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-325"></span><span> </span><span class="annot"><a href="Math.Number.R.html#glb_r"><span class="hs-identifier hs-var">glb_r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384456"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384456"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681384457"><span class="annot"><span class="annottext">[R]
</span><a href="#local-6989586621681384457"><span class="hs-identifier hs-var">cr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe R -&gt; (R -&gt; Maybe R) -&gt; Maybe R -&gt; Maybe R
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational -&gt; R
</span><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384456"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
</span><a href="#local-6989586621681384458"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[R] -&gt; Maybe R
</span><a href="Math.Number.R.html#glb_r"><span class="hs-identifier hs-var">glb_r</span></a></span><span> </span><span class="annot"><span class="annottext">[R]
</span><a href="#local-6989586621681384457"><span class="hs-identifier hs-var">cr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681384458"><span class="annot"><span class="annottext">f :: R -&gt; Maybe R
</span><a href="#local-6989586621681384458"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384459"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384459"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Maybe R) -&gt; R -&gt; Maybe R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384460"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384460"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-327"></span><span>              </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384459"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384460"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384456"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384460"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span> </span><span class="hs-comment">-- | Note zero reals are special, we avoid divide by zero by implementing</span><span>
</span><span id="line-330"></span><span> </span><span class="hs-comment">-- zero as epsilon.</span><span>
</span><span id="line-331"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-332"></span><span>    </span><span id="local-6989586621681384469"><span class="annot"><span class="annottext">+ :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(+)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational) -&gt; R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-var">liftR2</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span>
</span><span id="line-333"></span><span>    </span><span id="local-6989586621681384471"><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational -&gt; Rational) -&gt; R -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR2"><span class="hs-identifier hs-var">liftR2</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span>    </span><span id="local-6989586621681384477"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384477"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681384478"><span class="annot"><span class="annottext">* :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">*</span></span></span><span> </span><span id="local-6989586621681384479"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384479"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384480"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384480"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384477"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384480"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>                         </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384479"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384480"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>    </span><span id="local-6989586621681384482"><span class="annot"><span class="annottext">negate :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">negate</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var">liftR</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span>
</span><span id="line-337"></span><span>    </span><span id="local-6989586621681384484"><span class="annot"><span class="annottext">abs :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">abs</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var">liftR</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span>
</span><span id="line-338"></span><span>    </span><span id="local-6989586621681384486"><span class="annot"><span class="annottext">signum :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">signum</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var">liftR</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span>
</span><span id="line-339"></span><span>    </span><span id="local-6989586621681384490"><span class="annot"><span class="annottext">fromInteger :: Integer -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromInteger</span></span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-340"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span id="local-6989586621681384491"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384491"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Rational
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384491"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>
</span><span id="line-342"></span><span> </span><span class="hs-comment">-- | For division, if a rational approximation of the divisor</span><span>
</span><span id="line-343"></span><span> </span><span class="hs-comment">-- is zero, we increase accuracy. Notice this makes</span><span>
</span><span id="line-344"></span><span> </span><span class="hs-comment">-- a real number constructed from &quot;real (const 0)&quot; behave</span><span>
</span><span id="line-345"></span><span> </span><span class="hs-comment">-- much worse (nontermination) than &quot;epsilon&quot;</span><span>
</span><span id="line-346"></span><span> </span><span class="hs-comment">-- (which just increases accuracy)</span><span>
</span><span id="line-347"></span><span> </span><span class="hs-comment">-- Using L'H&#65533;pital's rule for 0/0</span><span>
</span><span id="line-348"></span><span> </span><span class="hs-comment">-- &lt;https://en.wikipedia.org/wiki/L%27H%C3%B4pital%27s_rule&gt;</span><span>
</span><span id="line-349"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-350"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384517"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384517"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681384518"><span class="annot"><span class="annottext">/ :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">/</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384519"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384519"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384520"><span class="hs-identifier hs-var">checker</span></a></span><span>
</span><span id="line-351"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681384521"><span class="annot"><span class="annottext">divisor :: Rational -&gt; Rational
</span><a href="#local-6989586621681384521"><span class="hs-identifier hs-var hs-var">divisor</span></a></span></span><span> </span><span id="local-6989586621681384522"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384522"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384519"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384522"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>            </span><span id="local-6989586621681384523"><span class="annot"><span class="annottext">dividend :: Rational -&gt; Rational
</span><a href="#local-6989586621681384523"><span class="hs-identifier hs-var hs-var">dividend</span></a></span></span><span> </span><span id="local-6989586621681384524"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384524"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384517"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384524"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>            </span><span id="local-6989586621681384520"><span class="annot"><span class="annottext">checker :: Rational -&gt; Rational
</span><a href="#local-6989586621681384520"><span class="hs-identifier hs-var hs-var">checker</span></a></span></span><span> </span><span id="local-6989586621681384525"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384525"><span class="hs-identifier hs-var">eps</span></a></span></span><span>
</span><span id="line-354"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384521"><span class="hs-identifier hs-var">divisor</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384525"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384523"><span class="hs-identifier hs-var">dividend</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384525"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384521"><span class="hs-identifier hs-var">divisor</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384525"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-355"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384523"><span class="hs-identifier hs-var">dividend</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384525"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span>
</span><span id="line-356"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#derivate_rational"><span class="hs-identifier hs-var">derivate_rational</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384525"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; Rational -&gt; Rational)
-&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384517"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>                    </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#derivate_rational"><span class="hs-identifier hs-var">derivate_rational</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384525"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; Rational -&gt; Rational)
-&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384519"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384525"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-358"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384520"><span class="hs-identifier hs-var">checker</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384525"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-359"></span><span>    </span><span id="local-6989586621681384534"><span class="annot"><span class="annottext">recip :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">recip</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384535"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384535"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384536"><span class="hs-identifier hs-var">checker</span></a></span><span>
</span><span id="line-360"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681384537"><span class="annot"><span class="annottext">divisor :: Rational -&gt; Rational
</span><a href="#local-6989586621681384537"><span class="hs-identifier hs-var hs-var">divisor</span></a></span></span><span> </span><span id="local-6989586621681384538"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384538"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384535"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384538"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>            </span><span id="local-6989586621681384536"><span class="annot"><span class="annottext">checker :: Rational -&gt; Rational
</span><a href="#local-6989586621681384536"><span class="hs-identifier hs-var hs-var">checker</span></a></span></span><span> </span><span id="local-6989586621681384539"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384539"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384537"><span class="hs-identifier hs-var">divisor</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384539"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">recip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384537"><span class="hs-identifier hs-var">divisor</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384539"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>                                </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384536"><span class="hs-identifier hs-var">checker</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384539"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span>    </span><span id="local-6989586621681384543"><span class="annot"><span class="annottext">fromRational :: Rational -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fromRational</span></span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-364"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span id="local-6989586621681384544"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384544"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384544"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#ConjugateSymmetric"><span class="hs-identifier hs-type">ConjugateSymmetric</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-368"></span><span>    </span><span id="local-6989586621681384548"><span class="annot"><span class="annottext">conj :: R -&gt; R
</span><a href="Math.Matrix.Interface.html#conj"><span class="hs-identifier hs-var hs-var hs-var hs-var">conj</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384549"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384549"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall m. ConjugateSymmetric m =&gt; m -&gt; m
</span><a href="Math.Matrix.Interface.html#conj"><span class="hs-identifier hs-var">conj</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational)
-&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384549"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span> </span><span class="annot"><span class="hs-comment">-- | R as an infinite dimensional vector space over the rationals.</span></span><span>
</span><span id="line-371"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-372"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="Scalar"><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-var">Scalar</span></a></span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-373"></span><span>    </span><span id="local-6989586621681384558"><span class="annot"><span class="annottext">vzero :: R
</span><a href="#local-6989586621681384558"><span class="hs-identifier hs-var hs-var hs-var hs-var">vzero</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.R.html#epsilon"><span class="hs-identifier hs-var">epsilon</span></a></span><span>
</span><span id="line-374"></span><span>    </span><span id="local-6989586621681384561"><span class="annot"><span class="annottext">vnegate :: R -&gt; R
</span><a href="#local-6989586621681384561"><span class="hs-identifier hs-var hs-var hs-var hs-var">vnegate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#liftR"><span class="hs-identifier hs-var">liftR</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span>
</span><span id="line-375"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384564"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384564"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681384565"><span class="annot"><span class="annottext">%+ :: R -&gt; R -&gt; R
</span><a href="#local-6989586621681384565"><span class="hs-operator hs-var hs-var hs-var hs-var">%+</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384567"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384567"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384568"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384568"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384564"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384568"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384567"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384568"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-376"></span><span>    </span><span id="local-6989586621681384571"><span class="annot"><span class="annottext">Scalar R
</span><a href="#local-6989586621681384571"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681384572"><span class="annot"><span class="annottext">%* :: Scalar R -&gt; R -&gt; R
</span><a href="#local-6989586621681384572"><span class="hs-operator hs-var hs-var hs-var hs-var">%*</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384574"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384574"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384575"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384575"><span class="hs-identifier hs-var">df</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Scalar Rational
Scalar R
</span><a href="#local-6989586621681384571"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Scalar Rational -&gt; Rational -&gt; Rational
forall v. VectorSpace v =&gt; Scalar v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var">%*</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384574"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384575"><span class="hs-identifier hs-var">df</span></a></span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span> </span><span class="hs-comment">-- | This lifts a rational function to a real function.</span><span>
</span><span id="line-379"></span><span> </span><span class="hs-comment">-- This computes accuracy using the formula \(dx = df / f'(x)\).</span><span>
</span><span id="line-380"></span><span> </span><span class="hs-comment">-- The accuracy behaves badly when \(f'(x) = 0\) due to divide-by-zero.</span><span>
</span><span id="line-381"></span><span> </span><span class="annot"><a href="Math.Number.R.html#differentialLiftR"><span class="hs-identifier hs-type">differentialLiftR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-382"></span><span> </span><span id="differentialLiftR"><span class="annot"><span class="annottext">differentialLiftR :: (Rational -&gt; Rational) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#differentialLiftR"><span class="hs-identifier hs-var hs-var">differentialLiftR</span></a></span></span><span> </span><span id="local-6989586621681384576"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384576"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span id="local-6989586621681384577"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384577"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; R
</span><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-var">Limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Endo Rational -&gt; R) -&gt; Endo Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Endo Rational
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; Endo Rational)
-&gt; (Rational -&gt; Rational) -&gt; Endo Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384578"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384578"><span class="hs-identifier hs-var">df</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384576"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384577"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#derivate_rational"><span class="hs-identifier hs-var">derivate_rational</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384578"><span class="hs-identifier hs-var">df</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384576"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384577"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384578"><span class="hs-identifier hs-var">df</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span> </span><span class="annot"><span class="hs-comment">-- | derivate for rational functions. The first argument is epsilon.</span></span><span>
</span><span id="line-385"></span><span> </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Math.Number.R.html#derivate_rational"><span class="hs-pragma hs-type">derivate_rational</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-386"></span><span> </span><span class="annot"><a href="Math.Number.R.html#derivate_rational"><span class="hs-identifier hs-type">derivate_rational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-387"></span><span> </span><span id="derivate_rational"><span class="annot"><span class="annottext">derivate_rational :: Rational -&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#derivate_rational"><span class="hs-identifier hs-var hs-var">derivate_rational</span></a></span></span><span> </span><span id="local-6989586621681384579"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384579"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681384580"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384580"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384581"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384581"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384580"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384581"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384579"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384580"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384581"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384579"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span> </span><span id="local-6989586621681383537"><span class="annot"><a href="Math.Number.R.html#derivate_generic_stream"><span class="hs-identifier hs-type">derivate_generic_stream</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681383537"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681383537"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383537"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681383537"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.StreamInterface.html#Stream"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681383537"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-390"></span><span> </span><span id="derivate_generic_stream"><span class="annot"><span class="annottext">derivate_generic_stream :: forall a. Fractional a =&gt; (a -&gt; a) -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.R.html#derivate_generic_stream"><span class="hs-identifier hs-var hs-var">derivate_generic_stream</span></a></span></span><span> </span><span id="local-6989586621681384589"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681384589"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681384590"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384590"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681384591"><span class="annot"><span class="annottext">z :: Stream a
</span><a href="#local-6989586621681384591"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span id="local-6989586621681384592"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384592"><span class="hs-identifier hs-var">di</span></a></span></span><span> </span><span id="local-6989586621681384593"><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681384593"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-391"></span><span>     </span><span id="local-6989586621681384594"><span class="annot"><span class="annottext">f' :: a -&gt; a -&gt; a
</span><a href="#local-6989586621681384594"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621681384595"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384595"><span class="hs-identifier hs-var">di'</span></a></span></span><span> </span><span id="local-6989586621681384596"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384596"><span class="hs-identifier hs-var">i'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681384589"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384596"><span class="hs-identifier hs-var">i'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384595"><span class="hs-identifier hs-var">di'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621681384589"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384596"><span class="hs-identifier hs-var">i'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384595"><span class="hs-identifier hs-var">di'</span></a></span><span>
</span><span id="line-392"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">a -&gt; Stream a -&gt; Stream a
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621681384594"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384592"><span class="hs-identifier hs-var">di</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384590"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Stream a -&gt; Stream a
forall a. Fractional a =&gt; (a -&gt; a) -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.R.html#derivate_generic_stream"><span class="hs-identifier hs-var">derivate_generic_stream</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681384597"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384597"><span class="hs-identifier hs-var">dd</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621681384594"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384597"><span class="hs-identifier hs-var">dd</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384590"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream a
</span><a href="#local-6989586621681384591"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span> </span><span class="annot"><span class="hs-comment">-- | computes derivate. \[{{df}\over{dt}} = \lim_{\epsilon\rightarrow 0}{{f(t+\epsilon)-f(t)}\over{\epsilon}}\]</span></span><span>
</span><span id="line-395"></span><span> </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Math.Number.R.html#derivate_r"><span class="hs-pragma hs-type">derivate_r</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-396"></span><span> </span><span class="annot"><a href="Math.Number.R.html#derivate_r"><span class="hs-identifier hs-type">derivate_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-397"></span><span> </span><span id="derivate_r"><span class="annot"><span class="annottext">derivate_r :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#derivate_r"><span class="hs-identifier hs-var hs-var">derivate_r</span></a></span></span><span> </span><span id="local-6989586621681384598"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384598"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681384599"><span class="annot"><span class="annottext">xx :: R
</span><a href="#local-6989586621681384599"><span class="hs-identifier hs-var">xx</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#Limit"><span class="hs-identifier hs-type">Limit</span></a></span><span> </span><span id="local-6989586621681384600"><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384600"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681384601"><span class="annot"><span class="annottext">fx :: R
</span><a href="#local-6989586621681384601"><span class="hs-identifier hs-var hs-var">fx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384598"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384599"><span class="hs-identifier hs-var">xx</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384602"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384602"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-398"></span><span>     </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384598"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384603"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384603"><span class="hs-identifier hs-var">eps'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Endo Rational
</span><a href="#local-6989586621681384600"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Endo Rational -&gt; Rational -&gt; Rational
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384603"><span class="hs-identifier hs-var">eps'</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384602"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384601"><span class="hs-identifier hs-var">fx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span>      </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384602"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384602"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-400"></span><span>         </span><span class="hs-comment">-- computing fx separately is an optimization that should allow</span><span>
</span><span id="line-401"></span><span>         </span><span class="hs-comment">-- sharing the value of 'fx' to many invocations at different precision.</span><span>
</span><span id="line-402"></span><span>  </span><span>
</span><span id="line-403"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#DifferentiallyClosed"><span class="hs-identifier hs-type">DifferentiallyClosed</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-404"></span><span>    </span><span id="local-6989586621681384609"><span class="annot"><span class="annottext">derivate :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="#local-6989586621681384609"><span class="hs-identifier hs-var hs-var hs-var hs-var">derivate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#derivate_r"><span class="hs-identifier hs-var">derivate_r</span></a></span><span>
</span><span id="line-405"></span><span>    </span><span id="local-6989586621681384611"><span class="annot"><span class="annottext">integral :: (R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var hs-var hs-var hs-var">integral</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.R.html#integral_r"><span class="hs-identifier hs-var">integral_r</span></a></span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span> </span><span class="hs-comment">-- | newton's method for finding root of function.</span><span>
</span><span id="line-408"></span><span> </span><span class="hs-comment">-- \[x_{i+1} = x_i - {{f(x_i)}\over{f'(x_i)}}\]</span><span>
</span><span id="line-409"></span><span> </span><span class="annot"><a href="Math.Number.R.html#newtons_method_r"><span class="hs-identifier hs-type">newtons_method_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-410"></span><span> </span><span id="newtons_method_r"><span class="annot"><span class="annottext">newtons_method_r :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#newtons_method_r"><span class="hs-identifier hs-var hs-var">newtons_method_r</span></a></span></span><span> </span><span id="local-6989586621681384612"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384612"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384613"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384613"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
</span><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-var">lim</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; R) -&gt; Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; Stream R
forall (str :: * -&gt; *) a.
StreamBuilder str =&gt;
(a -&gt; a) -&gt; a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#iterate_stream"><span class="hs-identifier hs-var">iterate_stream</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384615"><span class="hs-identifier hs-var">iteration</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384613"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span>
</span><span id="line-411"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681384615"><span class="annot"><span class="annottext">iteration :: R -&gt; R
</span><a href="#local-6989586621681384615"><span class="hs-identifier hs-var hs-var">iteration</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384616"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384616"><span class="hs-identifier hs-var">z'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384616"><span class="hs-identifier hs-var">z'</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384612"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384616"><span class="hs-identifier hs-var">z'</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall r. DifferentiallyClosed r =&gt; (r -&gt; r) -&gt; r -&gt; r
</span><a href="Math.Number.Interface.html#derivate"><span class="hs-identifier hs-var">derivate</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384612"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384616"><span class="hs-identifier hs-var">z'</span></a></span><span>
</span><span id="line-412"></span><span>  </span><span>
</span><span id="line-413"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Math.Number.Interface.html#Numerics"><span class="hs-identifier hs-type">Numerics</span></a></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-414"></span><span>    </span><span id="local-6989586621681384619"><span class="annot"><span class="annottext">newtons_method :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="#local-6989586621681384619"><span class="hs-identifier hs-var hs-var hs-var hs-var">newtons_method</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#newtons_method_r"><span class="hs-identifier hs-var">newtons_method_r</span></a></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span> </span><span class="annot"><span class="hs-comment">-- | square root of a real number \(x\), computed with newton's method as root of \(t \mapsto t^2 - x\).</span></span><span>
</span><span id="line-417"></span><span> </span><span class="annot"><a href="Math.Number.R.html#sqrt_r"><span class="hs-identifier hs-type">sqrt_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-418"></span><span> </span><span id="sqrt_r"><span class="annot"><span class="annottext">sqrt_r :: R -&gt; R
</span><a href="Math.Number.R.html#sqrt_r"><span class="hs-identifier hs-var hs-var">sqrt_r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384621"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384621"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a. Numerics a =&gt; (a -&gt; a) -&gt; a -&gt; a
</span><a href="Math.Number.Interface.html#newtons_method"><span class="hs-identifier hs-var">newtons_method</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681384622"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384622"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384622"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384622"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384621"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span> </span><span class="annot"><span class="hs-comment">-- | logarithm of a real number \(x\), computed with newton's method as root of \(t \mapsto e^t - x\).</span></span><span>
</span><span id="line-421"></span><span> </span><span class="annot"><a href="Math.Number.R.html#log_by_newton"><span class="hs-identifier hs-type">log_by_newton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-422"></span><span> </span><span id="log_by_newton"><span class="annot"><span class="annottext">log_by_newton :: R -&gt; R
</span><a href="Math.Number.R.html#log_by_newton"><span class="hs-identifier hs-var hs-var">log_by_newton</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384623"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384623"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a. Numerics a =&gt; (a -&gt; a) -&gt; a -&gt; a
</span><a href="Math.Number.Interface.html#newtons_method"><span class="hs-identifier hs-var">newtons_method</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681384624"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384624"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384624"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384623"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span> </span><span class="annot"><a href="Math.Number.R.html#inverse_of_r"><span class="hs-identifier hs-type">inverse_of_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-425"></span><span> </span><span id="inverse_of_r"><span class="annot"><span class="annottext">inverse_of_r :: (R -&gt; R) -&gt; R -&gt; R
</span><a href="Math.Number.R.html#inverse_of_r"><span class="hs-identifier hs-var hs-var">inverse_of_r</span></a></span></span><span> </span><span id="local-6989586621681384625"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384625"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681384626"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384626"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a. Numerics a =&gt; (a -&gt; a) -&gt; a -&gt; a
</span><a href="Math.Number.Interface.html#newtons_method"><span class="hs-identifier hs-var">newtons_method</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681384627"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384627"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384625"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384627"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384626"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span>
</span><span id="line-426"></span><span>
</span><span id="line-427"></span><span> </span><span class="annot"><a href="Math.Number.R.html#exp_r"><span class="hs-identifier hs-type">exp_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-428"></span><span> </span><span id="exp_r"><span class="annot"><span class="annottext">exp_r :: R -&gt; R
</span><a href="Math.Number.R.html#exp_r"><span class="hs-identifier hs-var hs-var">exp_r</span></a></span></span><span> </span><span id="local-6989586621681384628"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384628"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; R
</span><a href="Math.Number.R.html#runRClosure"><span class="hs-identifier hs-var">runRClosure</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; R) -&gt; Closure Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Closure Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; str a -&gt; Closure str a
</span><a href="Math.Number.StreamInterface.html#limit"><span class="hs-identifier hs-var">limit</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Closure Stream R) -&gt; Stream R -&gt; Closure Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-429"></span><span>    </span><span id="local-6989586621681384629"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384629"><span class="hs-identifier hs-var">xappr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Closure Stream R -&gt; Stream R
forall (str :: * -&gt; *) a. Limiting str a =&gt; Closure str a -&gt; str a
</span><a href="Math.Number.StreamInterface.html#approximations"><span class="hs-identifier hs-var">approximations</span></a></span><span> </span><span class="annot"><span class="annottext">(Closure Stream R -&gt; Stream R) -&gt; Closure Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Closure Stream R
</span><a href="Math.Number.R.html#RClosure"><span class="hs-identifier hs-var">RClosure</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384628"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-430"></span><span>    </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">sum_stream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#index_powers"><span class="hs-identifier hs-var">index_powers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384629"><span class="hs-identifier hs-var">xappr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream R
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span> </span><span class="hs-comment">-- | Using Simon Plouffe's BPP digit extraction algorithm for computing pi.</span><span>
</span><span id="line-433"></span><span> </span><span class="hs-comment">-- See &lt;https://plouffe.fr/Simon%20Plouffe.htm&gt;</span><span>
</span><span id="line-434"></span><span> </span><span class="hs-comment">-- See &lt;https://secure.wikimedia.org/wikipedia/en/wiki/Pi Pi&gt; for details.</span><span>
</span><span id="line-435"></span><span> </span><span class="hs-comment">-- \[\pi = \sum_{k=0}^{\infty}{16^{-k}}({{4}\over{8k+1}}-{{2}\over{8k+4}}-{1\over{8k+5}}-{1\over{8k+6}})\]</span><span>
</span><span id="line-436"></span><span> </span><span class="annot"><a href="Math.Number.R.html#pi_r"><span class="hs-identifier hs-type">pi_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-437"></span><span> </span><span id="pi_r"><span class="annot"><span class="annottext">pi_r :: R
</span><a href="Math.Number.R.html#pi_r"><span class="hs-identifier hs-var hs-var">pi_r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
</span><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-var">lim</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; R) -&gt; Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">sum_stream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-438"></span><span>    </span><span id="local-6989586621681384635"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384635"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">naturals</span></a></span><span>
</span><span id="line-439"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681384637"><span class="annot"><span class="annottext">kr :: Rational
</span><a href="#local-6989586621681384637"><span class="hs-identifier hs-var hs-var">kr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384635"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Rational
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><span class="hs-operator hs-var">%</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span>
</span><span id="line-440"></span><span>    </span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream R) -&gt; R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; R) -&gt; Rational -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">16</span></span><span class="annot"><span class="annottext">Rational -&gt; Integer -&gt; Rational
forall a b. (Fractional a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384635"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">4</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384637"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384637"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span>
</span><span id="line-441"></span><span>                               </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384637"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">5</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">8</span></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384637"><span class="hs-identifier hs-var">kr</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">6</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span> </span><span class="hs-comment">-- &lt;http://en.wikipedia.org/wiki/Logarithm Logarithm&gt;</span><span>
</span><span id="line-444"></span><span> </span><span class="annot"><a href="Math.Number.R.html#log_r"><span class="hs-identifier hs-type">log_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-445"></span><span> </span><span id="log_r"><span class="annot"><span class="annottext">log_r :: R -&gt; R
</span><a href="Math.Number.R.html#log_r"><span class="hs-identifier hs-var hs-var">log_r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384639"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384639"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681384640"><span class="annot"><span class="annottext">a' :: R
</span><a href="#local-6989586621681384640"><span class="hs-identifier hs-var hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384639"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384639"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-446"></span><span>   </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream R -&gt; R
</span><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-var">lim</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; R) -&gt; Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">sum_stream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>   </span><span>
</span><span id="line-447"></span><span>      </span><span id="local-6989586621681384641"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384641"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Stream Integer
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#naturals"><span class="hs-identifier hs-var">naturals</span></a></span><span>
</span><span id="line-448"></span><span>      </span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; Stream R) -&gt; R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; R
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384641"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384640"><span class="hs-identifier hs-var">a'</span></a></span><span class="annot"><span class="annottext">R -&gt; Integer -&gt; R
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681384641"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span>  </span><span class="hs-comment">-- &lt;https://en.wikipedia.org/wiki/Fourier_series&gt; &lt;https://en.wikipedia.org/wiki/Fourier_transform&gt;</span><span>
</span><span id="line-452"></span><span>  </span><span class="hs-comment">-- fourier_coefficient :: (Complex R -&gt; Complex R) -&gt; Integer -&gt; Complex R</span><span>
</span><span id="line-453"></span><span>  </span><span class="hs-comment">-- fourier_coefficient f n = (1/(2*pi)) %* integral_r (-pi,pi) (\x -&gt; f (x :+ 0) * exp ((- (0:+1)* fromRational (fromIntegral n)) * (x :+ 0)))</span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span> </span><span class="hs-pragma">{-# NOINLINE</span><span> </span><span class="annot"><a href="Math.Number.R.html#integral_r"><span class="hs-pragma hs-type">integral_r</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-458"></span><span> </span><span class="annot"><a href="Math.Number.R.html#integral_r"><span class="hs-identifier hs-type">integral_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-459"></span><span> </span><span id="integral_r"><span class="annot"><span class="annottext">integral_r :: (R, R) -&gt; (R -&gt; R) -&gt; R
</span><a href="Math.Number.R.html#integral_r"><span class="hs-identifier hs-var hs-var">integral_r</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681384642"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384642"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681384643"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384643"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384644"><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384644"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681384645"><span class="annot"><span class="annottext">acc :: Rational -&gt; [Rational]
</span><a href="#local-6989586621681384645"><span class="hs-identifier hs-var hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R -&gt; Rational -&gt; [Rational]
forall t.
Fractional t =&gt;
(t -&gt; R) -&gt; R -&gt; R -&gt; Rational -&gt; [Rational]
</span><a href="Math.Number.R.html#integral_accuracy"><span class="hs-identifier hs-var">integral_accuracy</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384644"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384642"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384643"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-460"></span><span>                           </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; [Rational]) -&gt; (Rational -&gt; R) -&gt; R
forall (t :: * -&gt; *) b.
(Foldable t, Functor t) =&gt;
(Rational -&gt; t b) -&gt; (b -&gt; R) -&gt; R
</span><a href="Math.Number.R.html#foldable_integral"><span class="hs-identifier hs-var">foldable_integral</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; [Rational]
</span><a href="#local-6989586621681384645"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="#local-6989586621681384644"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; (Rational -&gt; R) -&gt; Rational -&gt; R
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; R
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span class="hs-special">)</span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span> </span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Math.Number.R.html#foldable_integral"><span class="hs-pragma hs-type">foldable_integral</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">[</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span class="hs-pragma">]</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-pragma hs-type">R</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-pragma hs-type">R</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-463"></span><span> </span><span id="local-6989586621681383554"><span id="local-6989586621681383555"><span class="annot"><a href="Math.Number.R.html#foldable_integral"><span class="hs-identifier hs-type">foldable_integral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621681383554"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621681383554"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383554"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681383555"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681383555"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span><span>
</span><span id="line-464"></span><span> </span><span id="foldable_integral"><span class="annot"><span class="annottext">foldable_integral :: forall (t :: * -&gt; *) b.
(Foldable t, Functor t) =&gt;
(Rational -&gt; t b) -&gt; (b -&gt; R) -&gt; R
</span><a href="Math.Number.R.html#foldable_integral"><span class="hs-identifier hs-var hs-var">foldable_integral</span></a></span></span><span> </span><span id="local-6989586621681384651"><span class="annot"><span class="annottext">Rational -&gt; t b
</span><a href="#local-6989586621681384651"><span class="hs-identifier hs-var">border</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384652"><span class="annot"><span class="annottext">b -&gt; R
</span><a href="#local-6989586621681384652"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; R
</span><a href="Math.Number.R.html#real"><span class="hs-identifier hs-var">real</span></a></span><span> </span><span class="annot"><span class="annottext">((Rational -&gt; Rational) -&gt; R) -&gt; (Rational -&gt; Rational) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384653"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384653"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-465"></span><span>    </span><span class="annot"><span class="annottext">(Rational -&gt; t b) -&gt; (b -&gt; Rational) -&gt; Rational -&gt; Rational
forall a (t :: * -&gt; *) b.
(Num a, Foldable t, Functor t) =&gt;
(a -&gt; t b) -&gt; (b -&gt; a) -&gt; a -&gt; a
</span><a href="Math.Number.R.html#foldable_simple_integral"><span class="hs-identifier hs-var">foldable_simple_integral</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; t b
</span><a href="#local-6989586621681384651"><span class="hs-identifier hs-var">border</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384653"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(R -&gt; Rational) -&gt; (b -&gt; R) -&gt; b -&gt; Rational
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; R
</span><a href="#local-6989586621681384652"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384653"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-466"></span><span>
</span><span id="line-467"></span><span> </span><span id="local-6989586621681383561"><span id="local-6989586621681383562"><span id="local-6989586621681383563"><span id="local-6989586621681383564"><span class="annot"><a href="Math.Number.R.html#foldable_vector_integral"><span class="hs-identifier hs-type">foldable_vector_integral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#VectorSpace"><span class="hs-identifier hs-type">VectorSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681383561"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681383562"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681383561"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681383562"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621681383562"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621681383563"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621681383563"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-468"></span><span>   </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681383562"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383563"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681383564"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681383564"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383561"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681383562"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383562"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383561"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681383562"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-469"></span><span> </span><span id="foldable_vector_integral"><span class="annot"><span class="annottext">foldable_vector_integral :: forall (v :: * -&gt; *) a (t :: * -&gt; *) b.
(VectorSpace (v a), Scalar (v a) ~ a, Foldable t, Functor t) =&gt;
(a -&gt; t b) -&gt; (b -&gt; v a) -&gt; a -&gt; v a
</span><a href="Math.Number.R.html#foldable_vector_integral"><span class="hs-identifier hs-var hs-var">foldable_vector_integral</span></a></span></span><span> </span><span id="local-6989586621681384666"><span class="annot"><span class="annottext">a -&gt; t b
</span><a href="#local-6989586621681384666"><span class="hs-identifier hs-var">border</span></a></span></span><span> </span><span id="local-6989586621681384667"><span class="annot"><span class="annottext">b -&gt; v a
</span><a href="#local-6989586621681384667"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384668"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384668"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
Scalar (v a)
</span><a href="#local-6989586621681384668"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Scalar (v a) -&gt; v a -&gt; v a
forall v. VectorSpace v =&gt; Scalar v -&gt; v -&gt; v
</span><a href="Math.Matrix.Interface.html#%25%2A"><span class="hs-operator hs-var">%*</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t (v a) -&gt; v a
forall (t :: * -&gt; *) a. (Foldable t, VectorSpace a) =&gt; t a -&gt; a
</span><a href="Math.Matrix.Interface.html#vsum"><span class="hs-identifier hs-var">vsum</span></a></span><span> </span><span class="annot"><span class="annottext">(t (v a) -&gt; v a) -&gt; t (v a) -&gt; v a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; v a) -&gt; t b -&gt; t (v a)
forall a b. (a -&gt; b) -&gt; t a -&gt; t b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; v a
</span><a href="#local-6989586621681384667"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(t b -&gt; t (v a)) -&gt; t b -&gt; t (v a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; t b
</span><a href="#local-6989586621681384666"><span class="hs-identifier hs-var">border</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384668"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-470"></span><span>
</span><span id="line-471"></span><span> </span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Math.Number.R.html#foldable_simple_integral"><span class="hs-pragma hs-type">foldable_simple_integral</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">[</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span class="hs-pragma">]</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-472"></span><span> </span><span id="local-6989586621681383558"><span id="local-6989586621681383559"><span id="local-6989586621681383560"><span class="annot"><a href="Math.Number.R.html#foldable_simple_integral"><span class="hs-identifier hs-type">foldable_simple_integral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681383558"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621681383559"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621681383559"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-473"></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681383558"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383559"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681383560"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681383560"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383558"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383558"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681383558"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-474"></span><span> </span><span id="foldable_simple_integral"><span class="annot"><span class="annottext">foldable_simple_integral :: forall a (t :: * -&gt; *) b.
(Num a, Foldable t, Functor t) =&gt;
(a -&gt; t b) -&gt; (b -&gt; a) -&gt; a -&gt; a
</span><a href="Math.Number.R.html#foldable_simple_integral"><span class="hs-identifier hs-var hs-var">foldable_simple_integral</span></a></span></span><span> </span><span id="local-6989586621681384677"><span class="annot"><span class="annottext">a -&gt; t b
</span><a href="#local-6989586621681384677"><span class="hs-identifier hs-var">border</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384678"><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681384678"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681384679"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384679"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">t a -&gt; a
forall a. Num a =&gt; t a -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">sum</span></span><span> </span><span class="annot"><span class="annottext">(t a -&gt; a) -&gt; t a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; t b -&gt; t a
forall a b. (a -&gt; b) -&gt; t a -&gt; t b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384679"><span class="hs-identifier hs-var">eps</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; (b -&gt; a) -&gt; b -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621681384678"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(t b -&gt; t a) -&gt; t b -&gt; t a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; t b
</span><a href="#local-6989586621681384677"><span class="hs-identifier hs-var">border</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681384679"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span> </span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Math.Number.R.html#integral_accuracy"><span class="hs-pragma hs-type">integral_accuracy</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-pragma hs-type">R</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-pragma hs-type">R</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-pragma hs-type">R</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-pragma hs-type">R</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">[</span><span class="annot"><span class="hs-pragma hs-type">Rational</span></span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-477"></span><span> </span><span id="local-6989586621681383553"><span class="annot"><a href="Math.Number.R.html#integral_accuracy"><span class="hs-identifier hs-type">integral_accuracy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Fractional</span></span><span> </span><span class="annot"><a href="#local-6989586621681383553"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681383553"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">]</span></span><span>
</span><span id="line-478"></span><span> </span><span id="integral_accuracy"><span class="annot"><span class="annottext">integral_accuracy :: forall t.
Fractional t =&gt;
(t -&gt; R) -&gt; R -&gt; R -&gt; Rational -&gt; [Rational]
</span><a href="Math.Number.R.html#integral_accuracy"><span class="hs-identifier hs-var hs-var">integral_accuracy</span></a></span></span><span> </span><span id="local-6989586621681384688"><span class="annot"><span class="annottext">t -&gt; R
</span><a href="#local-6989586621681384688"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681384689"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384689"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681384690"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384690"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; [Rational]
</span><a href="#local-6989586621681384691"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-479"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681384691"><span class="annot"><span class="annottext">res :: Rational -&gt; [Rational]
</span><a href="#local-6989586621681384691"><span class="hs-identifier hs-var hs-var">res</span></a></span></span><span> </span><span id="local-6989586621681384692"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384692"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681384693"><span class="annot"><span class="annottext">x'' :: Rational
</span><a href="#local-6989586621681384693"><span class="hs-identifier hs-var hs-var">x''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384694"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384692"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681384695"><span class="annot"><span class="annottext">y'' :: Rational
</span><a href="#local-6989586621681384695"><span class="hs-identifier hs-var hs-var">y''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384696"><span class="hs-identifier hs-var">y'</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Rational) -&gt; Rational -&gt; Rational
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384692"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384693"><span class="hs-identifier hs-var">x''</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384693"><span class="hs-identifier hs-var">x''</span></a></span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384692"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384695"><span class="hs-identifier hs-var">y''</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-480"></span><span>         </span><span id="local-6989586621681384697"><span class="annot"><span class="annottext">accuracy :: Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681384697"><span class="hs-identifier hs-var hs-var">accuracy</span></a></span></span><span> </span><span id="local-6989586621681384698"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384698"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681384699"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384699"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; (Rational -&gt; Rational) -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#derivate_rational"><span class="hs-identifier hs-var">derivate_rational</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384698"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681384700"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384698"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384699"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-481"></span><span>         </span><span id="local-6989586621681384700"><span class="annot"><span class="annottext">mf :: Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681384700"><span class="hs-identifier hs-var hs-var">mf</span></a></span></span><span> </span><span id="local-6989586621681384701"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384701"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span id="local-6989586621681384702"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384702"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; R
</span><a href="#local-6989586621681384688"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; t
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384702"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384701"><span class="hs-identifier hs-var">eps</span></a></span><span>
</span><span id="line-482"></span><span>         </span><span id="local-6989586621681384694"><span class="annot"><span class="annottext">x' :: Rational -&gt; Rational
</span><a href="#local-6989586621681384694"><span class="hs-identifier hs-var hs-var">x'</span></a></span></span><span> </span><span id="local-6989586621681384703"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384703"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384689"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384703"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681384697"><span class="hs-identifier hs-var">accuracy</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384703"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384689"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384703"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-483"></span><span>         </span><span id="local-6989586621681384696"><span class="annot"><span class="annottext">y' :: Rational -&gt; Rational
</span><a href="#local-6989586621681384696"><span class="hs-identifier hs-var hs-var">y'</span></a></span></span><span> </span><span id="local-6989586621681384704"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384704"><span class="hs-identifier hs-var">eps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384690"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384704"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
</span><a href="#local-6989586621681384697"><span class="hs-identifier hs-var">accuracy</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384704"><span class="hs-identifier hs-var">eps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384690"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#approximate"><span class="hs-operator hs-var">`approximate`</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681384704"><span class="hs-identifier hs-var">eps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-484"></span><span>
</span><span id="line-485"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Inverse_trigonometric_functions&gt;</span></span><span>
</span><span id="line-486"></span><span> </span><span class="annot"><a href="Math.Number.R.html#asin_r"><span class="hs-identifier hs-type">asin_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-487"></span><span> </span><span id="asin_r"><span class="annot"><span class="annottext">asin_r :: R -&gt; R
</span><a href="Math.Number.R.html#asin_r"><span class="hs-identifier hs-var hs-var">asin_r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384705"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384705"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384705"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384706"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384706"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384706"><span class="hs-identifier hs-var">z</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384706"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-488"></span><span> </span><span>
</span><span id="line-489"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Inverse_trigonometric_functions&gt;</span></span><span>
</span><span id="line-490"></span><span> </span><span class="annot"><a href="Math.Number.R.html#acos_r"><span class="hs-identifier hs-type">acos_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-491"></span><span> </span><span id="acos_r"><span class="annot"><span class="annottext">acos_r :: R -&gt; R
</span><a href="Math.Number.R.html#acos_r"><span class="hs-identifier hs-var hs-var">acos_r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384707"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384707"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384707"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384708"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384708"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384708"><span class="hs-identifier hs-var">z</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384708"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-492"></span><span>  </span><span class="hs-comment">-- (pi_r / 2) - asin_r x</span><span>
</span><span id="line-493"></span><span> </span><span>
</span><span id="line-494"></span><span> </span><span class="annot"><span class="hs-comment">-- | &lt;https://en.wikipedia.org/wiki/Inverse_trigonometric_functions&gt;</span></span><span>
</span><span id="line-495"></span><span> </span><span class="annot"><a href="Math.Number.R.html#atan_r"><span class="hs-identifier hs-type">atan_r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-496"></span><span> </span><span id="atan_r"><span class="annot"><span class="annottext">atan_r :: R -&gt; R
</span><a href="Math.Number.R.html#atan_r"><span class="hs-identifier hs-var hs-var">atan_r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384709"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384709"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(R, R) -&gt; (R -&gt; R) -&gt; R
forall r. DifferentiallyClosed r =&gt; (r, r) -&gt; (r -&gt; r) -&gt; r
</span><a href="Math.Number.Interface.html#integral"><span class="hs-identifier hs-var">integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384709"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((R -&gt; R) -&gt; R) -&gt; (R -&gt; R) -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384710"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384710"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384710"><span class="hs-identifier hs-var">z</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384710"><span class="hs-identifier hs-var">z</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-497"></span><span>
</span><span id="line-498"></span><span> </span><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Trigonometric_functions trigonometric functions&gt;</span><span>
</span><span id="line-499"></span><span> </span><span class="hs-comment">-- Computed using taylor series expansion of sin function.</span><span>
</span><span id="line-500"></span><span> </span><span class="hs-comment">-- \[\sin(x) = \sum_{k=0}^{\infty}{{{(-1)^k}\over{(2k+1)!}}{x^{2k+1}}}\]</span><span>
</span><span id="line-501"></span><span> </span><span class="annot"><a href="Math.Number.R.html#sin_by_series"><span class="hs-identifier hs-type">sin_by_series</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-502"></span><span> </span><span id="sin_by_series"><span class="annot"><span class="annottext">sin_by_series :: R -&gt; R
</span><a href="Math.Number.R.html#sin_by_series"><span class="hs-identifier hs-var hs-var">sin_by_series</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384711"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384711"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
</span><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-var">lim</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; R) -&gt; Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Stream R, Stream R) -&gt; Stream R
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((Stream R, Stream R) -&gt; Stream R)
-&gt; (Stream R, Stream R) -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; (Stream R, Stream R)
forall a. Stream a -&gt; (Stream a, Stream a)
</span><a href="Math.Number.Stream.html#uninterleave"><span class="hs-identifier hs-var">uninterleave</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; (Stream R, Stream R))
-&gt; Stream R -&gt; (Stream R, Stream R)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">sum_stream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681384714"><span class="hs-identifier hs-var">filterStream'</span></a></span><span>
</span><span id="line-503"></span><span>                   </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#index_powers"><span class="hs-identifier hs-var">index_powers</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384711"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-504"></span><span>                   </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span>
</span><span id="line-505"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681384720"><span class="annot"><span class="annottext">filterStream :: Stream Integer
</span><a href="#local-6989586621681384720"><span class="hs-identifier hs-var hs-var">filterStream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681384720"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-506"></span><span>          </span><span id="local-6989586621681384714"><span class="annot"><span class="annottext">filterStream' :: Stream R
</span><a href="#local-6989586621681384714"><span class="hs-identifier hs-var hs-var">filterStream'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; R) -&gt; Stream Integer -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; R
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681384720"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-507"></span><span>               </span><span>
</span><span id="line-508"></span><span> </span><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Trigonometric_functions trigonometric functions&gt;</span><span>
</span><span id="line-509"></span><span> </span><span class="hs-comment">-- Computed using taylor series expansion of cos function.</span><span>
</span><span id="line-510"></span><span> </span><span class="hs-comment">-- \[\cos(x) = \sum_{k=0}^{\infty}{{{(-1)^k}\over{(2k)!}}{x^{2k}}}\]</span><span>
</span><span id="line-511"></span><span> </span><span class="annot"><a href="Math.Number.R.html#cos_by_series"><span class="hs-identifier hs-type">cos_by_series</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-512"></span><span> </span><span id="cos_by_series"><span class="annot"><span class="annottext">cos_by_series :: R -&gt; R
</span><a href="Math.Number.R.html#cos_by_series"><span class="hs-identifier hs-var hs-var">cos_by_series</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681384721"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384721"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; R
</span><a href="Math.Number.R.html#lim"><span class="hs-identifier hs-var">lim</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; R) -&gt; Stream R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Stream R, Stream R) -&gt; Stream R
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((Stream R, Stream R) -&gt; Stream R)
-&gt; (Stream R, Stream R) -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; (Stream R, Stream R)
forall a. Stream a -&gt; (Stream a, Stream a)
</span><a href="Math.Number.Stream.html#uninterleave"><span class="hs-identifier hs-var">uninterleave</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; (Stream R, Stream R))
-&gt; Stream R -&gt; (Stream R, Stream R)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#sum_stream"><span class="hs-identifier hs-var">sum_stream</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Stream R
</span><a href="#local-6989586621681384722"><span class="hs-identifier hs-var">filterStream'</span></a></span><span>
</span><span id="line-513"></span><span>                   </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R -&gt; R) -&gt; Stream R -&gt; Stream R -&gt; Stream R
forall a b c. (a -&gt; b -&gt; c) -&gt; Stream a -&gt; Stream b -&gt; Stream c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stream R -&gt; Stream R
forall a. Num a =&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.Stream.html#index_powers"><span class="hs-identifier hs-var">index_powers</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream R -&gt; Stream R) -&gt; Stream R -&gt; Stream R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; Stream R
forall a. a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#constant"><span class="hs-identifier hs-var">constant</span></a></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384721"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Stream R
forall a. Num a =&gt; Stream a
</span><a href="Math.Number.Stream.html#factorial"><span class="hs-identifier hs-var">factorial</span></a></span><span>
</span><span id="line-514"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681384728"><span class="annot"><span class="annottext">filterStream :: Stream Integer
</span><a href="#local-6989586621681384728"><span class="hs-identifier hs-var hs-var">filterStream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Stream Integer -&gt; Stream Integer
forall a. a -&gt; Stream a -&gt; Stream a
</span><a href="Math.Number.StreamInterface.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Stream Integer -&gt; Stream Integer)
-&gt; Stream Integer -&gt; Stream Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681384728"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-515"></span><span>          </span><span id="local-6989586621681384722"><span class="annot"><span class="annottext">filterStream' :: Stream R
</span><a href="#local-6989586621681384722"><span class="hs-identifier hs-var hs-var">filterStream'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; R) -&gt; Stream Integer -&gt; Stream R
forall a b. (a -&gt; b) -&gt; Stream a -&gt; Stream b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; R
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Stream Integer
</span><a href="#local-6989586621681384728"><span class="hs-identifier hs-var">filterStream</span></a></span><span>
</span><span id="line-516"></span><span>
</span><span id="line-517"></span><span> </span><span class="hs-comment">-- | &lt;http://en.wikipedia.org/wiki/Trigonometric_functions trigonometric functions&gt;</span><span>
</span><span id="line-518"></span><span> </span><span class="hs-comment">-- &lt;https://en.wikipedia.org/wiki/Inverse_trigonometric_functions inverse trigonometric functions&gt;</span><span>
</span><span id="line-519"></span><span> </span><span class="hs-comment">-- &lt;http://en.wikipedia.org/wiki/Hyperbolic_function hyperbolic function&gt;</span><span>
</span><span id="line-520"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681384737"><span id="local-6989586621681384752"><span id="local-6989586621681384755"><span id="local-6989586621681384758"><span id="local-6989586621681384761"><span class="annot"><span class="hs-identifier hs-type">Floating</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-521"></span><span>    </span><span id="local-6989586621681384763"><span class="annot"><span class="annottext">pi :: R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pi</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R
</span><a href="Math.Number.R.html#pi_r"><span class="hs-identifier hs-var">pi_r</span></a></span><span>
</span><span id="line-522"></span><span>    </span><span id="local-6989586621681384764"><span class="annot"><span class="annottext">exp :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">exp</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#exp_r"><span class="hs-identifier hs-var">exp_r</span></a></span><span>
</span><span id="line-523"></span><span>    </span><span id="local-6989586621681384765"><span class="annot"><span class="annottext">log :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">log</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#log_r"><span class="hs-identifier hs-var">log_r</span></a></span><span>
</span><span id="line-524"></span><span>    </span><span id="local-6989586621681384766"><span class="annot"><span class="annottext">sqrt :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sqrt</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#sqrt_r"><span class="hs-identifier hs-var">sqrt_r</span></a></span><span>
</span><span id="line-525"></span><span>    </span><span id="local-6989586621681384770"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384770"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681384771"><span class="annot"><span class="annottext">** :: R -&gt; R -&gt; R
</span><span class="hs-operator hs-var hs-var hs-var hs-var">**</span></span></span><span> </span><span id="local-6989586621681384772"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384772"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384772"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384770"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-526"></span><span>    </span><span id="local-6989586621681384773"><span class="annot"><span class="annottext">sin :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sin</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#sin_by_series"><span class="hs-identifier hs-var">sin_by_series</span></a></span><span>
</span><span id="line-527"></span><span>    </span><span id="local-6989586621681384774"><span class="annot"><span class="annottext">cos :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">cos</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#cos_by_series"><span class="hs-identifier hs-var">cos_by_series</span></a></span><span>
</span><span id="line-528"></span><span>    </span><span id="local-6989586621681384778"><span class="annot"><span class="annottext">tan :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">tan</span></span></span><span> </span><span id="local-6989586621681384779"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384779"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sin</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384779"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cos</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384779"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-529"></span><span>    </span><span id="local-6989586621681384780"><span class="annot"><span class="annottext">asin :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">asin</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#asin_r"><span class="hs-identifier hs-var">asin_r</span></a></span><span>
</span><span id="line-530"></span><span>    </span><span id="local-6989586621681384781"><span class="annot"><span class="annottext">acos :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">acos</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#acos_r"><span class="hs-identifier hs-var">acos_r</span></a></span><span>
</span><span id="line-531"></span><span>    </span><span id="local-6989586621681384782"><span class="annot"><span class="annottext">atan :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">atan</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
</span><a href="Math.Number.R.html#atan_r"><span class="hs-identifier hs-var">atan_r</span></a></span><span>
</span><span id="line-532"></span><span>    </span><span id="local-6989586621681384789"><span class="annot"><span class="annottext">sinh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sinh</span></span></span><span> </span><span id="local-6989586621681384790"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384790"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384790"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384790"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-533"></span><span>    </span><span id="local-6989586621681384797"><span class="annot"><span class="annottext">cosh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">cosh</span></span></span><span> </span><span id="local-6989586621681384798"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384798"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384798"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">exp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R -&gt; R
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384798"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-534"></span><span>    </span><span id="local-6989586621681384802"><span class="annot"><span class="annottext">tanh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">tanh</span></span></span><span> </span><span id="local-6989586621681384803"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384803"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sinh</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384803"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">cosh</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384803"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-535"></span><span>    </span><span id="local-6989586621681384810"><span class="annot"><span class="annottext">asinh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">asinh</span></span></span><span> </span><span id="local-6989586621681384811"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384811"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384811"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384811"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384811"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-536"></span><span>    </span><span id="local-6989586621681384818"><span class="annot"><span class="annottext">acosh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">acosh</span></span></span><span> </span><span id="local-6989586621681384819"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384819"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="annot"><span class="annottext">(R -&gt; R) -&gt; R -&gt; R
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384819"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">sqrt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384819"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384819"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-537"></span><span>    </span><span id="local-6989586621681384828"><span class="annot"><span class="annottext">atanh :: R -&gt; R
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">atanh</span></span></span><span> </span><span id="local-6989586621681384829"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384829"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; R
forall a. Floating a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">log</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384829"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">R
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384829"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">R -&gt; R -&gt; R
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-number">2</span></span><span>
</span><span id="line-538"></span><span>
</span><span id="line-539"></span><span> </span><span class="hs-keyword">data</span><span> </span><span id="Limited"><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-var">Limited</span></a></span></span><span> </span><span id="local-6989586621681384830"><span class="annot"><a href="#local-6989586621681384830"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-540"></span><span>    </span><span id="LimitedRationalsAbove"><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAbove"><span class="hs-identifier hs-var">LimitedRationalsAbove</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-541"></span><span>    </span><span id="LimitedRationalsBelow"><span class="annot"><a href="Math.Number.R.html#LimitedRationalsBelow"><span class="hs-identifier hs-var">LimitedRationalsBelow</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-542"></span><span>    </span><span id="LimitedRationalsAboveBelow"><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAboveBelow"><span class="hs-identifier hs-var">LimitedRationalsAboveBelow</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-543"></span><span>
</span><span id="line-544"></span><span> </span><span class="annot"><a href="Math.Number.R.html#supremum"><span class="hs-identifier hs-type">supremum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-545"></span><span> </span><span id="supremum"><span class="annot"><span class="annottext">supremum :: Limited Rational -&gt; Maybe R
</span><a href="Math.Number.R.html#supremum"><span class="hs-identifier hs-var hs-var">supremum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAbove"><span class="hs-identifier hs-type">LimitedRationalsAbove</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681384835"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384835"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384835"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-546"></span><span> </span><span class="annot"><a href="Math.Number.R.html#supremum"><span class="hs-identifier hs-var">supremum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAboveBelow"><span class="hs-identifier hs-type">LimitedRationalsAboveBelow</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681384837"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384837"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384837"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-547"></span><span> </span><span class="annot"><a href="Math.Number.R.html#supremum"><span class="hs-identifier hs-var">supremum</span></a></span><span> </span><span class="annot"><span class="annottext">Limited Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe R
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-548"></span><span> </span><span>
</span><span id="line-549"></span><span> </span><span class="annot"><a href="Math.Number.R.html#infinum"><span class="hs-identifier hs-type">infinum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Math.Number.R.html#R"><span class="hs-identifier hs-type">R</span></a></span><span>
</span><span id="line-550"></span><span> </span><span id="infinum"><span class="annot"><span class="annottext">infinum :: Limited Rational -&gt; Maybe R
</span><a href="Math.Number.R.html#infinum"><span class="hs-identifier hs-var hs-var">infinum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsBelow"><span class="hs-identifier hs-type">LimitedRationalsBelow</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681384839"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384839"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384839"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-551"></span><span> </span><span class="annot"><a href="Math.Number.R.html#infinum"><span class="hs-identifier hs-var">infinum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAboveBelow"><span class="hs-identifier hs-type">LimitedRationalsAboveBelow</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681384841"><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384841"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">R -&gt; Maybe R
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">R
</span><a href="#local-6989586621681384841"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-552"></span><span> </span><span class="annot"><a href="Math.Number.R.html#infinum"><span class="hs-identifier hs-var">infinum</span></a></span><span> </span><span class="annot"><span class="annottext">Limited Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe R
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-553"></span><span>
</span><span id="line-554"></span><span> </span><span class="annot"><a href="Math.Number.R.html#bounded_approximations"><span class="hs-identifier hs-type">bounded_approximations</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-555"></span><span> </span><span id="bounded_approximations"><span class="annot"><span class="annottext">bounded_approximations :: Limited Rational -&gt; Rational -&gt; Rational
</span><a href="Math.Number.R.html#bounded_approximations"><span class="hs-identifier hs-var hs-var">bounded_approximations</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAbove"><span class="hs-identifier hs-type">LimitedRationalsAbove</span></a></span><span> </span><span id="local-6989586621681384843"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384843"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384843"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-556"></span><span> </span><span class="annot"><a href="Math.Number.R.html#bounded_approximations"><span class="hs-identifier hs-var">bounded_approximations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsBelow"><span class="hs-identifier hs-type">LimitedRationalsBelow</span></a></span><span> </span><span id="local-6989586621681384845"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384845"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384845"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-557"></span><span> </span><span class="annot"><a href="Math.Number.R.html#bounded_approximations"><span class="hs-identifier hs-var">bounded_approximations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAboveBelow"><span class="hs-identifier hs-type">LimitedRationalsAboveBelow</span></a></span><span> </span><span id="local-6989586621681384847"><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384847"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><a href="#local-6989586621681384847"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-558"></span><span>
</span><span id="line-559"></span><span> </span><span class="annot"><a href="Math.Number.R.html#upper_bounds"><span class="hs-identifier hs-type">upper_bounds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">]</span><span>
</span><span id="line-560"></span><span> </span><span id="upper_bounds"><span class="annot"><span class="annottext">upper_bounds :: Limited Rational -&gt; [Rational]
</span><a href="Math.Number.R.html#upper_bounds"><span class="hs-identifier hs-var hs-var">upper_bounds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAbove"><span class="hs-identifier hs-type">LimitedRationalsAbove</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681384849"><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681384849"><span class="hs-identifier hs-var">ub</span></a></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational -&gt; [Rational]
forall a. NonEmpty a -&gt; [a]
</span><span class="hs-identifier hs-var">NonEmpty.toList</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681384849"><span class="hs-identifier hs-var">ub</span></a></span><span>
</span><span id="line-561"></span><span> </span><span class="annot"><a href="Math.Number.R.html#upper_bounds"><span class="hs-identifier hs-var">upper_bounds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAboveBelow"><span class="hs-identifier hs-type">LimitedRationalsAboveBelow</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681384852"><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681384852"><span class="hs-identifier hs-var">ub</span></a></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational -&gt; [Rational]
forall a. NonEmpty a -&gt; [a]
</span><span class="hs-identifier hs-var">NonEmpty.toList</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681384852"><span class="hs-identifier hs-var">ub</span></a></span><span>
</span><span id="line-562"></span><span> </span><span class="annot"><a href="Math.Number.R.html#upper_bounds"><span class="hs-identifier hs-var">upper_bounds</span></a></span><span> </span><span class="annot"><span class="annottext">Limited Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-563"></span><span>
</span><span id="line-564"></span><span> </span><span class="annot"><a href="Math.Number.R.html#lower_bounds"><span class="hs-identifier hs-type">lower_bounds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Math.Number.R.html#Limited"><span class="hs-identifier hs-type">Limited</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span class="hs-special">]</span><span>
</span><span id="line-565"></span><span> </span><span id="lower_bounds"><span class="annot"><span class="annottext">lower_bounds :: Limited Rational -&gt; [Rational]
</span><a href="Math.Number.R.html#lower_bounds"><span class="hs-identifier hs-var hs-var">lower_bounds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsBelow"><span class="hs-identifier hs-type">LimitedRationalsBelow</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681384854"><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681384854"><span class="hs-identifier hs-var">lb</span></a></span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational -&gt; [Rational]
forall a. NonEmpty a -&gt; [a]
</span><span class="hs-identifier hs-var">NonEmpty.toList</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681384854"><span class="hs-identifier hs-var">lb</span></a></span><span>
</span><span id="line-566"></span><span> </span><span class="annot"><a href="Math.Number.R.html#lower_bounds"><span class="hs-identifier hs-var">lower_bounds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Number.R.html#LimitedRationalsAboveBelow"><span class="hs-identifier hs-type">LimitedRationalsAboveBelow</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681384856"><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681384856"><span class="hs-identifier hs-var">lb</span></a></span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">R
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational -&gt; [Rational]
forall a. NonEmpty a -&gt; [a]
</span><span class="hs-identifier hs-var">NonEmpty.toList</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Rational
</span><a href="#local-6989586621681384856"><span class="hs-identifier hs-var">lb</span></a></span><span>
</span><span id="line-567"></span><span> </span><span class="annot"><a href="Math.Number.R.html#lower_bounds"><span class="hs-identifier hs-var">lower_bounds</span></a></span><span> </span><span class="annot"><span class="annottext">Limited Rational
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span></pre></body></html>
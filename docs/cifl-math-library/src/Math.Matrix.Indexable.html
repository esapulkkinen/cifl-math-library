<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span> </span><span class="hs-pragma">{-# LANGUAGE TypeOperators, Safe #-}</span><span>
</span><span id="line-2"></span><span> </span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-3"></span><span> </span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-4"></span><span> </span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-5"></span><span> </span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-6"></span><span> </span><span class="hs-pragma">{-# LANGUAGE QuantifiedConstraints #-}</span><span>
</span><span id="line-7"></span><span> </span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Math.Matrix.Indexable</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-8"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>
</span><span id="line-9"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(.)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">id</span></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Category</span></span><span>
</span><span id="line-11"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html"><span class="hs-identifier">Math.Matrix.Interface</span></a></span><span>
</span><span id="line-12"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Math.Tools.I.html"><span class="hs-identifier">Math.Tools.I</span></a></span><span>
</span><span id="line-13"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Math.Tools.Isomorphism.html"><span class="hs-identifier">Math.Tools.Isomorphism</span></a></span><span>
</span><span id="line-14"></span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Math.Tools.Arrow.html"><span class="hs-identifier">Math.Tools.Arrow</span></a></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681342632"><span id="local-6989586621681342752"><span id="local-6989586621681342756"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681342632"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="Math.Tools.I.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342632"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-17"></span><span>   </span><span id="local-6989586621681342762"><span class="annot"><span class="annottext">diagonal_projections :: I (Index I a)
</span><a href="#local-6989586621681342762"><span class="hs-identifier hs-var hs-var hs-var hs-var">diagonal_projections</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Index I a -&gt; I (Index I a)
forall a. a -&gt; I a
</span><a href="Math.Tools.I.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">Index I a
forall a. a :==: a
forall {k} (cat :: k -&gt; k -&gt; *) (a :: k). Category cat =&gt; cat a a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-18"></span><span>   </span><span id="local-6989586621681342767"><span class="annot"><span class="annottext">indexable_indices :: I a
</span><a href="#local-6989586621681342767"><span class="hs-identifier hs-var hs-var hs-var hs-var">indexable_indices</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; I a
forall a. a -&gt; I a
</span><a href="Math.Tools.I.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681342646"><span id="local-6989586621681342647"><span id="local-6989586621681342648"><span id="local-6989586621681342782"><span id="local-6989586621681342786"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681342646"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342647"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342646"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342648"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342646"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681342647"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">:*:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342648"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681342646"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-21"></span><span>   </span><span id="local-6989586621681342809"><span class="annot"><span class="annottext">diagonal_projections :: (:*:) f g (Index (f :*: g) a)
</span><a href="Math.Matrix.Interface.html#diagonal_projections"><span class="hs-identifier hs-var hs-var hs-var hs-var">diagonal_projections</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Index f a -&gt; Index g a -&gt; Index (f :*: g) a)
-&gt; f (Index f a) -&gt; g (Index g a) -&gt; (:*:) f g (Index (f :*: g) a)
forall (m :: * -&gt; *) (n :: * -&gt; *) a b c.
(Functor m, Functor n) =&gt;
(a -&gt; b -&gt; c) -&gt; m a -&gt; n b -&gt; (:*:) m n c
</span><a href="Math.Matrix.Interface.html#matrix"><span class="hs-identifier hs-var">matrix</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681342811"><span class="annot"><span class="annottext">Index f a
</span><a href="#local-6989586621681342811"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681342812"><span class="annot"><span class="annottext">Index g a
</span><a href="#local-6989586621681342812"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; I a
forall a. a -&gt; I a
</span><a href="Math.Tools.I.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; I a) -&gt; ((:*:) f g a -&gt; a) -&gt; (:*:) f g a -&gt; I a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(:*:) f g a -&gt; (f a -&gt; a, g a -&gt; a) -&gt; a
forall (f :: * -&gt; *) (g :: * -&gt; *) a c b.
(Functor f, Functor g) =&gt;
(:*:) g f a -&gt; (g c -&gt; b, f a -&gt; c) -&gt; b
</span><a href="Math.Matrix.Interface.html#%3C%21%3E"><span class="hs-operator hs-var">&lt;!&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index f a -&gt; f a -&gt; a
forall (m :: * -&gt; *) a. Indexable m a =&gt; Index m a -&gt; m a -&gt; a
</span><a href="Math.Matrix.Interface.html#index_project"><span class="hs-identifier hs-var">index_project</span></a></span><span> </span><span class="annot"><span class="annottext">Index f a
</span><a href="#local-6989586621681342811"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Index g a -&gt; g a -&gt; a
forall (m :: * -&gt; *) a. Indexable m a =&gt; Index m a -&gt; m a -&gt; a
</span><a href="Math.Matrix.Interface.html#index_project"><span class="hs-identifier hs-var">index_project</span></a></span><span> </span><span class="annot"><span class="annottext">Index g a
</span><a href="#local-6989586621681342812"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((:*:) f g a -&gt; I a) -&gt; (I a -&gt; (:*:) f g a) -&gt; Index (f :*: g) a
forall a b. (a -&gt; b) -&gt; (b -&gt; a) -&gt; a :==: b
forall (arr :: * -&gt; * -&gt; *) a b.
BiArrow arr =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; arr a b
</span><a href="Math.Tools.Arrow.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span>
</span><span id="line-22"></span><span>                                            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681342817"><span class="annot"><span class="annottext">I a
</span><a href="#local-6989586621681342817"><span class="hs-identifier hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; f a -&gt; g a -&gt; (:*:) f g a
forall (m :: * -&gt; *) (n :: * -&gt; *) a b c.
(Functor m, Functor n) =&gt;
(a -&gt; b -&gt; c) -&gt; m a -&gt; n b -&gt; (:*:) m n c
</span><a href="Math.Matrix.Interface.html#matrix"><span class="hs-identifier hs-var">matrix</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index f a -&gt; I a -&gt; f a
forall a b. (a :==: b) -&gt; b -&gt; a
</span><a href="Math.Tools.Isomorphism.html#isomorphism_section"><span class="hs-identifier hs-var">isomorphism_section</span></a></span><span> </span><span class="annot"><span class="annottext">Index f a
</span><a href="#local-6989586621681342811"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(I a -&gt; f a) -&gt; I a -&gt; f a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">I a
</span><a href="#local-6989586621681342817"><span class="hs-identifier hs-var">a'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index g a -&gt; I a -&gt; g a
forall a b. (a :==: b) -&gt; b -&gt; a
</span><a href="Math.Tools.Isomorphism.html#isomorphism_section"><span class="hs-identifier hs-var">isomorphism_section</span></a></span><span> </span><span class="annot"><span class="annottext">Index g a
</span><a href="#local-6989586621681342812"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">(I a -&gt; g a) -&gt; I a -&gt; g a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">I a
</span><a href="#local-6989586621681342817"><span class="hs-identifier hs-var">a'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span>
</span><span id="line-23"></span><span>                                 </span><span class="annot"><span class="annottext">f (Index f a)
forall (m :: * -&gt; *) a. Indexable m a =&gt; m (Index m a)
</span><a href="Math.Matrix.Interface.html#diagonal_projections"><span class="hs-identifier hs-var">diagonal_projections</span></a></span><span> </span><span class="annot"><span class="annottext">g (Index g a)
forall (m :: * -&gt; *) a. Indexable m a =&gt; m (Index m a)
</span><a href="Math.Matrix.Interface.html#diagonal_projections"><span class="hs-identifier hs-var">diagonal_projections</span></a></span><span>
</span><span id="line-24"></span><span>   </span><span id="local-6989586621681342832"><span class="annot"><span class="annottext">indexable_indices :: (:*:) f g a
</span><a href="Math.Matrix.Interface.html#indexable_indices"><span class="hs-identifier hs-var hs-var hs-var hs-var">indexable_indices</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; f a -&gt; g a -&gt; (:*:) f g a
forall (m :: * -&gt; *) (n :: * -&gt; *) a b c.
(Functor m, Functor n) =&gt;
(a -&gt; b -&gt; c) -&gt; m a -&gt; n b -&gt; (:*:) m n c
</span><a href="Math.Matrix.Interface.html#matrix"><span class="hs-identifier hs-var">matrix</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681342833"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681342833"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681342834"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681342834"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681342833"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681342834"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681342833"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681342834"><span class="hs-identifier hs-var">y</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681342833"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
forall (m :: * -&gt; *) a. Indexable m a =&gt; m a
</span><a href="Math.Matrix.Interface.html#indexable_indices"><span class="hs-identifier hs-var">indexable_indices</span></a></span><span> </span><span class="annot"><span class="annottext">g a
forall (m :: * -&gt; *) a. Indexable m a =&gt; m a
</span><a href="Math.Matrix.Interface.html#indexable_indices"><span class="hs-identifier hs-var">indexable_indices</span></a></span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-comment">-- indexable_diagonal :: (Indexable f) =&gt; (f :*: f) a -&gt; a -&gt; f a</span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-comment">-- indexable_diagonal ~(Matrix m) a = index_project (diagonal_projections a) &lt;*&gt; m</span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-comment">-- indexable_apply :: (Indexable f) =&gt; (f :*: f) (a -&gt; b) -&gt; f a -&gt; f b</span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-comment">-- indexable_apply ~(Matrix m) x = index_project (diagonal_projections x) &lt;*&gt; m &lt;*&gt; x</span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-comment">-- indexable_transpose :: (Functor f, Functor g, Indexable g) =&gt;</span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-comment">--                        (f :*: g) a -&gt; a -&gt; (g :*: f) a</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-comment">-- indexable_transpose ~(Matrix m) n = matrix id (index_project (diagonal_projections n)) m</span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-comment">-- indexable_matrix_projections :: (Indexable f, Indexable g)</span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-comment">--                              =&gt; a -&gt; b -&gt; (f :*: g) (Index (f :*: g) a)</span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-comment">-- indexable_matrix_projections ::</span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-comment">--    a -&gt; a -&gt; (m :*: I) (m a :==: I a)</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span> </span><span id="local-6989586621681342673"><span id="local-6989586621681342674"><span id="local-6989586621681342675"><span class="annot"><a href="Math.Matrix.Indexable.html#indexable_matrix_projections"><span class="hs-identifier hs-type">indexable_matrix_projections</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-43"></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342673"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681342674"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342675"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342674"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342675"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681342673"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">:*:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342674"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681342673"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">:*:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342674"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681342675"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-45"></span><span> </span><span id="indexable_matrix_projections"><span class="annot"><span class="annottext">indexable_matrix_projections :: forall (m :: * -&gt; *) (n :: * -&gt; *) a.
(Indexable m (n a), Indexable n a) =&gt;
(:*:) m n (Index (m :*: n) a)
</span><a href="Math.Matrix.Indexable.html#indexable_matrix_projections"><span class="hs-identifier hs-var hs-var">indexable_matrix_projections</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((m (n a) :==: I (n a)) -&gt; (n a :==: I a) -&gt; Index (m :*: n) a)
-&gt; m (m (n a) :==: I (n a))
-&gt; n (n a :==: I a)
-&gt; (:*:) m n (Index (m :*: n) a)
forall (m :: * -&gt; *) (n :: * -&gt; *) a b c.
(Functor m, Functor n) =&gt;
(a -&gt; b -&gt; c) -&gt; m a -&gt; n b -&gt; (:*:) m n c
</span><a href="Math.Matrix.Interface.html#matrix"><span class="hs-identifier hs-var">matrix</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681342855"><span class="annot"><span class="annottext">m (n a) :==: I (n a)
</span><a href="#local-6989586621681342855"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681342856"><span class="annot"><span class="annottext">n a :==: I a
</span><a href="#local-6989586621681342856"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">I (I a) -&gt; I a
forall a. I a -&gt; a
</span><a href="Math.Tools.I.html#unI"><span class="hs-identifier hs-var">unI</span></a></span><span> </span><span class="annot"><span class="annottext">(I (I a) -&gt; I a) -&gt; (I a -&gt; I (I a)) -&gt; I (I a) :==: I a
forall a b. (a -&gt; b) -&gt; (b -&gt; a) -&gt; a :==: b
forall (arr :: * -&gt; * -&gt; *) a b.
BiArrow arr =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; arr a b
</span><a href="Math.Tools.Arrow.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">I a -&gt; I (I a)
forall a. a -&gt; I a
</span><a href="Math.Tools.I.html#I"><span class="hs-identifier hs-var">I</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(I (I a) :==: I a)
-&gt; ((:*:) m n a :==: I (I a)) -&gt; Index (m :*: n) a
forall b c a. (b :==: c) -&gt; (a :==: b) -&gt; a :==: c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(n a :==: I a) -&gt; I (n a) :==: I (I a)
forall c d. (c :==: d) -&gt; I c :==: I d
forall {k} {k1} (f :: k -&gt; k1) (arr :: k -&gt; k -&gt; *)
       (arr' :: k1 -&gt; k1 -&gt; *) (c :: k) (d :: k).
FunctorArrow f arr arr' =&gt;
arr c d -&gt; arr' (f c) (f d)
</span><a href="Math.Tools.Arrow.html#amap"><span class="hs-identifier hs-var">amap</span></a></span><span> </span><span class="annot"><span class="annottext">n a :==: I a
</span><a href="#local-6989586621681342856"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">(I (n a) :==: I (I a))
-&gt; ((:*:) m n a :==: I (n a)) -&gt; (:*:) m n a :==: I (I a)
forall b c a. (b :==: c) -&gt; (a :==: b) -&gt; a :==: c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">m (n a) :==: I (n a)
</span><a href="#local-6989586621681342855"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(m (n a) :==: I (n a))
-&gt; ((:*:) m n a :==: m (n a)) -&gt; (:*:) m n a :==: I (n a)
forall b c a. (b :==: c) -&gt; (a :==: b) -&gt; a :==: c
forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(:*:) m n a -&gt; m (n a)
forall {k1} {k2} (f :: k1 -&gt; *) (g :: k2 -&gt; k1) (a :: k2).
(:*:) f g a -&gt; f (g a)
</span><a href="Math.Matrix.Interface.html#cells"><span class="hs-identifier hs-var">cells</span></a></span><span> </span><span class="annot"><span class="annottext">((:*:) m n a -&gt; m (n a))
-&gt; (m (n a) -&gt; (:*:) m n a) -&gt; (:*:) m n a :==: m (n a)
forall a b. (a -&gt; b) -&gt; (b -&gt; a) -&gt; a :==: b
forall (arr :: * -&gt; * -&gt; *) a b.
BiArrow arr =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; arr a b
</span><a href="Math.Tools.Arrow.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m (n a) -&gt; (:*:) m n a
forall {k} {k1} (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; (:*:) f g a
</span><a href="Math.Matrix.Interface.html#Matrix"><span class="hs-identifier hs-var">Matrix</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span>        </span><span class="annot"><span class="annottext">m (m (n a) :==: I (n a))
forall (m :: * -&gt; *) a. Indexable m a =&gt; m (Index m a)
</span><a href="Math.Matrix.Interface.html#diagonal_projections"><span class="hs-identifier hs-var">diagonal_projections</span></a></span><span>
</span><span id="line-47"></span><span>        </span><span class="annot"><span class="annottext">n (n a :==: I a)
forall (m :: * -&gt; *) a. Indexable m a =&gt; m (Index m a)
</span><a href="Math.Matrix.Interface.html#diagonal_projections"><span class="hs-identifier hs-var">diagonal_projections</span></a></span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-comment">-- transposedIndices :: (Indexable f, Indexable g) =&gt; a -&gt; b -&gt; (g :*: f) (Index (f :*: g) a)</span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-comment">-- transposedIndices a b = fmap (. (cells &lt;-&gt; Matrix)) $ matrix (.) (diagonal_projections a) (diagonal_projections b)</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-comment">-- join_matrix :: (Indexable f, Indexable g) </span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-comment">--             =&gt; (f :*: g) ((f :*: g) b) -&gt; b -&gt; c -&gt; (f :*: g) b</span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-comment">-- join_matrix m a c = fmap (\ (Iso s p) -&gt; (s &lt;*&gt; m) &lt;-&gt; (p &lt;*&gt; m)) $</span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-comment">--                        indexable_matrix_projections a c</span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-comment">-- join_matrix m = cells (fmap cells m)</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span> </span><span id="local-6989586621681342861"><span id="local-6989586621681342862"><span class="annot"><a href="Math.Matrix.Indexable.html#apply_index"><span class="hs-identifier hs-type">apply_index</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342861"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342862"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342861"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342862"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681342861"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342862"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681342862"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-63"></span><span> </span><span id="apply_index"><span class="annot"><span class="annottext">apply_index :: forall (m :: * -&gt; *) a. Indexable m a =&gt; Index m a -&gt; m a -&gt; a
</span><a href="Math.Matrix.Indexable.html#apply_index"><span class="hs-identifier hs-var hs-var">apply_index</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Index m a -&gt; m a -&gt; a
forall (m :: * -&gt; *) a. Indexable m a =&gt; Index m a -&gt; m a -&gt; a
</span><a href="Math.Matrix.Interface.html#index_project"><span class="hs-identifier hs-var">index_project</span></a></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span> </span><span id="local-6989586621681342700"><span id="local-6989586621681342701"><span id="local-6989586621681342702"><span class="annot"><a href="Math.Matrix.Indexable.html#with"><span class="hs-identifier hs-type">with</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342700"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342701"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342700"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342701"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681342702"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681342700"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342702"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-66"></span><span> </span><span id="with"><span class="annot"><span class="annottext">with :: forall (f :: * -&gt; *) a b. Indexable f a =&gt; (Index f a -&gt; b) -&gt; f b
</span><a href="Math.Matrix.Indexable.html#with"><span class="hs-identifier hs-var hs-var">with</span></a></span></span><span> </span><span id="local-6989586621681342871"><span class="annot"><span class="annottext">Index f a -&gt; b
</span><a href="#local-6989586621681342871"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Index f a -&gt; b) -&gt; f (Index f a) -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">liftA</span></span><span> </span><span class="annot"><span class="annottext">Index f a -&gt; b
</span><a href="#local-6989586621681342871"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(f (Index f a) -&gt; f b) -&gt; f (Index f a) -&gt; f b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">f (Index f a)
forall (m :: * -&gt; *) a. Indexable m a =&gt; m (Index m a)
</span><a href="Math.Matrix.Interface.html#diagonal_projections"><span class="hs-identifier hs-var">diagonal_projections</span></a></span><span>
</span><span id="line-67"></span><span> </span><span>
</span><span id="line-68"></span><span> </span><span id="local-6989586621681342709"><span id="local-6989586621681342710"><span id="local-6989586621681342711"><span id="local-6989586621681342712"><span id="local-6989586621681342713"><span class="annot"><a href="Math.Matrix.Indexable.html#with2"><span class="hs-identifier hs-type">with2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342709"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342710"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342711"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342712"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342709"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342710"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342711"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342712"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681342713"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681342709"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">:*:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342711"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681342713"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span></span><span>
</span><span id="line-70"></span><span> </span><span id="with2"><span class="annot"><span class="annottext">with2 :: forall (f :: * -&gt; *) a (g :: * -&gt; *) b c.
(Indexable f a, Indexable g b) =&gt;
(Index f a -&gt; Index g b -&gt; c) -&gt; (:*:) f g c
</span><a href="Math.Matrix.Indexable.html#with2"><span class="hs-identifier hs-var hs-var">with2</span></a></span></span><span> </span><span id="local-6989586621681342878"><span class="annot"><span class="annottext">Index f a -&gt; Index g b -&gt; c
</span><a href="#local-6989586621681342878"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (g c) -&gt; (:*:) f g c
forall {k} {k1} (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; (:*:) f g a
</span><a href="Math.Matrix.Interface.html#Matrix"><span class="hs-identifier hs-var">Matrix</span></a></span><span> </span><span class="annot"><span class="annottext">(f (g c) -&gt; (:*:) f g c) -&gt; f (g c) -&gt; (:*:) f g c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Index f a -&gt; g c) -&gt; f (g c)
forall (f :: * -&gt; *) a b. Indexable f a =&gt; (Index f a -&gt; b) -&gt; f b
</span><a href="Math.Matrix.Indexable.html#with"><span class="hs-identifier hs-var">with</span></a></span><span> </span><span class="annot"><span class="annottext">((Index f a -&gt; g c) -&gt; f (g c)) -&gt; (Index f a -&gt; g c) -&gt; f (g c)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681342879"><span class="annot"><span class="annottext">Index f a
</span><a href="#local-6989586621681342879"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Index g b -&gt; c) -&gt; g c
forall (f :: * -&gt; *) a b. Indexable f a =&gt; (Index f a -&gt; b) -&gt; f b
</span><a href="Math.Matrix.Indexable.html#with"><span class="hs-identifier hs-var">with</span></a></span><span> </span><span class="annot"><span class="annottext">((Index g b -&gt; c) -&gt; g c) -&gt; (Index g b -&gt; c) -&gt; g c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681342880"><span class="annot"><span class="annottext">Index g b
</span><a href="#local-6989586621681342880"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Index f a -&gt; Index g b -&gt; c
</span><a href="#local-6989586621681342878"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Index f a
</span><a href="#local-6989586621681342879"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Index g b
</span><a href="#local-6989586621681342880"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span> </span><span id="local-6989586621681342719"><span id="local-6989586621681342720"><span id="local-6989586621681342721"><span id="local-6989586621681342722"><span id="local-6989586621681342723"><span id="local-6989586621681342724"><span id="local-6989586621681342725"><span class="annot"><a href="Math.Matrix.Indexable.html#with3"><span class="hs-identifier hs-type">with3</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342719"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342720"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342721"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342722"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342723"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342724"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342719"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342720"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342721"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342722"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342723"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342724"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681342725"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681342719"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">:*:</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681342721"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">:*:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342723"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681342725"><span class="hs-identifier hs-type">d</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-74"></span><span> </span><span id="with3"><span class="annot"><span class="annottext">with3 :: forall (f :: * -&gt; *) a (g :: * -&gt; *) b (h :: * -&gt; *) c d.
(Indexable f a, Indexable g b, Indexable h c) =&gt;
(Index f a -&gt; Index g b -&gt; Index h c -&gt; d) -&gt; (:*:) f (g :*: h) d
</span><a href="Math.Matrix.Indexable.html#with3"><span class="hs-identifier hs-var hs-var">with3</span></a></span></span><span> </span><span id="local-6989586621681342888"><span class="annot"><span class="annottext">Index f a -&gt; Index g b -&gt; Index h c -&gt; d
</span><a href="#local-6989586621681342888"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f ((:*:) g h d) -&gt; (:*:) f (g :*: h) d
forall {k} {k1} (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; (:*:) f g a
</span><a href="Math.Matrix.Interface.html#Matrix"><span class="hs-identifier hs-var">Matrix</span></a></span><span> </span><span class="annot"><span class="annottext">(f ((:*:) g h d) -&gt; (:*:) f (g :*: h) d)
-&gt; f ((:*:) g h d) -&gt; (:*:) f (g :*: h) d
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Index f a -&gt; (:*:) g h d) -&gt; f ((:*:) g h d)
forall (f :: * -&gt; *) a b. Indexable f a =&gt; (Index f a -&gt; b) -&gt; f b
</span><a href="Math.Matrix.Indexable.html#with"><span class="hs-identifier hs-var">with</span></a></span><span> </span><span class="annot"><span class="annottext">((Index f a -&gt; (:*:) g h d) -&gt; f ((:*:) g h d))
-&gt; (Index f a -&gt; (:*:) g h d) -&gt; f ((:*:) g h d)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681342889"><span class="annot"><span class="annottext">Index f a
</span><a href="#local-6989586621681342889"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">g (h d) -&gt; (:*:) g h d
forall {k} {k1} (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; (:*:) f g a
</span><a href="Math.Matrix.Interface.html#Matrix"><span class="hs-identifier hs-var">Matrix</span></a></span><span> </span><span class="annot"><span class="annottext">(g (h d) -&gt; (:*:) g h d) -&gt; g (h d) -&gt; (:*:) g h d
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-75"></span><span>                    </span><span class="annot"><span class="annottext">(Index g b -&gt; h d) -&gt; g (h d)
forall (f :: * -&gt; *) a b. Indexable f a =&gt; (Index f a -&gt; b) -&gt; f b
</span><a href="Math.Matrix.Indexable.html#with"><span class="hs-identifier hs-var">with</span></a></span><span> </span><span class="annot"><span class="annottext">((Index g b -&gt; h d) -&gt; g (h d)) -&gt; (Index g b -&gt; h d) -&gt; g (h d)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681342890"><span class="annot"><span class="annottext">Index g b
</span><a href="#local-6989586621681342890"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-76"></span><span>                    </span><span class="annot"><span class="annottext">(Index h c -&gt; d) -&gt; h d
forall (f :: * -&gt; *) a b. Indexable f a =&gt; (Index f a -&gt; b) -&gt; f b
</span><a href="Math.Matrix.Indexable.html#with"><span class="hs-identifier hs-var">with</span></a></span><span> </span><span class="annot"><span class="annottext">((Index h c -&gt; d) -&gt; h d) -&gt; (Index h c -&gt; d) -&gt; h d
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681342891"><span class="annot"><span class="annottext">Index h c
</span><a href="#local-6989586621681342891"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Index f a -&gt; Index g b -&gt; Index h c -&gt; d
</span><a href="#local-6989586621681342888"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Index f a
</span><a href="#local-6989586621681342889"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Index g b
</span><a href="#local-6989586621681342890"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Index h c
</span><a href="#local-6989586621681342891"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-comment">-- kronecker_delta :: (forall b. (Eq b) =&gt; Indexable f b, Num a) =&gt; (f :*: f) a</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-comment">-- kronecker_delta = matrix (\i j -&gt; if i == j then 1 else 0) indexable_indices indexable_indices</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span> </span><span id="local-6989586621681342733"><span class="annot"><a href="Math.Matrix.Indexable.html#equal_indices"><span class="hs-identifier hs-type">equal_indices</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342733"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342733"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342733"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-82"></span><span> </span><span id="equal_indices"><span class="annot"><span class="annottext">equal_indices :: forall (f :: * -&gt; *).
Indexable f Int =&gt;
Index f Int -&gt; Index f Int -&gt; Bool
</span><a href="Math.Matrix.Indexable.html#equal_indices"><span class="hs-identifier hs-var hs-var">equal_indices</span></a></span></span><span> </span><span id="local-6989586621681342900"><span class="annot"><span class="annottext">Index f Int
</span><a href="#local-6989586621681342900"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681342901"><span class="annot"><span class="annottext">Index f Int
</span><a href="#local-6989586621681342901"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Index f Int
</span><a href="#local-6989586621681342900"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Index f Int -&gt; f Int -&gt; Int
forall (m :: * -&gt; *) a. Indexable m a =&gt; Index m a -&gt; m a -&gt; a
</span><a href="Math.Matrix.Interface.html#index_project"><span class="hs-operator hs-var">`index_project`</span></a></span><span> </span><span class="annot"><span class="annottext">f Int
forall (m :: * -&gt; *) a. Indexable m a =&gt; m a
</span><a href="Math.Matrix.Interface.html#indexable_indices"><span class="hs-identifier hs-var">indexable_indices</span></a></span><span>
</span><span id="line-83"></span><span>                   </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Index f Int
</span><a href="#local-6989586621681342901"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Index f Int -&gt; f Int -&gt; Int
forall (m :: * -&gt; *) a. Indexable m a =&gt; Index m a -&gt; m a -&gt; a
</span><a href="Math.Matrix.Interface.html#index_project"><span class="hs-operator hs-var">`index_project`</span></a></span><span> </span><span class="annot"><span class="annottext">f Int
forall (m :: * -&gt; *) a. Indexable m a =&gt; m a
</span><a href="Math.Matrix.Interface.html#indexable_indices"><span class="hs-identifier hs-var">indexable_indices</span></a></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span> </span><span id="local-6989586621681342736"><span id="local-6989586621681342737"><span class="annot"><a href="Math.Matrix.Indexable.html#sum_indices"><span class="hs-identifier hs-type">sum_indices</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621681342736"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342736"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342737"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681342737"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681342736"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="Math.Matrix.Interface.html#%3A%2A%3A"><span class="hs-operator hs-type">:*:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681342736"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681342737"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681342737"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-86"></span><span> </span><span id="sum_indices"><span class="annot"><span class="annottext">sum_indices :: forall (f :: * -&gt; *) b.
(Foldable f, Indexable f b, Num b) =&gt;
(:*:) f f b -&gt; b
</span><a href="Math.Matrix.Indexable.html#sum_indices"><span class="hs-identifier hs-var hs-var">sum_indices</span></a></span></span><span> </span><span id="local-6989586621681342915"><span class="annot"><span class="annottext">(:*:) f f b
</span><a href="#local-6989586621681342915"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; b
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><a href="Math.Matrix.Interface.html#sum_coordinates"><span class="hs-identifier hs-var">sum_coordinates</span></a></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; b) -&gt; f b -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Index f b -&gt; b) -&gt; f b
forall (f :: * -&gt; *) a b. Indexable f a =&gt; (Index f a -&gt; b) -&gt; f b
</span><a href="Math.Matrix.Indexable.html#with"><span class="hs-identifier hs-var">with</span></a></span><span> </span><span class="annot"><span class="annottext">((Index f b -&gt; b) -&gt; f b) -&gt; (Index f b -&gt; b) -&gt; f b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681342917"><span class="annot"><span class="annottext">Index f b
</span><a href="#local-6989586621681342917"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-87"></span><span>     </span><span class="annot"><span class="annottext">(:*:) f f b
</span><a href="#local-6989586621681342915"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(:*:) f f b -&gt; (f b -&gt; b, f b -&gt; b) -&gt; b
forall (f :: * -&gt; *) (g :: * -&gt; *) a c b.
(Functor f, Functor g) =&gt;
(:*:) g f a -&gt; (g c -&gt; b, f a -&gt; c) -&gt; b
</span><a href="Math.Matrix.Interface.html#%3C%21%3E"><span class="hs-operator hs-var">&lt;!&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index f b -&gt; f b -&gt; b
forall (m :: * -&gt; *) a. Indexable m a =&gt; Index m a -&gt; m a -&gt; a
</span><a href="Math.Matrix.Interface.html#index_project"><span class="hs-identifier hs-var">index_project</span></a></span><span> </span><span class="annot"><span class="annottext">Index f b
</span><a href="#local-6989586621681342917"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Index f b -&gt; f b -&gt; b
forall (m :: * -&gt; *) a. Indexable m a =&gt; Index m a -&gt; m a -&gt; a
</span><a href="Math.Matrix.Interface.html#index_project"><span class="hs-identifier hs-var">index_project</span></a></span><span> </span><span class="annot"><span class="annottext">Index f b
</span><a href="#local-6989586621681342917"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span></pre></body></html>